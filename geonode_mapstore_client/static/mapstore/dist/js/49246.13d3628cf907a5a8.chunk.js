/*! For license information please see 49246.13d3628cf907a5a8.chunk.js.LICENSE.txt */
(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[49246],{967197:(e,t)=>{var i,n,r,o,s,a,l,c,u,d,h,p,f;n={defaultNoDataValue:-34027999387901484e22,decode:function(e,t){var i=(t=t||{}).encodedMaskData||null===t.encodedMaskData,l=a(e,t.inputOffset||0,i),c=null!==t.noDataValue?t.noDataValue:n.defaultNoDataValue,u=r(l,t.pixelType||Float32Array,t.encodedMaskData,c,t.returnMask),d={width:l.width,height:l.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:l.pixels.maxValue,noDataValue:c};return u.resultMask&&(d.maskData=u.resultMask),t.returnEncodedMask&&l.mask&&(d.encodedMaskData=l.mask.bitset?l.mask.bitset:null),t.returnFileInfo&&(d.fileInfo=o(l),t.computeUsedBitDepths&&(d.fileInfo.bitDepths=s(l))),d}},r=function(e,t,i,n,r){var o,s,a,c=0,u=e.pixels.numBlocksX,d=e.pixels.numBlocksY,h=Math.floor(e.width/u),p=Math.floor(e.height/d),f=2*e.maxZError,m=Number.MAX_VALUE;i=i||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),r&&i&&(a=new Uint8Array(e.width*e.height));for(var g,_,y=new Float32Array(h*p),Z=0;Z<=d;Z++){var v=Z!==d?p:e.height%d;if(0!==v)for(var b=0;b<=u;b++){var w=b!==u?h:e.width%u;if(0!==w){var x,C,S,T,P=Z*e.width*p+b*h,M=e.width-w,A=e.pixels.blocks[c];if(A.encoding<2?(0===A.encoding?x=A.rawData:(l(A.stuffedData,A.bitsPerPixel,A.numValidPixels,A.offset,f,y,e.pixels.maxValue),x=y),C=0):S=2===A.encoding?0:A.offset,i)for(_=0;_<v;_++){for(7&P&&(T=i[P>>3],T<<=7&P),g=0;g<w;g++)7&P||(T=i[P>>3]),128&T?(a&&(a[P]=1),m=m>(o=A.encoding<2?x[C++]:S)?o:m,s[P++]=o):(a&&(a[P]=0),s[P++]=n),T<<=1;P+=M}else if(A.encoding<2)for(_=0;_<v;_++){for(g=0;g<w;g++)m=m>(o=x[C++])?o:m,s[P++]=o;P+=M}else for(m=m>S?S:m,_=0;_<v;_++){for(g=0;g<w;g++)s[P++]=S;P+=M}if(1===A.encoding&&C!==A.numValidPixels)throw"Block and Mask do not match";c++}}}return{resultPixels:s,resultMask:a,minValue:m}},o=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},s=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,i={},n=0;n<t;n++){var r=e.pixels.blocks[n];0===r.encoding?i.float32=!0:1===r.encoding?i[r.bitsPerPixel]=!0:i[0]=!0}return Object.keys(i)},a=function(e,t,i){var n={},r=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,r),"CntZImage"!==n.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+=10;var o=new DataView(e,t,24);if(n.fileVersion=o.getInt32(0,!0),n.imageType=o.getInt32(4,!0),n.height=o.getUint32(8,!0),n.width=o.getUint32(12,!0),n.maxZError=o.getFloat64(16,!0),t+=24,!i)if(o=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=o.getUint32(0,!0),n.mask.numBlocksX=o.getUint32(4,!0),n.mask.numBytes=o.getUint32(8,!0),n.mask.maxValue=o.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var s=new Uint8Array(Math.ceil(n.width*n.height/8)),a=(o=new DataView(e,t,n.mask.numBytes)).getInt16(0,!0),l=2,c=0;do{if(a>0)for(;a--;)s[c++]=o.getUint8(l++);else{var u=o.getUint8(l++);for(a=-a;a--;)s[c++]=u}a=o.getInt16(l,!0),l+=2}while(l<n.mask.numBytes);if(-32768!==a||c<s.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset=s,t+=n.mask.numBytes}else 0===(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)&&(n.mask.bitset=new Uint8Array(Math.ceil(n.width*n.height/8)));o=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=o.getUint32(0,!0),n.pixels.numBlocksX=o.getUint32(4,!0),n.pixels.numBytes=o.getUint32(8,!0),n.pixels.maxValue=o.getFloat32(12,!0),t+=16;var d=n.pixels.numBlocksX,h=n.pixels.numBlocksY,p=d+(n.width%d>0?1:0),f=h+(n.height%h>0?1:0);n.pixels.blocks=new Array(p*f);for(var m=0,g=0;g<f;g++)for(var _=0;_<p;_++){var y=0,Z=e.byteLength-t;o=new DataView(e,t,Math.min(10,Z));var v={};n.pixels.blocks[m++]=v;var b=o.getUint8(0);if(y++,v.encoding=63&b,v.encoding>3)throw"Invalid block encoding ("+v.encoding+")";if(2!==v.encoding){if(0!==b&&2!==b){if(b>>=6,v.offsetType=b,2===b)v.offset=o.getInt8(1),y++;else if(1===b)v.offset=o.getInt16(1,!0),y+=2;else{if(0!==b)throw"Invalid block offset type";v.offset=o.getFloat32(1,!0),y+=4}if(1===v.encoding)if(b=o.getUint8(y),y++,v.bitsPerPixel=63&b,b>>=6,v.numValidPixelsType=b,2===b)v.numValidPixels=o.getUint8(y),y++;else if(1===b)v.numValidPixels=o.getUint16(y,!0),y+=2;else{if(0!==b)throw"Invalid valid pixel count type";v.numValidPixels=o.getUint32(y,!0),y+=4}}var w;if(t+=y,3!==v.encoding)if(0===v.encoding){var x=(n.pixels.numBytes-1)/4;if(x!==Math.floor(x))throw"uncompressed block has invalid length";w=new ArrayBuffer(4*x),new Uint8Array(w).set(new Uint8Array(e,t,4*x));var C=new Float32Array(w);v.rawData=C,t+=4*x}else if(1===v.encoding){var S=Math.ceil(v.numValidPixels*v.bitsPerPixel/8),T=Math.ceil(S/4);w=new ArrayBuffer(4*T),new Uint8Array(w).set(new Uint8Array(e,t,S)),v.stuffedData=new Uint32Array(w),t+=S}}else t++}return n.eofOffset=t,n},l=function(e,t,i,n,r,o,s){var a,l,c,u=(1<<t)-1,d=0,h=0,p=Math.ceil((s-n)/r),f=4*e.length-Math.ceil(t*i/8);for(e[e.length-1]<<=8*f,a=0;a<i;a++){if(0===h&&(c=e[d++],h=32),h>=t)l=c>>>h-t&u,h-=t;else{var m=t-h;l=(c&u)<<m&u,l+=(c=e[d++])>>>(h=32-m)}o[a]=l<p?n+l*r:s}return o},d=n,h=function(){"use strict";var e=function(e,t,i,n,r,o,s,a){var l,c,u,d,h,p=(1<<i)-1,f=0,m=0,g=4*e.length-Math.ceil(i*n/8);if(e[e.length-1]<<=8*g,r)for(l=0;l<n;l++)0===m&&(u=e[f++],m=32),m>=i?(c=u>>>m-i&p,m-=i):(c=(u&p)<<(d=i-m)&p,c+=(u=e[f++])>>>(m=32-d)),t[l]=r[c];else for(h=Math.ceil((a-o)/s),l=0;l<n;l++)0===m&&(u=e[f++],m=32),m>=i?(c=u>>>m-i&p,m-=i):(c=(u&p)<<(d=i-m)&p,c+=(u=e[f++])>>>(m=32-d)),t[l]=c<h?o+c*s:a},t=function(e,t,i,n,r,o,s,a){var l,c,u,d,h=(1<<i)-1,p=0,f=0,m=0;if(r)for(l=0;l<n;l++)0===f&&(u=e[p++],f=32,m=0),f>=i?(c=u>>>m&h,f-=i,m+=i):(c=u>>>m&h,f=32-(d=i-f),c|=((u=e[p++])&(1<<d)-1)<<i-d,m=d),t[l]=r[c];else{var g=Math.ceil((a-o)/s);for(l=0;l<n;l++)0===f&&(u=e[p++],f=32,m=0),f>=i?(c=u>>>m&h,f-=i,m+=i):(c=u>>>m&h,f=32-(d=i-f),c|=((u=e[p++])&(1<<d)-1)<<i-d,m=d),t[l]=c<g?o+c*s:a}return t},i={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,i=65535,n=e.length,r=Math.floor(n/2),o=0;r;){var s=r>=359?359:r;r-=s;do{t+=e[o++]<<8,i+=t+=e[o++]}while(--s);t=(65535&t)+(t>>>16),i=(65535&i)+(i>>>16)}return 1&n&&(i+=t+=e[o]<<8),((i=(65535&i)+(i>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var i=t.ptr,n=new Uint8Array(e,i,6),r={};if(r.fileIdentifierString=String.fromCharCode.apply(null,n),0!==r.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+r.fileIdentifierString;i+=6;var o,s=new DataView(e,i,8),a=s.getInt32(0,!0);if(r.fileVersion=a,i+=4,a>=3&&(r.checksum=s.getUint32(4,!0),i+=4),s=new DataView(e,i,12),r.height=s.getUint32(0,!0),r.width=s.getUint32(4,!0),i+=8,a>=4?(r.numDims=s.getUint32(8,!0),i+=4):r.numDims=1,s=new DataView(e,i,40),r.numValidPixel=s.getUint32(0,!0),r.microBlockSize=s.getInt32(4,!0),r.blobSize=s.getInt32(8,!0),r.imageType=s.getInt32(12,!0),r.maxZError=s.getFloat64(16,!0),r.zMin=s.getFloat64(24,!0),r.zMax=s.getFloat64(32,!0),i+=40,t.headerInfo=r,t.ptr=i,a>=3&&(o=a>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,i-o,r.blobSize-14))!==r.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var i=t.headerInfo,n=this.getDataTypeArray(i.imageType),r=i.numDims*this.getDataTypeSize(i.imageType),o=this.readSubArray(e,t.ptr,n,r),s=this.readSubArray(e,t.ptr+r,n,r);t.ptr+=2*r;var a,l=!0;for(a=0;a<i.numDims;a++)if(o[a]!==s[a]){l=!1;break}return i.minValues=o,i.maxValues=s,l},readSubArray:function(e,t,i,n){var r;if(i===Uint8Array)r=new Uint8Array(e,t,n);else{var o=new ArrayBuffer(n);new Uint8Array(o).set(new Uint8Array(e,t,n)),r=new i(o)}return r},readMask:function(e,t){var i,n,r=t.ptr,o=t.headerInfo,s=o.width*o.height,a=o.numValidPixel,l=new DataView(e,r,4),c={};if(c.numBytes=l.getUint32(0,!0),r+=4,(0===a||s===a)&&0!==c.numBytes)throw"invalid mask";if(0===a)i=new Uint8Array(Math.ceil(s/8)),c.bitset=i,n=new Uint8Array(s),t.pixels.resultMask=n,r+=c.numBytes;else if(c.numBytes>0){i=new Uint8Array(Math.ceil(s/8));var u=(l=new DataView(e,r,c.numBytes)).getInt16(0,!0),d=2,h=0,p=0;do{if(u>0)for(;u--;)i[h++]=l.getUint8(d++);else for(p=l.getUint8(d++),u=-u;u--;)i[h++]=p;u=l.getInt16(d,!0),d+=2}while(d<c.numBytes);if(-32768!==u||h<i.length)throw"Unexpected end of mask RLE encoding";n=new Uint8Array(s);var f=0,m=0;for(m=0;m<s;m++)7&m?(f=i[m>>3],f<<=7&m):f=i[m>>3],128&f&&(n[m]=1);t.pixels.resultMask=n,c.bitset=i,r+=c.numBytes}return t.ptr=r,t.mask=c,!0},readDataOneSweep:function(e,t,n){var r,o=t.ptr,s=t.headerInfo,a=s.numDims,l=s.width*s.height,c=s.imageType,u=s.numValidPixel*i.getDataTypeSize(c)*a,d=t.pixels.resultMask;if(n===Uint8Array)r=new Uint8Array(e,o,u);else{var h=new ArrayBuffer(u);new Uint8Array(h).set(new Uint8Array(e,o,u)),r=new n(h)}if(r.length===l*a)t.pixels.resultPixels=r;else{t.pixels.resultPixels=new n(l*a);var p=0,f=0,m=0,g=0;if(a>1)for(m=0;m<a;m++)for(g=m*l,f=0;f<l;f++)d[f]&&(t.pixels.resultPixels[g+f]=r[p++]);else for(f=0;f<l;f++)d[f]&&(t.pixels.resultPixels[f]=r[p++])}return o+=u,t.ptr=o,!0},readHuffmanTree:function(e,t){var r=this.HUFFMAN_LUT_BITS_MAX,o=new DataView(e,t.ptr,16);if(t.ptr+=16,o.getInt32(0,!0)<2)throw"unsupported Huffman version";var s=o.getInt32(4,!0),a=o.getInt32(8,!0),l=o.getInt32(12,!0);if(a>=l)return!1;var c=new Uint32Array(l-a);i.decodeBits(e,t,c);var u,d,h,p,f=[];for(u=a;u<l;u++)f[d=u-(u<s?0:s)]={first:c[u-a],second:null};var m=e.byteLength-t.ptr,g=Math.ceil(m/4),_=new ArrayBuffer(4*g);new Uint8Array(_).set(new Uint8Array(e,t.ptr,m));var y,Z=new Uint32Array(_),v=0,b=0;for(y=Z[0],u=a;u<l;u++)(p=f[d=u-(u<s?0:s)].first)>0&&(f[d].second=y<<v>>>32-p,32-v>=p?32===(v+=p)&&(v=0,y=Z[++b]):(v+=p-32,y=Z[++b],f[d].second|=y>>>32-v));var w,x=0,C=new n;for(u=0;u<f.length;u++)void 0!==f[u]&&(x=Math.max(x,f[u].first));w=x>=r?r:x,x>=30&&console.log("WARning, large NUM LUT BITS IS "+x);var S,T,P,M,A,E=[];for(u=a;u<l;u++)if((p=f[d=u-(u<s?0:s)].first)>0)if(S=[p,d],p<=w)for(T=f[d].second<<w-p,P=1<<w-p,h=0;h<P;h++)E[T|h]=S;else for(T=f[d].second,A=C,M=p-1;M>=0;M--)T>>>M&1?(A.right||(A.right=new n),A=A.right):(A.left||(A.left=new n),A=A.left),0!==M||A.val||(A.val=S[1]);return{decodeLut:E,numBitsLUTQick:w,numBitsLUT:x,tree:C,stuffedData:Z,srcPtr:b,bitPos:v}},readHuffman:function(e,t,i){var n,r,o,s,a,l,c,u,d,h=t.headerInfo,p=h.numDims,f=t.headerInfo.height,m=t.headerInfo.width,g=m*f,_=this.readHuffmanTree(e,t),y=_.decodeLut,Z=_.tree,v=_.stuffedData,b=_.srcPtr,w=_.bitPos,x=_.numBitsLUTQick,C=_.numBitsLUT,S=0===t.headerInfo.imageType?128:0,T=t.pixels.resultMask,P=0;w>0&&(b++,w=0);var M,A=v[b],E=1===t.encodeMode,k=new i(g*p),I=k;for(M=0;M<h.numDims;M++){if(p>1&&(I=new i(k.buffer,g*M,g),P=0),t.headerInfo.numValidPixel===m*f)for(u=0,l=0;l<f;l++)for(c=0;c<m;c++,u++){if(r=0,a=s=A<<w>>>32-x,32-w<x&&(a=s|=v[b+1]>>>64-w-x),y[a])r=y[a][1],w+=y[a][0];else for(a=s=A<<w>>>32-C,32-w<C&&(a=s|=v[b+1]>>>64-w-C),n=Z,d=0;d<C;d++)if(!(n=s>>>C-d-1&1?n.right:n.left).left&&!n.right){r=n.val,w=w+d+1;break}w>=32&&(w-=32,A=v[++b]),o=r-S,E?(o+=c>0?P:l>0?I[u-m]:P,o&=255,I[u]=o,P=o):I[u]=o}else for(u=0,l=0;l<f;l++)for(c=0;c<m;c++,u++)if(T[u]){if(r=0,a=s=A<<w>>>32-x,32-w<x&&(a=s|=v[b+1]>>>64-w-x),y[a])r=y[a][1],w+=y[a][0];else for(a=s=A<<w>>>32-C,32-w<C&&(a=s|=v[b+1]>>>64-w-C),n=Z,d=0;d<C;d++)if(!(n=s>>>C-d-1&1?n.right:n.left).left&&!n.right){r=n.val,w=w+d+1;break}w>=32&&(w-=32,A=v[++b]),o=r-S,E?(c>0&&T[u-1]?o+=P:l>0&&T[u-m]?o+=I[u-m]:o+=P,o&=255,I[u]=o,P=o):I[u]=o}t.ptr=t.ptr+4*(b+1)+(w>0?4:0)}t.pixels.resultPixels=k},decodeBits:function(i,n,r,o,s){var a=n.headerInfo,l=a.fileVersion,c=0,u=new DataView(i,n.ptr,5),d=u.getUint8(0);c++;var h=d>>6,p=0===h?4:3-h,f=(32&d)>0,m=31&d,g=0;if(1===p)g=u.getUint8(c),c++;else if(2===p)g=u.getUint16(c,!0),c+=2;else{if(4!==p)throw"Invalid valid pixel count type";g=u.getUint32(c,!0),c+=4}var _,y,Z,v,b,w,x,C,S,T=2*a.maxZError,P=a.numDims>1?a.maxValues[s]:a.zMax;if(f){for(n.counter.lut++,C=u.getUint8(c),c++,v=Math.ceil((C-1)*m/8),b=Math.ceil(v/4),y=new ArrayBuffer(4*b),Z=new Uint8Array(y),n.ptr+=c,Z.set(new Uint8Array(i,n.ptr,v)),x=new Uint32Array(y),n.ptr+=v,S=0;C-1>>>S;)S++;v=Math.ceil(g*S/8),b=Math.ceil(v/4),y=new ArrayBuffer(4*b),(Z=new Uint8Array(y)).set(new Uint8Array(i,n.ptr,v)),_=new Uint32Array(y),n.ptr+=v,w=l>=3?function(e,t,i,n,r,o){var s,a=(1<<t)-1,l=0,c=0,u=0,d=0,h=0,p=0,f=[],m=Math.ceil((o-n)/r);for(c=0;c<i;c++)0===d&&(s=e[l++],d=32,p=0),d>=t?(h=s>>>p&a,d-=t,p+=t):(h=s>>>p&a,d=32-(u=t-d),h|=((s=e[l++])&(1<<u)-1)<<t-u,p=u),f[c]=h<m?n+h*r:o;return f.unshift(n),f}(x,m,C-1,o,T,P):function(e,t,i,n,r,o){var s,a=(1<<t)-1,l=0,c=0,u=0,d=0,h=0,p=[],f=4*e.length-Math.ceil(t*i/8);e[e.length-1]<<=8*f;var m=Math.ceil((o-n)/r);for(c=0;c<i;c++)0===d&&(s=e[l++],d=32),d>=t?(h=s>>>d-t&a,d-=t):(h=(s&a)<<(u=t-d)&a,h+=(s=e[l++])>>>(d=32-u)),p[c]=h<m?n+h*r:o;return p.unshift(n),p}(x,m,C-1,o,T,P),l>=3?t(_,r,S,g,w):e(_,r,S,g,w)}else n.counter.bitstuffer++,S=m,n.ptr+=c,S>0&&(v=Math.ceil(g*S/8),b=Math.ceil(v/4),y=new ArrayBuffer(4*b),(Z=new Uint8Array(y)).set(new Uint8Array(i,n.ptr,v)),_=new Uint32Array(y),n.ptr+=v,l>=3?null==o?function(e,t,i,n){var r,o,s,a,l=(1<<i)-1,c=0,u=0,d=0;for(r=0;r<n;r++)0===u&&(s=e[c++],u=32,d=0),u>=i?(o=s>>>d&l,u-=i,d+=i):(o=s>>>d&l,u=32-(a=i-u),o|=((s=e[c++])&(1<<a)-1)<<i-a,d=a),t[r]=o}(_,r,S,g):t(_,r,S,g,!1,o,T,P):null==o?function(e,t,i,n){var r,o,s,a,l=(1<<i)-1,c=0,u=0,d=4*e.length-Math.ceil(i*n/8);for(e[e.length-1]<<=8*d,r=0;r<n;r++)0===u&&(s=e[c++],u=32),u>=i?(o=s>>>u-i&l,u-=i):(o=(s&l)<<(a=i-u)&l,o+=(s=e[c++])>>>(u=32-a)),t[r]=o}(_,r,S,g):e(_,r,S,g,!1,o,T,P))},readTiles:function(e,t,n){var r=t.headerInfo,o=r.width,s=r.height,a=r.microBlockSize,l=r.imageType,c=i.getDataTypeSize(l),u=Math.ceil(o/a),d=Math.ceil(s/a);t.pixels.numBlocksY=d,t.pixels.numBlocksX=u,t.pixels.ptr=0;var h,p,f,m,g,_,y,Z,v=0,b=0,w=0,x=0,C=0,S=0,T=0,P=0,M=0,A=0,E=0,k=0,I=0,O=0,R=0,B=new n(a*a),D=s%a||a,F=o%a||a,L=r.numDims,V=t.pixels.resultMask,N=t.pixels.resultPixels;for(w=0;w<d;w++)for(C=w!==d-1?a:D,x=0;x<u;x++)for(A=w*o*a+x*a,E=o-(S=x!==u-1?a:F),Z=0;Z<L;Z++){if(L>1&&(N=new n(t.pixels.resultPixels.buffer,o*s*Z*c,o*s)),T=e.byteLength-t.ptr,p={},R=0,R++,M=(P=(h=new DataView(e,t.ptr,Math.min(10,T))).getUint8(0))>>6&255,(P>>2&15)!=(x*a>>3&15))throw"integrity issue";if((g=3&P)>3)throw t.ptr+=R,"Invalid block encoding ("+g+")";if(2!==g)if(0===g){if(t.counter.uncompressed++,t.ptr+=R,k=(k=C*S*c)<(I=e.byteLength-t.ptr)?k:I,f=new ArrayBuffer(k%c===0?k:k+c-k%c),new Uint8Array(f).set(new Uint8Array(e,t.ptr,k)),m=new n(f),O=0,V)for(v=0;v<C;v++){for(b=0;b<S;b++)V[A]&&(N[A]=m[O++]),A++;A+=E}else for(v=0;v<C;v++){for(b=0;b<S;b++)N[A++]=m[O++];A+=E}t.ptr+=O*c}else if(_=i.getDataTypeUsed(l,M),y=i.getOnePixel(p,R,_,h),R+=i.getDataTypeSize(_),3===g)if(t.ptr+=R,t.counter.constantoffset++,V)for(v=0;v<C;v++){for(b=0;b<S;b++)V[A]&&(N[A]=y),A++;A+=E}else for(v=0;v<C;v++){for(b=0;b<S;b++)N[A++]=y;A+=E}else if(t.ptr+=R,i.decodeBits(e,t,B,y,Z),R=0,V)for(v=0;v<C;v++){for(b=0;b<S;b++)V[A]&&(N[A]=B[R++]),A++;A+=E}else for(v=0;v<C;v++){for(b=0;b<S;b++)N[A++]=B[R++];A+=E}else t.counter.constant++,t.ptr+=R}},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:i.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e){var t=e.headerInfo.zMax,i=e.headerInfo.numDims,n=e.headerInfo.height*e.headerInfo.width,r=n*i,o=0,s=0,a=0,l=e.pixels.resultMask;if(l)if(i>1)for(o=0;o<i;o++)for(a=o*n,s=0;s<n;s++)l[s]&&(e.pixels.resultPixels[a+s]=t);else for(s=0;s<n;s++)l[s]&&(e.pixels.resultPixels[s]=t);else if(e.pixels.resultPixels.fill)e.pixels.resultPixels.fill(t);else for(s=0;s<r;s++)e.pixels.resultPixels[s]=t},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:default:t=Float32Array;break;case 7:t=Float64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:default:t="F32";break;case 7:t="F64"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var i;switch(e){case 0:i=t>=-128&&t<=127;break;case 1:i=t>=0&&t<=255;break;case 2:i=t>=-32768&&t<=32767;break;case 3:i=t>=0&&t<=65536;break;case 4:i=t>=-2147483648&&t<=2147483647;break;case 5:i=t>=0&&t<=4294967296;break;case 6:i=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:i=t>=5e-324&&t<=17976931348623157e292;break;default:i=!1}return i},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var i=e;switch(e){case 2:case 4:i=e-t;break;case 3:case 5:i=e-2*t;break;case 6:i=0===t?e:1===t?2:1;break;case 7:i=0===t?e:e-2*t+1;break;default:i=e}return i},getOnePixel:function(e,t,i,n){var r=0;switch(i){case 0:r=n.getInt8(t);break;case 1:r=n.getUint8(t);break;case 2:r=n.getInt16(t,!0);break;case 3:r=n.getUint16(t,!0);break;case 4:r=n.getInt32(t,!0);break;case 5:r=n.getUInt32(t,!0);break;case 6:r=n.getFloat32(t,!0);break;case 7:r=n.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return r}},n=function(e,t,i){this.val=e,this.left=t,this.right=i};return{decode:function(e,t){var n=(t=t||{}).noDataValue,r=0,o={};if(o.ptr=t.inputOffset||0,o.pixels={},i.readHeaderInfo(e,o)){var s=o.headerInfo,a=s.fileVersion,l=i.getDataTypeArray(s.imageType);i.readMask(e,o),s.numValidPixel===s.width*s.height||o.pixels.resultMask||(o.pixels.resultMask=t.maskData);var c,u=s.width*s.height;if(o.pixels.resultPixels=new l(u*s.numDims),o.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0},0!==s.numValidPixel)if(s.zMax===s.zMin)i.constructConstantSurface(o);else if(a>=4&&i.checkMinMaxRanges(e,o))i.constructConstantSurface(o);else{var d=new DataView(e,o.ptr,2),h=d.getUint8(0);if(o.ptr++,h)i.readDataOneSweep(e,o,l);else if(a>1&&s.imageType<=1&&Math.abs(s.maxZError-.5)<1e-5){var p=d.getUint8(1);if(o.ptr++,o.encodeMode=p,p>2||a<4&&p>1)throw"Invalid Huffman flag "+p;p?i.readHuffman(e,o,l):i.readTiles(e,o,l)}else i.readTiles(e,o,l)}o.eofOffset=o.ptr,t.inputOffset?(c=o.headerInfo.blobSize+t.inputOffset-o.ptr,Math.abs(c)>=1&&(o.eofOffset=t.inputOffset+o.headerInfo.blobSize)):(c=o.headerInfo.blobSize-o.ptr,Math.abs(c)>=1&&(o.eofOffset=o.headerInfo.blobSize));var f={width:s.width,height:s.height,pixelData:o.pixels.resultPixels,minValue:s.zMin,maxValue:s.zMax,validPixelCount:s.numValidPixel,dimCount:s.numDims,dimStats:{minValues:s.minValues,maxValues:s.maxValues},maskData:o.pixels.resultMask};if(o.pixels.resultMask&&i.isValidPixelValue(s.imageType,n)){var m=o.pixels.resultMask;for(r=0;r<u;r++)m[r]||(f.pixelData[r]=n);f.noDataValue=n}return o.noDataValue=n,t.returnFileInfo&&(f.fileInfo=i.formatFileInfo(o)),f}},getBandCount:function(e){for(var t=0,n=0,r={ptr:0,pixels:{}};n<e.byteLength-58;)i.readHeaderInfo(e,r),n+=r.headerInfo.blobSize,t++,r.ptr=n;return t}}}(),c=new ArrayBuffer(4),u=new Uint8Array(c),new Uint32Array(c)[0]=1,p=1===u[0],f={decode:function(e,t){if(!p)throw"Big endian system is not supported.";var i,n,r=(t=t||{}).inputOffset||0,o=new Uint8Array(e,r,10),s=String.fromCharCode.apply(null,o);if("CntZImage"===s.trim())i=d,n=1;else{if("Lerc2"!==s.substring(0,5))throw"Unexpected file identifier string: "+s;i=h,n=2}for(var a,l,c,u,f,m,g=0,_=e.byteLength-10,y=[],Z={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]};r<_;){var v=i.decode(e,{inputOffset:r,encodedMaskData:a,maskData:c,returnMask:0===g,returnEncodedMask:0===g,returnFileInfo:!0,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});r=v.fileInfo.eofOffset,0===g&&(a=v.encodedMaskData,c=v.maskData,Z.width=v.width,Z.height=v.height,Z.dimCount=v.dimCount||1,Z.pixelType=v.pixelType||v.fileInfo.pixelType,Z.mask=v.maskData),n>1&&v.fileInfo.mask&&v.fileInfo.mask.numBytes>0&&y.push(v.maskData),g++,Z.pixels.push(v.pixelData),Z.statistics.push({minValue:v.minValue,maxValue:v.maxValue,noDataValue:v.noDataValue,dimStats:v.dimStats})}if(n>1&&y.length>1){for(m=Z.width*Z.height,Z.bandMasks=y,(c=new Uint8Array(m)).set(y[0]),u=1;u<y.length;u++)for(l=y[u],f=0;f<m;f++)c[f]=c[f]&l[f];Z.maskData=c}return Z}},void 0===(i=function(){return f}.apply(t,[]))||(e.exports=i)},364047:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;module=__webpack_require__.nmd(module),function(undefined){"use strict";var modules,cache,entries,protobuf;modules={1:[function(e,t,i){t.exports=function(e,t){for(var i=new Array(arguments.length-1),n=0,r=2,o=!0;r<arguments.length;)i[n++]=arguments[r++];return new Promise(function(r,s){i[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),i=0;i<t.length;)t[i++]=arguments[i];r.apply(null,t)}};try{e.apply(t||null,i)}catch(e){o&&(o=!1,s(e))}})}},{}],2:[function(e,t,i){var n=i;n.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&"="===e.charAt(t);)++i;return Math.ceil(3*e.length)/4-i};for(var r=new Array(64),o=new Array(123),s=0;s<64;)o[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,i){for(var n,o=null,s=[],a=0,l=0;t<i;){var c=e[t++];switch(l){case 0:s[a++]=r[c>>2],n=(3&c)<<4,l=1;break;case 1:s[a++]=r[n|c>>4],n=(15&c)<<2,l=2;break;case 2:s[a++]=r[n|c>>6],s[a++]=r[63&c],l=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return l&&(s[a++]=r[n],s[a++]=61,1===l&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var a="invalid encoding";n.decode=function(e,t,i){for(var n,r=i,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if((c=o[c])===undefined)throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[i++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[i++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[i++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return i-r},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,i){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}},{}],4:[function(e,t,i){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=128===i[3];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3]}function o(e,n,r){t[0]=e,n[r]=i[3],n[r+1]=i[2],n[r+2]=i[1],n[r+3]=i[0]}function s(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],t[0]}function a(e,n){return i[3]=e[n],i[2]=e[n+1],i[1]=e[n+2],i[0]=e[n+3],t[0]}e.writeFloatLE=n?r:o,e.writeFloatBE=n?o:r,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,i,n){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,i,n);else if(isNaN(t))e(2143289344,i,n);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,i,n);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,i,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((r<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,i,n)}}function i(e,t,i){var n=e(t,i),r=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:r*(1/0):0===o?1401298464324817e-60*r*s:r*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,o),e.readFloatLE=i.bind(null,s),e.readFloatBE=i.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=128===i[7];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3],n[r+4]=i[4],n[r+5]=i[5],n[r+6]=i[6],n[r+7]=i[7]}function o(e,n,r){t[0]=e,n[r]=i[7],n[r+1]=i[6],n[r+2]=i[5],n[r+3]=i[4],n[r+4]=i[3],n[r+5]=i[2],n[r+6]=i[1],n[r+7]=i[0]}function s(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i[4]=e[n+4],i[5]=e[n+5],i[6]=e[n+6],i[7]=e[n+7],t[0]}function a(e,n){return i[7]=e[n],i[6]=e[n+1],i[5]=e[n+2],i[4]=e[n+3],i[3]=e[n+4],i[2]=e[n+5],i[1]=e[n+6],i[0]=e[n+7],t[0]}e.writeDoubleLE=n?r:o,e.writeDoubleBE=n?o:r,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,i,n,r,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,r,o+t),e(1/n>0?0:2147483648,r,o+i);else if(isNaN(n))e(0,r,o+t),e(2146959360,r,o+i);else if(n>17976931348623157e292)e(0,r,o+t),e((s<<31|2146435072)>>>0,r,o+i);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,r,o+t),e((s<<31|a/4294967296)>>>0,r,o+i);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(a=n*Math.pow(2,-l))>>>0,r,o+t),e((s<<31|l+1023<<20|1048576*a&1048575)>>>0,r,o+i)}}}function i(e,t,i,n,r){var o=e(n,r+t),s=e(n,r+i),a=2*(s>>31)+1,l=s>>>20&2047,c=4294967296*(1048575&s)+o;return 2047===l?c?NaN:a*(1/0):0===l?5e-324*a*c:a*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=i.bind(null,s,0,4),e.readDoubleBE=i.bind(null,a,4,0)}(),e}function r(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}function o(e,t,i){t[i]=e>>>24,t[i+1]=e>>>16&255,t[i+2]=e>>>8&255,t[i+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],5:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],6:[function(e,t,i){t.exports=function(e,t,i){var n=i||8192,r=n>>>1,o=null,s=n;return function(i){if(i<1||i>r)return e(i);s+i>n&&(o=e(n),s=0);var a=t.call(o,s,s+=i);return 7&s&&(s=1+(7|s)),a}}},{}],7:[function(e,t,i){var n=i;n.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)(i=e.charCodeAt(n))<128?t+=1:i<2048?t+=2:55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,i){if(i-t<1)return"";for(var n,r=null,o=[],s=0;t<i;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0);return r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(e,t,i){for(var n,r,o=i,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=63&n|128):55296==(64512&n)&&56320==(64512&(r=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&r),++s,t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=63&n|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=63&n|128);return i-o}},{}],8:[function(e,t,i){var n=i;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=e(16),n.BufferWriter=e(17),n.Reader=e(9),n.BufferReader=e(10),n.util=e(15),n.rpc=e(12),n.roots=e(11),n.configure=r,r()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(e,t,i){t.exports=l;var n,r=e(15),o=r.LongBits,s=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return r.Buffer?function(e){return(l.create=function(e){return r.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,i);if(t===i){var n=r.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,i)},l.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=d(),n._configure();var t=r.Long?"toLong":"toNumber";r.merge(l.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},{15:15}],10:[function(e,t,i){t.exports=o;var n=e(9);(o.prototype=Object.create(n.prototype)).constructor=o;var r=e(15);function o(e){n.call(this,e)}o._configure=function(){r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},{15:15,9:9}],11:[function(e,t,i){t.exports={}},{}],12:[function(e,t,i){i.Service=e(13)},{13:13}],13:[function(e,t,i){t.exports=r;var n=e(15);function r(e,t,i){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(i)}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,i,r,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,i,r,o);if(!a.rpcImpl)return setTimeout(function(){s(Error("already ended"))},0),undefined;try{return a.rpcImpl(t,i[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,i){if(e)return a.emit("error",e,t),s(e);if(null===i)return a.end(!0),undefined;if(!(i instanceof r))try{i=r[a.responseDelimited?"decodeDelimited":"decode"](i)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",i,t),s(null,i)})}catch(e){return a.emit("error",e,t),setTimeout(function(){s(e)},0),undefined}},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(e,t,i){t.exports=r;var n=e(15);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new r(i,n)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e)){if(!n.Long)return r.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+4294967296*i)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===s?o:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}},{15:15}],15:[function(e,t,i){var n=i;function r(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]!==undefined&&i||(e[n[r]]=t[n[r]]);return e}function o(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&r(this,i)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:undefined,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=e(1),n.base64=e(2),n.EventEmitter=e(3),n.float=e(4),n.inquire=e(5),n.utf8=e(7),n.pool=e(6),n.LongBits=e(14),n.isNode=Boolean(void 0!==__webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.process&&__webpack_require__.g.process.versions&&__webpack_require__.g.process.versions.node),n.global=n.isNode&&__webpack_require__.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var i=e[t];return!(null==i||!e.hasOwnProperty(t))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var i=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))},n.merge=r,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(1===t[e[i]]&&this[e[i]]!==undefined&&null!==this[e[i]])return e[i]}},n.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,i){return new e(t,i)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(e,t,i){t.exports=d;var n,r=e(15),o=r.LongBits,s=r.base64,a=r.utf8;function l(e,t,i){this.fn=e,this.len=t,this.next=undefined,this.val=i}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return r.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,i){t[i]=255&e}function f(e,t){this.len=e,this.next=undefined,this.val=t}function m(e,t,i){for(;e.hi;)t[i++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=127&e.lo|128,e.lo=e.lo>>>7;t[i++]=e.lo}function g(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}d.create=h(),d.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(d.alloc=r.pool(d.alloc,r.Array.prototype.subarray)),d.prototype._push=function(e,t,i){return this.tail=this.tail.next=new l(e,t,i),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,i){for(;e>127;)t[i++]=127&e|128,e>>>=7;t[i]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var _=r.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(r.isString(e)){var i=d.alloc(t=s.length(e));s.decode(e,i,0),e=i}return this.uint32(t)._push(_,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=h(),n._configure()}},{15:15}],17:[function(e,t,i){t.exports=o;var n=e(16);(o.prototype=Object.create(n.prototype)).constructor=o;var r=e(15);function o(){n.call(this)}function s(e,t,i){e.length<40?r.utf8.write(e,t,i):t.utf8Write?t.utf8Write(e,i):t.write(e,i)}o._configure=function(){o.alloc=r._Buffer_allocUnsafe,o.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}},o.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},{15:15,16:16}]},cache={},entries=[8],protobuf=function e(t){var i=cache[t];return i||modules[t][0].call(i=cache[t]={exports:{}},e,i,i.exports),i.exports}(entries[0]),protobuf.util.global.protobuf=protobuf,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(841583)],(__WEBPACK_AMD_DEFINE_RESULT__=function(e){return e&&e.isLong&&(protobuf.util.Long=e,protobuf.configure()),protobuf}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),module&&module.exports&&(module.exports=protobuf)}()},841583:function(e,t){var i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,i=function(){var e={};return function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function i(e,t,i){this.low=0|e,this.high=0|t,this.unsigned=!!i}function n(e){return!0===(e&&e.__isLong__)}function r(e){var t=Math.clz32(e&-e);return e?31-t:t}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=n;var o={},s={};function a(e,t){var i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=s[e])?n:(i=c(e,0,!0),r&&(s[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(i=c(e,e<0?-1:0,!1),r&&(o[e]=i),i)}function l(e,t){if(isNaN(e))return t?y:_;if(t){if(e<0)return y;if(e>=f)return x}else{if(e<=-m)return C;if(e+1>=m)return w}return e<0?l(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,n){return new i(e,t,n)}i.fromInt=a,i.fromNumber=l,i.fromBits=c;var u=Math.pow;function d(e,t,i){if(0===e.length)throw Error("empty string");if("number"==typeof t?(i=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?y:_;if((i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return d(e.substring(1),t,i).neg();for(var r=l(u(i,8)),o=_,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),i);if(a<8){var h=l(u(i,a));o=o.mul(h).add(l(c))}else o=(o=o.mul(r)).add(l(c))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=d,i.fromValue=h;var p=4294967296,f=p*p,m=f/2,g=a(1<<24),_=a(0);i.ZERO=_;var y=a(0,!0);i.UZERO=y;var Z=a(1);i.ONE=Z;var v=a(1,!0);i.UONE=v;var b=a(-1);i.NEG_ONE=b;var w=c(-1,2147483647,!1);i.MAX_VALUE=w;var x=c(-1,-1,!0);i.MAX_UNSIGNED_VALUE=x;var C=c(0,-2147483648,!1);i.MIN_VALUE=C;var S=i.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=l(e),i=this.div(t),n=i.mul(t).sub(this);return i.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=l(u(e,6),this.unsigned),o=this,s="";;){var a=o.div(r),c=(o.sub(a.mul(r)).toInt()>>>0).toString(e);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return!(1&~this.low)},S.isEven=function(){return!(1&this.low)},S.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(Z)},S.neg=S.negate,S.add=function(e){n(e)||(e=h(e));var t=this.high>>>16,i=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,d=0,p=0,f=0;return p+=(f+=o+(65535&e.low))>>>16,d+=(p+=r+l)>>>16,u+=(d+=i+a)>>>16,u+=t+s,c((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},S.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=h(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?y:_;if(this.eq(C))return e.isOdd()?C:_;if(e.eq(C))return this.isOdd()?C:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return l(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,a=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,m=0,Z=0,v=0;return Z+=(v+=s*p)>>>16,m+=(Z+=o*p)>>>16,Z&=65535,m+=(Z+=s*d)>>>16,f+=(m+=r*p)>>>16,m&=65535,f+=(m+=o*d)>>>16,m&=65535,f+=(m+=s*u)>>>16,f+=i*p+r*d+o*u+s*a,c((Z&=65535)<<16|(v&=65535),(f&=65535)<<16|(m&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");var i,r,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:_;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;o=y}else{if(this.eq(C))return e.eq(Z)||e.eq(b)?C:e.eq(C)?Z:(i=this.shr(1).div(e).shl(1)).eq(_)?e.isNegative()?Z:b:(r=this.sub(e.mul(i)),o=i.add(r.div(e)));if(e.eq(C))return this.unsigned?y:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=_}for(r=this;r.gte(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(i)/Math.LN2),a=s<=48?1:u(2,s-48),d=l(i),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=l(i-=a,this.unsigned)).mul(e);d.isZero()&&(d=Z),o=o.add(d),r=r.sub(p)}return o},S.div=S.divide,S.modulo=function(e){return n(e)||(e=h(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return c(~this.low,~this.high,this.unsigned)},S.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},S.clz=S.countLeadingZeros,S.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},S.ctz=S.countTrailingZeros,S.and=function(e){return n(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return n(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return n(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.rotateLeft=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},S.rotl=S.rotateLeft,S.rotateRight=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},S.rotr=S.rotateRight,S.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,n){return n?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(i.fromBigInt=function(e,t){return c(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},i.fromValue=function(e,t){return"bigint"==typeof e?i.fromBigInt(e,t):h(e,t)},S.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=i}(e),function(e){return e.default||e}(e)}.apply(t,[]),void 0===i||(e.exports=i)},194922:(e,t,i)=>{"use strict";function n(e){this.proxy=e}i.d(t,{Z:()=>r}),n.prototype.getURL=function(e){const t=-1===this.proxy.indexOf("?")?"?":"";return this.proxy+t+encodeURIComponent(e)};const r=n},509019:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var n=i(195209),r=i(641106),o=i(302075),s=i(110189),a=i(797912),l=i(460162);function c(){this._cache={}}c.prototype.fromColor=function(e,t){if(!(0,o.Z)(e))throw new s.Z("color is required");if(!(0,o.Z)(t))throw new s.Z("size is required");return p(void 0,void 0,e,t,this._cache)},c.prototype.fromUrl=function(e,t,i){if(!(0,o.Z)(e))throw new s.Z("url is required");if(!(0,o.Z)(t))throw new s.Z("color is required");if(!(0,o.Z)(i))throw new s.Z("size is required");return p(e,void 0,t,i,this._cache)},c.prototype.fromMakiIconId=function(e,t,i){if(!(0,o.Z)(e))throw new s.Z("id is required");if(!(0,o.Z)(t))throw new s.Z("color is required");if(!(0,o.Z)(i))throw new s.Z("size is required");return p((0,n.Z)(`Assets/Textures/maki/${encodeURIComponent(e)}.png`),void 0,t,i,this._cache)},c.prototype.fromText=function(e,t,i){if(!(0,o.Z)(e))throw new s.Z("text is required");if(!(0,o.Z)(t))throw new s.Z("color is required");if(!(0,o.Z)(i))throw new s.Z("size is required");return p(void 0,e,t,i,this._cache)};const u=new r.Z;function d(e,t,i){const n=i/2.5;let o=n,s=n;t.width>t.height?s=n*(t.height/t.width):t.width<t.height&&(o=n*(t.width/t.height));const a=Math.round((i-o)/2),l=Math.round(7/24*i-s/2);e.globalCompositeOperation="destination-out",e.drawImage(t,a-1,l,o,s),e.drawImage(t,a,l-1,o,s),e.drawImage(t,a+1,l,o,s),e.drawImage(t,a,l+1,o,s),e.globalCompositeOperation="destination-over",e.fillStyle=r.Z.BLACK.toCssColorString(),e.fillRect(a-1,l-1,o+2,s+2),e.globalCompositeOperation="destination-out",e.drawImage(t,a,l,o,s),e.globalCompositeOperation="destination-over",e.fillStyle=r.Z.WHITE.toCssColorString(),e.fillRect(a-1,l-2,o+2,s+2)}const h=new Array(4);function p(e,t,i,n,r){h[0]=e,h[1]=t,h[2]=i,h[3]=n;const s=JSON.stringify(h),c=r[s];if((0,o.Z)(c))return c;const p=document.createElement("canvas");p.width=n,p.height=n;const f=p.getContext("2d");if(function(e,t,i){e.save(),e.scale(i/24,i/24),e.fillStyle=t.toCssColorString(),e.strokeStyle=t.brighten(.6,u).toCssColorString(),e.lineWidth=.846,e.beginPath(),e.moveTo(6.72,.422),e.lineTo(17.28,.422),e.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),e.lineTo(19.577,10.973),e.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),e.lineTo(14.386,14.008),e.lineTo(11.826,23.578),e.lineTo(9.614,14.008),e.lineTo(6.719,13.965),e.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),e.lineTo(4.422,3.416),e.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),e.closePath(),e.fill(),e.stroke(),e.restore()}(f,i,n),(0,o.Z)(e)){const t=a.Z.createIfNeeded(e).fetchImage().then(function(e){return d(f,e,n),r[s]=p,p});return r[s]=t,t}if((0,o.Z)(t)){const e=(0,l.Z)(t,{font:`bold ${n}px sans-serif`});d(f,e,n)}return r[s]=p,p}const f=c},744375:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(354998),r=i(302075),o=i(110189);const s=function(e){if(!(0,r.Z)(e))throw new o.Z("uri is required.");const t=new n(e);t.normalize();let i=t.path();const s=i.lastIndexOf("/");return-1!==s&&(i=i.substr(s+1)),i}},400563:(e,t,i)=>{"use strict";i.d(t,{Z:()=>de});var n=i(439405),r=i(372539),o=i(641106),s=i(624219),a=i(864118),l=i(999104),c=i(302075),u=i(110189),d=i(847738),h=i(744375),p=i(509019),f=i(318836),m=i(797912),g=i(966175),_=i(781940),y=i(116949);function Z(e){return e}function v(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return b(e,t)})}:b(e,t)}function b(e,t){var i=t.id,n=t.bbox,r=null==t.properties?{}:t.properties,o=function(e,t){var i=function(e){if(null==e)return Z;var t,i,n=e.scale[0],r=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,a){a||(t=i=0);var l=2,c=e.length,u=new Array(c);for(u[0]=(t+=e[0])*n+o,u[1]=(i+=e[1])*r+s;l<c;)u[l]=e[l],++l;return u}}(e.transform),n=e.arcs;function r(e,t){t.length&&t.pop();for(var r=n[e<0?~e:e],o=0,s=r.length;o<s;++o)t.push(i(r[o],o));e<0&&function(e,t){for(var i,n=e.length,r=n-t;r<--n;)i=e[r],e[r++]=e[n],e[n]=i}(t,s)}function o(e){return i(e)}function s(e){for(var t=[],i=0,n=e.length;i<n;++i)r(e[i],t);return t.length<2&&t.push(t[0]),t}function a(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(a)}return function e(t){var i,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":i=o(t.coordinates);break;case"MultiPoint":i=t.coordinates.map(o);break;case"LineString":i=s(t.arcs);break;case"MultiLineString":i=t.arcs.map(s);break;case"Polygon":i=l(t.arcs);break;case"MultiPolygon":i=t.arcs.map(l);break;default:return null}return{type:n,coordinates:i}}(t)}(e,t);return null==i&&null==n?{type:"Feature",properties:r,geometry:o}:null==n?{type:"Feature",id:i,properties:r,geometry:o}:{type:"Feature",id:i,bbox:n,properties:r,geometry:o}}var w=i(255154),x=i(36581),C=i(316376),S=i(641647),T=i(623259),P=i(257738),M=i(831305),A=i(522883),E=i(516344),k=i(41017);function I(e){return r.Z.fromDegrees(e[0],e[1],e[2])}const O={"urn:ogc:def:crs:OGC:1.3:CRS84":I,"EPSG:4326":I,"urn:ogc:def:crs:EPSG::4326":I},R={},B={};let D,F=48,L=o.Z.ROYALBLUE,V=o.Z.YELLOW,N=2,U=o.Z.fromBytes(255,255,0,100),G=!1;const z={small:24,medium:48,large:64},K=["title","description","marker-size","marker-symbol","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"];function q(e,t){let i="";for(const n in e)if(e.hasOwnProperty(n)){if(n===t||-1!==K.indexOf(n))continue;const r=e[n];(0,c.Z)(r)&&(i+="object"==typeof r?`<tr><th>${n}</th><td>${q(r)}</td></tr>`:`<tr><th>${n}</th><td>${r}</td></tr>`)}return i.length>0&&(i=`<table class="cesium-infoBox-defaultTable"><tbody>${i}</tbody></table>`),i}function H(e,t){return new x.Z(function(e,t,i){let n;return function(r,o){return(0,c.Z)(n)||(n=e(t,i)),n}}(q,e,t),!0)}function W(e,t,i){let n=e.id;if((0,c.Z)(n)&&"Feature"===e.type){let e=2,i=n;for(;(0,c.Z)(t.getById(i));)i=`${n}_${e}`,e++;n=i}else n=(0,s.Z)();const r=t.getOrCreateEntity(n),o=e.properties;if((0,c.Z)(o)){let e;r.properties=o;const t=o.title;if((0,c.Z)(t))r.name=t,e="title";else{let t=Number.MAX_VALUE;for(const i in o)if(o.hasOwnProperty(i)&&o[i]){const n=i.toLowerCase();if(t>1&&"title"===n){t=1,e=i;break}t>2&&"name"===n?(t=2,e=i):t>3&&/title/i.test(i)?(t=3,e=i):t>4&&/name/i.test(i)&&(t=4,e=i)}(0,c.Z)(e)&&(r.name=o[e])}const n=o.description;null!==n&&(r.description=(0,c.Z)(n)?new T.Z(n):i(o,e))}return r}function j(e,t){const i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=t(e[n]);return i}const J={Feature:$,FeatureCollection:function(e,t,i,n,r){const o=t.features;for(let t=0,i=o.length;t<i;t++)$(e,o[t],0,n,r)},GeometryCollection:Y,LineString:ne,MultiLineString:re,MultiPoint:te,MultiPolygon:ae,Point:ee,Polygon:se,Topology:le},X={GeometryCollection:Y,LineString:ne,MultiLineString:re,MultiPoint:te,MultiPolygon:ae,Point:ee,Polygon:se,Topology:le};function $(e,t,i,n,r){if(null===t.geometry)return void W(t,e._entityCollection,r.describe);if(!(0,c.Z)(t.geometry))throw new g.Z("feature.geometry is required.");const o=t.geometry.type,s=X[o];if(!(0,c.Z)(s))throw new g.Z(`Unknown geometry type: ${o}`);s(e,t,t.geometry,n,r)}function Y(e,t,i,n,r){const o=i.geometries;for(let i=0,s=o.length;i<s;i++){const s=o[i],a=s.type,l=X[a];if(!(0,c.Z)(l))throw new g.Z(`Unknown geometry type: ${a}`);l(e,t,s,n,r)}}function Q(e,t,i,n,r){let s=r.markerSymbol,a=r.markerColor,u=r.markerSize;const d=t.properties;if((0,c.Z)(d)){const e=d["marker-color"];(0,c.Z)(e)&&(a=o.Z.fromCssColorString(e)),u=(0,l.Z)(z[d["marker-size"]],u);const t=d["marker-symbol"];(0,c.Z)(t)&&(s=t)}let h;h=(0,c.Z)(s)?1===s.length?e._pinBuilder.fromText(s.toUpperCase(),a,u):e._pinBuilder.fromMakiIconId(s,a,u):e._pinBuilder.fromColor(a,u);const p=new w.Z;p.verticalOrigin=new T.Z(y.Z.BOTTOM),2===n.length&&r.clampToGround&&(p.heightReference=_.Z.CLAMP_TO_GROUND);const f=W(t,e._entityCollection,r.describe);f.billboard=p,f.position=new S.Z(i(n));const m=Promise.resolve(h).then(function(e){p.image=new T.Z(e)}).catch(function(){p.image=new T.Z(e._pinBuilder.fromColor(a,u))});e._promises.push(m)}function ee(e,t,i,n,r){Q(e,t,n,i.coordinates,r)}function te(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)Q(e,t,n,o[i],r)}function ie(e,t,i,r,s){let a=s.strokeMaterialProperty,l=s.strokeWidthProperty;const u=t.properties;if((0,c.Z)(u)){const e=u["stroke-width"];let t;(0,c.Z)(e)&&(l=new T.Z(e));const i=u.stroke;(0,c.Z)(i)&&(t=o.Z.fromCssColorString(i));const n=u["stroke-opacity"];(0,c.Z)(n)&&1!==n&&((0,c.Z)(t)||(t=a.color.getValue().clone()),t.alpha=n),(0,c.Z)(t)&&(a=new C.Z(t))}const d=W(t,e._entityCollection,s.describe),h=new k.Z;d.polyline=h,h.clampToGround=s.clampToGround,h.material=a,h.width=l,h.positions=new T.Z(j(r,i)),h.arcType=n.Z.RHUMB}function ne(e,t,i,n,r){ie(e,t,n,i.coordinates,r)}function re(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)ie(e,t,n,o[i],r)}function oe(e,t,i,r,s){if(0===r.length||0===r[0].length)return;let a=s.strokeMaterialProperty.color,l=s.fillMaterialProperty,u=s.strokeWidthProperty;const d=t.properties;if((0,c.Z)(d)){const e=d["stroke-width"];let t;(0,c.Z)(e)&&(u=new T.Z(e));const i=d.stroke;(0,c.Z)(i)&&(t=o.Z.fromCssColorString(i));let n,r=d["stroke-opacity"];(0,c.Z)(r)&&1!==r&&((0,c.Z)(t)||(t=a.getValue().clone()),t.alpha=r),(0,c.Z)(t)&&(a=new T.Z(t));const s=d.fill,h=l.color.getValue();(0,c.Z)(s)&&(n=o.Z.fromCssColorString(s),n.alpha=h.alpha),r=d["fill-opacity"],(0,c.Z)(r)&&r!==h.alpha&&((0,c.Z)(n)||(n=h.clone()),n.alpha=r),(0,c.Z)(n)&&(l=new C.Z(n))}const h=new E.Z;h.outline=new T.Z(!0),h.outlineColor=a,h.outlineWidth=u,h.material=l,h.arcType=n.Z.RHUMB;const p=[];for(let e=1,t=r.length;e<t;e++)p.push(new f.Z(j(r[e],i)));const m=r[0];h.hierarchy=new T.Z(new f.Z(j(m,i),p)),m[0].length>2?h.perPositionHeight=new T.Z(!0):s.clampToGround||(h.height=0),W(t,e._entityCollection,s.describe).polygon=h}function se(e,t,i,n,r){oe(e,t,n,i.coordinates,r)}function ae(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)oe(e,t,n,o[i],r)}function le(e,t,i,n,r){for(const t in i.objects)if(i.objects.hasOwnProperty(t)){const o=v(i,i.objects[t]);(0,J[o.type])(e,o,o,n,r)}}function ce(e){this._name=e,this._changed=new d.Z,this._error=new d.Z,this._isLoading=!1,this._loading=new d.Z,this._entityCollection=new A.Z(this),this._promises=[],this._pinBuilder=new p.Z,this._entityCluster=new M.Z,this._credit=void 0,this._resourceCredits=[]}function ue(e,t,i,n){if(!(0,c.Z)(t))throw new u.Z("data is required.");P.Z.setLoading(e,!0);let r=(i=(0,l.Z)(i,l.Z.EMPTY_OBJECT)).credit;"string"==typeof r&&(r=new a.Z(r)),e._credit=r;let o=t,s=i.sourceUri;if("string"==typeof t||t instanceof m.Z){o=(t=m.Z.createIfNeeded(t)).fetchJson(),s=(0,l.Z)(s,t.getUrlComponent());const i=e._resourceCredits,n=t.credits;if((0,c.Z)(n)){const e=n.length;for(let t=0;t<e;t++)i.push(n[t])}}return i={describe:(0,l.Z)(i.describe,H),markerSize:(0,l.Z)(i.markerSize,F),markerSymbol:(0,l.Z)(i.markerSymbol,D),markerColor:(0,l.Z)(i.markerColor,L),strokeWidthProperty:new T.Z((0,l.Z)(i.strokeWidth,N)),strokeMaterialProperty:new C.Z((0,l.Z)(i.stroke,V)),fillMaterialProperty:new C.Z((0,l.Z)(i.fill,U)),clampToGround:(0,l.Z)(i.clampToGround,G)},Promise.resolve(o).then(function(t){return function(e,t,i,n,r){let o;(0,c.Z)(n)&&(o=(0,h.Z)(n)),(0,c.Z)(o)&&e._name!==o&&(e._name=o,e._changed.raiseEvent(e));const s=J[t.type];if(!(0,c.Z)(s))throw new g.Z(`Unsupported GeoJSON object type: ${t.type}`);const a=t.crs;let l=null!==a?I:null;if((0,c.Z)(a)){if(!(0,c.Z)(a.properties))throw new g.Z("crs.properties is undefined.");const e=a.properties;if("name"===a.type){if(l=O[e.name],!(0,c.Z)(l))throw new g.Z(`Unknown crs name: ${e.name}`)}else if("link"===a.type){let t=R[e.href];if((0,c.Z)(t)||(t=B[e.type]),!(0,c.Z)(t))throw new g.Z(`Unable to resolve crs link: ${JSON.stringify(e)}`);l=t(e)}else{if("EPSG"!==a.type)throw new g.Z(`Unknown crs type: ${a.type}`);if(l=O[`EPSG:${e.code}`],!(0,c.Z)(l))throw new g.Z(`Unknown crs EPSG code: ${e.code}`)}}return Promise.resolve(l).then(function(n){return r&&e._entityCollection.removeAll(),null!==n&&s(e,t,t,n,i),Promise.all(e._promises).then(function(){return e._promises.length=0,P.Z.setLoading(e,!1),e})})}(e,t,i,s,n)}).catch(function(t){throw P.Z.setLoading(e,!1),e._error.raiseEvent(e,t),t})}ce.load=function(e,t){return(new ce).load(e,t)},Object.defineProperties(ce,{markerSize:{get:function(){return F},set:function(e){F=e}},markerSymbol:{get:function(){return D},set:function(e){D=e}},markerColor:{get:function(){return L},set:function(e){L=e}},stroke:{get:function(){return V},set:function(e){V=e}},strokeWidth:{get:function(){return N},set:function(e){N=e}},fill:{get:function(){return U},set:function(e){U=e}},clampToGround:{get:function(){return G},set:function(e){G=e}},crsNames:{get:function(){return O}},crsLinkHrefs:{get:function(){return R}},crsLinkTypes:{get:function(){return B}}}),Object.defineProperties(ce.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{value:void 0,writable:!1},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,c.Z)(e))throw new u.Z("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),ce.prototype.load=function(e,t){return ue(this,e,t,!0)},ce.prototype.process=function(e,t){return ue(this,e,t,!1)},ce.prototype.update=function(e){return!0};const de=ce},136537:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(641106),r=i(999104),o=i(302075),s=i(847738),a=i(482637),l=i(696190);const c=n.Z.WHITE,u=n.Z.TRANSPARENT;function d(e){e=(0,r.Z)(e,r.Z.EMPTY_OBJECT),this._definitionChanged=new s.Z,this._color=void 0,this._colorSubscription=void 0,this._gapColor=void 0,this._gapColorSubscription=void 0,this._dashLength=void 0,this._dashLengthSubscription=void 0,this._dashPattern=void 0,this._dashPatternSubscription=void 0,this.color=e.color,this.gapColor=e.gapColor,this.dashLength=e.dashLength,this.dashPattern=e.dashPattern}Object.defineProperties(d.prototype,{isConstant:{get:function(){return l.Z.isConstant(this._color)&&l.Z.isConstant(this._gapColor)&&l.Z.isConstant(this._dashLength)&&l.Z.isConstant(this._dashPattern)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,a.Z)("color"),gapColor:(0,a.Z)("gapColor"),dashLength:(0,a.Z)("dashLength"),dashPattern:(0,a.Z)("dashPattern")}),d.prototype.getType=function(e){return"PolylineDash"},d.prototype.getValue=function(e,t){return(0,o.Z)(t)||(t={}),t.color=l.Z.getValueOrClonedDefault(this._color,e,c,t.color),t.gapColor=l.Z.getValueOrClonedDefault(this._gapColor,e,u,t.gapColor),t.dashLength=l.Z.getValueOrDefault(this._dashLength,e,16,t.dashLength),t.dashPattern=l.Z.getValueOrDefault(this._dashPattern,e,255,t.dashPattern),t},d.prototype.equals=function(e){return this===e||e instanceof d&&l.Z.equals(this._color,e._color)&&l.Z.equals(this._gapColor,e._gapColor)&&l.Z.equals(this._dashLength,e._dashLength)&&l.Z.equals(this._dashPattern,e._dashPattern)};const h=d},712824:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(854364),r=i(999104),o=i(302075),s=i(110189),a=i(797912),l=i(23974),c=i(958869);function u(e){this._style={},this._ready=!1,this._show=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._labelColor=void 0,this._labelOutlineColor=void 0,this._labelOutlineWidth=void 0,this._font=void 0,this._labelStyle=void 0,this._labelText=void 0,this._backgroundColor=void 0,this._backgroundPadding=void 0,this._backgroundEnabled=void 0,this._scaleByDistance=void 0,this._translucencyByDistance=void 0,this._distanceDisplayCondition=void 0,this._heightOffset=void 0,this._anchorLineEnabled=void 0,this._anchorLineColor=void 0,this._image=void 0,this._disableDepthTestDistance=void 0,this._horizontalOrigin=void 0,this._verticalOrigin=void 0,this._labelHorizontalOrigin=void 0,this._labelVerticalOrigin=void 0,this._meta=void 0,this._colorShaderFunction=void 0,this._showShaderFunction=void 0,this._pointSizeShaderFunction=void 0,this._colorShaderFunctionReady=!1,this._showShaderFunctionReady=!1,this._pointSizeShaderFunctionReady=!1,this._colorShaderTranslucent=!1,function(e,t){t=(0,r.Z)((0,n.Z)(t,!0),e._style),e._style=t,e.show=t.show,e.color=t.color,e.pointSize=t.pointSize,e.pointOutlineColor=t.pointOutlineColor,e.pointOutlineWidth=t.pointOutlineWidth,e.labelColor=t.labelColor,e.labelOutlineColor=t.labelOutlineColor,e.labelOutlineWidth=t.labelOutlineWidth,e.labelStyle=t.labelStyle,e.font=t.font,e.labelText=t.labelText,e.backgroundColor=t.backgroundColor,e.backgroundPadding=t.backgroundPadding,e.backgroundEnabled=t.backgroundEnabled,e.scaleByDistance=t.scaleByDistance,e.translucencyByDistance=t.translucencyByDistance,e.distanceDisplayCondition=t.distanceDisplayCondition,e.heightOffset=t.heightOffset,e.anchorLineEnabled=t.anchorLineEnabled,e.anchorLineColor=t.anchorLineColor,e.image=t.image,e.disableDepthTestDistance=t.disableDepthTestDistance,e.horizontalOrigin=t.horizontalOrigin,e.verticalOrigin=t.verticalOrigin,e.labelHorizontalOrigin=t.labelHorizontalOrigin,e.labelVerticalOrigin=t.labelVerticalOrigin;const i={};if((0,o.Z)(t.meta)){const e=t.defines,n=(0,r.Z)(t.meta,r.Z.EMPTY_OBJECT);for(const t in n)n.hasOwnProperty(t)&&(i[t]=new c.Z(n[t],e))}e._meta=i,e._ready=!0}(this,e)}function d(e,t){const i=(0,r.Z)(e._style,r.Z.EMPTY_OBJECT).defines;if((0,o.Z)(t))return"boolean"==typeof t||"number"==typeof t?new c.Z(String(t)):"string"==typeof t?new c.Z(t,i):(0,o.Z)(t.conditions)?new l.Z(t,i):t}function h(e){if((0,o.Z)(e))return(0,o.Z)(e.expression)?e.expression:(0,o.Z)(e.conditionsExpression)?(0,n.Z)(e.conditionsExpression,!0):e}Object.defineProperties(u.prototype,{style:{get:function(){return this._style}},show:{get:function(){return this._show},set:function(e){this._show=d(this,e),this._style.show=h(this._show),this._showShaderFunctionReady=!1}},color:{get:function(){return this._color},set:function(e){this._color=d(this,e),this._style.color=h(this._color),this._colorShaderFunctionReady=!1}},pointSize:{get:function(){return this._pointSize},set:function(e){this._pointSize=d(this,e),this._style.pointSize=h(this._pointSize),this._pointSizeShaderFunctionReady=!1}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(e){this._pointOutlineColor=d(this,e),this._style.pointOutlineColor=h(this._pointOutlineColor)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(e){this._pointOutlineWidth=d(this,e),this._style.pointOutlineWidth=h(this._pointOutlineWidth)}},labelColor:{get:function(){return this._labelColor},set:function(e){this._labelColor=d(this,e),this._style.labelColor=h(this._labelColor)}},labelOutlineColor:{get:function(){return this._labelOutlineColor},set:function(e){this._labelOutlineColor=d(this,e),this._style.labelOutlineColor=h(this._labelOutlineColor)}},labelOutlineWidth:{get:function(){return this._labelOutlineWidth},set:function(e){this._labelOutlineWidth=d(this,e),this._style.labelOutlineWidth=h(this._labelOutlineWidth)}},font:{get:function(){return this._font},set:function(e){this._font=d(this,e),this._style.font=h(this._font)}},labelStyle:{get:function(){return this._labelStyle},set:function(e){this._labelStyle=d(this,e),this._style.labelStyle=h(this._labelStyle)}},labelText:{get:function(){return this._labelText},set:function(e){this._labelText=d(this,e),this._style.labelText=h(this._labelText)}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=d(this,e),this._style.backgroundColor=h(this._backgroundColor)}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(e){this._backgroundPadding=d(this,e),this._style.backgroundPadding=h(this._backgroundPadding)}},backgroundEnabled:{get:function(){return this._backgroundEnabled},set:function(e){this._backgroundEnabled=d(this,e),this._style.backgroundEnabled=h(this._backgroundEnabled)}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){this._scaleByDistance=d(this,e),this._style.scaleByDistance=h(this._scaleByDistance)}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){this._translucencyByDistance=d(this,e),this._style.translucencyByDistance=h(this._translucencyByDistance)}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){this._distanceDisplayCondition=d(this,e),this._style.distanceDisplayCondition=h(this._distanceDisplayCondition)}},heightOffset:{get:function(){return this._heightOffset},set:function(e){this._heightOffset=d(this,e),this._style.heightOffset=h(this._heightOffset)}},anchorLineEnabled:{get:function(){return this._anchorLineEnabled},set:function(e){this._anchorLineEnabled=d(this,e),this._style.anchorLineEnabled=h(this._anchorLineEnabled)}},anchorLineColor:{get:function(){return this._anchorLineColor},set:function(e){this._anchorLineColor=d(this,e),this._style.anchorLineColor=h(this._anchorLineColor)}},image:{get:function(){return this._image},set:function(e){this._image=d(this,e),this._style.image=h(this._image)}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){this._disableDepthTestDistance=d(this,e),this._style.disableDepthTestDistance=h(this._disableDepthTestDistance)}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){this._horizontalOrigin=d(this,e),this._style.horizontalOrigin=h(this._horizontalOrigin)}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){this._verticalOrigin=d(this,e),this._style.verticalOrigin=h(this._verticalOrigin)}},labelHorizontalOrigin:{get:function(){return this._labelHorizontalOrigin},set:function(e){this._labelHorizontalOrigin=d(this,e),this._style.labelHorizontalOrigin=h(this._labelHorizontalOrigin)}},labelVerticalOrigin:{get:function(){return this._labelVerticalOrigin},set:function(e){this._labelVerticalOrigin=d(this,e),this._style.labelVerticalOrigin=h(this._labelVerticalOrigin)}},meta:{get:function(){return this._meta},set:function(e){this._meta=e}}}),u.fromUrl=function(e){if(!(0,o.Z)(e))throw new s.Z("url is required");return a.Z.createIfNeeded(e).fetchJson(e).then(function(e){return new u(e)})},u.prototype.getColorShaderFunction=function(e,t,i){return this._colorShaderFunctionReady?(i.translucent=this._colorShaderTranslucent,this._colorShaderFunction):(this._colorShaderFunctionReady=!0,(0,o.Z)(this.color)&&(0,o.Z)(this.color.getShaderFunction)?this._colorShaderFunction=this.color.getShaderFunction(e,t,i,"vec4"):this._colorShaderFunction=void 0,this._colorShaderTranslucent=i.translucent,this._colorShaderFunction)},u.prototype.getShowShaderFunction=function(e,t,i){return this._showShaderFunctionReady||(this._showShaderFunctionReady=!0,(0,o.Z)(this.show)&&(0,o.Z)(this.show.getShaderFunction)?this._showShaderFunction=this.show.getShaderFunction(e,t,i,"bool"):this._showShaderFunction=void 0),this._showShaderFunction},u.prototype.getPointSizeShaderFunction=function(e,t,i){return this._pointSizeShaderFunctionReady||(this._pointSizeShaderFunctionReady=!0,(0,o.Z)(this.pointSize)&&(0,o.Z)(this.pointSize.getShaderFunction)?this._pointSizeShaderFunction=this.pointSize.getShaderFunction(e,t,i,"float"):this._pointSizeShaderFunction=void 0),this._pointSizeShaderFunction},u.prototype.getVariables=function(){let e=[];return(0,o.Z)(this.color)&&(0,o.Z)(this.color.getVariables)&&e.push.apply(e,this.color.getVariables()),(0,o.Z)(this.show)&&(0,o.Z)(this.show.getVariables)&&e.push.apply(e,this.show.getVariables()),(0,o.Z)(this.pointSize)&&(0,o.Z)(this.pointSize.getVariables)&&e.push.apply(e,this.pointSize.getVariables()),e=e.filter(function(e,t,i){return i.indexOf(e)===t}),e};const p=u},23974:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(854364),r=i(302075),o=i(958869);function s(e,t){this._conditionsExpression=(0,n.Z)(e,!0),this._conditions=e.conditions,this._runtimeConditions=void 0,function(e,t){const i=[],n=e._conditions;if(!(0,r.Z)(n))return;const s=n.length;for(let e=0;e<s;++e){const r=n[e],s=String(r[0]),l=String(r[1]);i.push(new a(new o.Z(s,t),new o.Z(l,t)))}e._runtimeConditions=i}(this,t)}function a(e,t){this.condition=e,this.expression=t}Object.defineProperties(s.prototype,{conditionsExpression:{get:function(){return this._conditionsExpression}}}),s.prototype.evaluate=function(e,t){const i=this._runtimeConditions;if(!(0,r.Z)(i))return;const n=i.length;for(let r=0;r<n;++r){const n=i[r];if(n.condition.evaluate(e))return n.expression.evaluate(e,t)}},s.prototype.evaluateColor=function(e,t){const i=this._runtimeConditions;if(!(0,r.Z)(i))return;const n=i.length;for(let r=0;r<n;++r){const n=i[r];if(n.condition.evaluate(e))return n.expression.evaluateColor(e,t)}},s.prototype.getShaderFunction=function(e,t,i,n){const o=this._runtimeConditions;if(!(0,r.Z)(o)||0===o.length)return;let s="";const a=o.length;for(let e=0;e<a;++e){const n=o[e];s+=`    ${0===e?"if":"else if"} (${n.condition.getShaderExpression(t,i)})\n    {\n        return ${n.expression.getShaderExpression(t,i)};\n    }\n`}return s=`${n} ${e}\n{\n${s}    return ${n}(1.0);\n}\n`,s},s.prototype.getVariables=function(){let e=[];const t=this._runtimeConditions;if(!(0,r.Z)(t)||0===t.length)return e;const i=t.length;for(let n=0;n<i;++n){const i=t[n];e.push.apply(e,i.condition.getVariables()),e.push.apply(e,i.expression.getVariables())}return e=e.filter(function(e,t,i){return i.indexOf(e)===t}),e};const l=s},449546:(e,t,i)=>{"use strict";function n(e){}i.d(t,{Z:()=>r}),n.prototype.isReady=function(){return!0},n.prototype.shouldDiscardImage=function(e){return!1};const r=n},149246:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AlphaMode:()=>lZ.Z,AlphaPipelineStage:()=>UA.Z,Animation:()=>OO.Z,AnimationViewModel:()=>RO.Z,Appearance:()=>cZ.Z,ApproximateTerrainHeights:()=>Rh.Z,ArcGISTiledElevationTerrainProvider:()=>$h,ArcGisBaseMapType:()=>uZ.Z,ArcGisMapServerImageryProvider:()=>dZ.Z,ArcGisMapService:()=>hZ.Z,ArcType:()=>X.Z,ArticulationStageType:()=>Yh.Z,AssociativeArray:()=>ls.Z,AttributeCompression:()=>Qh.Z,AttributeType:()=>pZ.Z,AutoExposure:()=>fZ.Z,AutomaticUniforms:()=>Hd.Z,Axis:()=>mZ.Z,AxisAlignedBoundingBox:()=>ep.Z,B3dmLoader:()=>GA.Z,B3dmParser:()=>gZ.Z,BaseLayerPicker:()=>BO.Z,BaseLayerPickerViewModel:()=>DO.Z,BatchTable:()=>_Z.Z,BatchTableHierarchy:()=>yZ.Z,BatchTexture:()=>ZZ.Z,BatchTexturePipelineStage:()=>zA.Z,Billboard:()=>vZ.Z,BillboardCollection:()=>bZ.Z,BillboardGraphics:()=>n.Z,BillboardVisualizer:()=>r.Z,BingMapsGeocoderService:()=>np,BingMapsImageryProvider:()=>wZ.Z,BingMapsStyle:()=>xZ.Z,BlendEquation:()=>CZ.Z,BlendFunction:()=>SZ.Z,BlendOption:()=>TZ.Z,BlendingState:()=>PZ.Z,BoundingRectangle:()=>$.Z,BoundingSphere:()=>xc.Z,BoundingSphereState:()=>o.Z,BoxEmitter:()=>kZ,BoxGeometry:()=>rp.Z,BoxGeometryUpdater:()=>s.Z,BoxGraphics:()=>a.Z,BoxOutlineGeometry:()=>op.Z,BrdfLutGenerator:()=>IZ.Z,Buffer:()=>Wd.Z,BufferLoader:()=>OZ.Z,BufferUsage:()=>jd.Z,CPUStylingPipelineStage:()=>KA.Z,CallbackProperty:()=>l.Z,Camera:()=>RZ.Z,CameraEventAggregator:()=>BZ.Z,CameraEventType:()=>DZ.Z,CameraFlightPath:()=>FZ.Z,Cartesian2:()=>d.Z,Cartesian3:()=>Y.Z,Cartesian4:()=>sp.Z,Cartographic:()=>Q.Z,CartographicGeocoderService:()=>ap.Z,CatmullRomSpline:()=>_p,Cesium3DContentGroup:()=>LZ.Z,Cesium3DTile:()=>VZ.Z,Cesium3DTileBatchTable:()=>NZ.Z,Cesium3DTileColorBlendMode:()=>UZ.Z,Cesium3DTileContent:()=>zZ,Cesium3DTileContentFactory:()=>KZ.Z,Cesium3DTileContentState:()=>qZ.Z,Cesium3DTileContentType:()=>HZ.Z,Cesium3DTileFeature:()=>WZ.Z,Cesium3DTileFeatureTable:()=>jZ.Z,Cesium3DTileOptimizationHint:()=>JZ.Z,Cesium3DTileOptimizations:()=>XZ.Z,Cesium3DTilePass:()=>$Z.Z,Cesium3DTilePassState:()=>YZ.Z,Cesium3DTilePointFeature:()=>QZ.Z,Cesium3DTileRefine:()=>ev.Z,Cesium3DTileStyle:()=>tv.Z,Cesium3DTileStyleEngine:()=>iv.Z,Cesium3DTilesInspector:()=>eR,Cesium3DTilesInspectorViewModel:()=>YO,Cesium3DTilesVoxelProvider:()=>Mv,Cesium3DTileset:()=>Av.Z,Cesium3DTilesetBaseTraversal:()=>Ev.Z,Cesium3DTilesetCache:()=>kv.Z,Cesium3DTilesetGraphics:()=>c.Z,Cesium3DTilesetHeatmap:()=>Iv.Z,Cesium3DTilesetMetadata:()=>nv.Z,Cesium3DTilesetMostDetailedTraversal:()=>Ov.Z,Cesium3DTilesetSkipTraversal:()=>Rv.Z,Cesium3DTilesetStatistics:()=>Bv.Z,Cesium3DTilesetTraversal:()=>Dv.Z,Cesium3DTilesetVisualizer:()=>u.Z,CesiumInspector:()=>aR,CesiumInspectorViewModel:()=>oR,CesiumTerrainProvider:()=>yp.Z,CesiumWidget:()=>SP.Z,Check:()=>Ce.Z,CheckerboardMaterialProperty:()=>w,CircleEmitter:()=>Lv,CircleGeometry:()=>Cp,CircleOutlineGeometry:()=>Ap,ClassificationModelDrawCommand:()=>qA.Z,ClassificationPipelineStage:()=>HA.Z,ClassificationPrimitive:()=>Vv.Z,ClassificationType:()=>Ae.Z,ClearCommand:()=>Jd.Z,ClippingPlane:()=>Nv.Z,ClippingPlaneCollection:()=>Uv.Z,Clock:()=>Le.Z,ClockRange:()=>ee.Z,ClockStep:()=>te.Z,ClockViewModel:()=>SO.Z,CloudCollection:()=>Ab,CloudType:()=>zv,Color:()=>h.Z,ColorBlendMode:()=>Ee.Z,ColorGeometryInstanceAttribute:()=>Ep.Z,ColorMaterialProperty:()=>x.Z,Command:()=>TO,ComponentDatatype:()=>kp.Z,Composite3DTileContent:()=>Eb.Z,CompositeEntityCollection:()=>L,CompositeMaterialProperty:()=>U,CompositePositionProperty:()=>G.Z,CompositeProperty:()=>V.Z,CompressedTextureBuffer:()=>Ip.Z,ComputeCommand:()=>Xd.Z,ComputeEngine:()=>$d.Z,ConditionsExpression:()=>kb.Z,ConeEmitter:()=>Rb,ConstantPositionProperty:()=>z.Z,ConstantProperty:()=>K.Z,ConstantSpline:()=>Op.Z,ContentMetadata:()=>Bb.Z,Context:()=>Yd.Z,ContextLimits:()=>Qd.Z,CoplanarPolygonGeometry:()=>Rp.Z,CoplanarPolygonGeometryLibrary:()=>Bp.Z,CoplanarPolygonOutlineGeometry:()=>Dp.Z,CornerType:()=>ie.Z,CorridorGeometry:()=>Fp.Z,CorridorGeometryLibrary:()=>Lp.Z,CorridorGeometryUpdater:()=>q.Z,CorridorGraphics:()=>H.Z,CorridorOutlineGeometry:()=>Vp.Z,Credit:()=>ne.Z,CreditDisplay:()=>Db.Z,CubeMap:()=>eh.Z,CubeMapFace:()=>th.Z,CubicRealPolynomial:()=>Np.Z,CullFace:()=>Fb.Z,CullingVolume:()=>Up.Z,CumulusCloud:()=>Qv,CustomDataSource:()=>W.Z,CustomHeightmapTerrainProvider:()=>zp,CustomShader:()=>WA.Z,CustomShaderMode:()=>jA.Z,CustomShaderPipelineStage:()=>JA.Z,CustomShaderTranslucencyMode:()=>XA.Z,CylinderGeometry:()=>Kp.Z,CylinderGeometryLibrary:()=>qp.Z,CylinderGeometryUpdater:()=>j.Z,CylinderGraphics:()=>J.Z,CylinderOutlineGeometry:()=>Hp.Z,CzmlDataSource:()=>zi,DataSource:()=>Fe.Z,DataSourceClock:()=>Ue,DataSourceCollection:()=>Ki.Z,DataSourceDisplay:()=>qi.Z,DebugAppearance:()=>Vb,DebugCameraPrimitive:()=>Nb.Z,DebugInspector:()=>Ub.Z,DebugModelMatrixPrimitive:()=>qb,DefaultProxy:()=>Wp.Z,DepthFunction:()=>Hb.Z,DepthPlane:()=>Wb.Z,DequantizationPipelineStage:()=>$A.Z,DerivedCommand:()=>jb.Z,DeveloperError:()=>S.Z,DeviceOrientationCameraController:()=>Jb.Z,DirectionalLight:()=>Xb,DiscardEmptyTileImagePolicy:()=>$b.Z,DiscardMissingTileImagePolicy:()=>Yb.Z,DistanceDisplayCondition:()=>re.Z,DistanceDisplayConditionGeometryInstanceAttribute:()=>jp.Z,DoubleEndedPriorityQueue:()=>Jp.Z,DoublyLinkedList:()=>Xp.Z,DracoLoader:()=>Qb.Z,DrawCommand:()=>ih.Z,DynamicGeometryBatch:()=>Hi.Z,DynamicGeometryUpdater:()=>Wi.Z,EarthOrientationParameters:()=>$p.Z,EarthOrientationParametersSample:()=>Yp.Z,EasingFunction:()=>Sc.Z,EllipseGeometry:()=>Zp.Z,EllipseGeometryLibrary:()=>Qp.Z,EllipseGeometryUpdater:()=>ji.Z,EllipseGraphics:()=>Ge.Z,EllipseOutlineGeometry:()=>Sp.Z,Ellipsoid:()=>oe.Z,EllipsoidGeodesic:()=>ef.Z,EllipsoidGeometry:()=>tf.Z,EllipsoidGeometryUpdater:()=>Ji.Z,EllipsoidGraphics:()=>ze.Z,EllipsoidOutlineGeometry:()=>nf.Z,EllipsoidPrimitive:()=>ew.Z,EllipsoidRhumbLine:()=>rf.Z,EllipsoidSurfaceAppearance:()=>ow,EllipsoidTangentPlane:()=>of.Z,EllipsoidTerrainProvider:()=>sf.Z,EllipsoidalOccluder:()=>af.Z,Empty3DTileContent:()=>sw.Z,EncodedCartesian3:()=>lf.Z,Entity:()=>P.Z,EntityCluster:()=>Ke.Z,EntityCollection:()=>M.Z,EntityView:()=>Xi.Z,Event:()=>m.Z,EventHelper:()=>gt.Z,Expression:()=>aw.Z,ExpressionNodeType:()=>lw.Z,ExtrapolationType:()=>se.Z,FeatureDetection:()=>cf.Z,FeatureIdPipelineStage:()=>YA.Z,Fog:()=>cw.Z,ForEach:()=>_A.Z,FrameRateMonitor:()=>dw,FrameState:()=>hw.Z,Framebuffer:()=>nh.Z,FramebufferManager:()=>rh.Z,FrustumCommands:()=>pw.Z,FrustumGeometry:()=>uf.Z,FrustumOutlineGeometry:()=>df.Z,Fullscreen:()=>hf.Z,FullscreenButton:()=>lR.Z,FullscreenButtonViewModel:()=>cR.Z,GeoJsonDataSource:()=>$i.Z,GeoJsonLoader:()=>QA.Z,GeocodeType:()=>pf.Z,Geocoder:()=>uR.Z,GeocoderService:()=>ff.Z,GeocoderViewModel:()=>dR.Z,GeographicProjection:()=>mf.Z,GeographicTilingScheme:()=>Bh.Z,Geometry:()=>gf.Z,Geometry3DTileContent:()=>fw.Z,GeometryAttribute:()=>_f.Z,GeometryAttributes:()=>yf.Z,GeometryFactory:()=>vf,GeometryInstance:()=>bf.Z,GeometryInstanceAttribute:()=>wf.Z,GeometryOffsetAttribute:()=>xf.Z,GeometryPipeline:()=>Cf.Z,GeometryPipelineStage:()=>eE.Z,GeometryType:()=>Sf.Z,GeometryUpdater:()=>Yi.Z,GeometryVisualizer:()=>Qi.Z,GetFeatureInfoFormat:()=>mw.Z,Globe:()=>gw.Z,GlobeDepth:()=>_w.Z,GlobeSurfaceShaderSet:()=>yw.Z,GlobeSurfaceTile:()=>Zw.Z,GlobeSurfaceTileProvider:()=>vw.Z,GlobeTranslucency:()=>bw.Z,GlobeTranslucencyFramebuffer:()=>ww.Z,GlobeTranslucencyState:()=>xw.Z,GltfBufferViewLoader:()=>Cw.Z,GltfDracoLoader:()=>Sw.Z,GltfImageLoader:()=>Tw.Z,GltfIndexBufferLoader:()=>Pw.Z,GltfJsonLoader:()=>Mw.Z,GltfLoader:()=>Aw.Z,GltfLoaderUtil:()=>Ew.Z,GltfStructuralMetadataLoader:()=>kw.Z,GltfTextureLoader:()=>Iw.Z,GltfVertexBufferLoader:()=>Ow.Z,GoogleEarthEnterpriseImageryProvider:()=>Dw,GoogleEarthEnterpriseMapsProvider:()=>Fw.Z,GoogleEarthEnterpriseMetadata:()=>Gf,GoogleEarthEnterpriseTerrainData:()=>hm,GoogleEarthEnterpriseTerrainProvider:()=>ym,GoogleEarthEnterpriseTileInformation:()=>kf,GoogleMaps:()=>wm,GpxDataSource:()=>os,GregorianDate:()=>xm.Z,GridImageryProvider:()=>Gw,GridMaterialProperty:()=>Xe,GroundGeometryUpdater:()=>ss.Z,GroundPolylineGeometry:()=>Cm.Z,GroundPolylinePrimitive:()=>zw.Z,GroundPrimitive:()=>Kw.Z,GroupMetadata:()=>qw.Z,HeadingPitchRange:()=>fs.Z,HeadingPitchRoll:()=>ms.Z,Heap:()=>Sm.Z,HeightReference:()=>ke.Z,HeightmapEncoding:()=>Dh.Z,HeightmapTerrainData:()=>Fh.Z,HeightmapTessellator:()=>Tm.Z,HermitePolynomialApproximation:()=>he,HermiteSpline:()=>lp.Z,HilbertOrder:()=>Pm.Z,HomeButton:()=>hR.Z,HomeButtonViewModel:()=>pR.Z,HorizontalOrigin:()=>Ie.Z,I3SDataProvider:()=>xx,I3SFeature:()=>Ww,I3SField:()=>Jw,I3SGeometry:()=>px,I3SLayer:()=>Zx,I3SNode:()=>_x,I3dmLoader:()=>tE.Z,I3dmParser:()=>Cx.Z,Iau2000Orientation:()=>Mm.Z,Iau2006XysData:()=>Am.Z,Iau2006XysSample:()=>Em.Z,IauOrientationAxes:()=>km.Z,IauOrientationParameters:()=>Im.Z,ImageBasedLighting:()=>Sx.Z,ImageBasedLightingPipelineStage:()=>iE.Z,ImageMaterialProperty:()=>$e.Z,Imagery:()=>Tx.Z,ImageryLayer:()=>Px.Z,ImageryLayerCollection:()=>Mx.Z,ImageryLayerFeatureInfo:()=>Ax.Z,ImageryProvider:()=>Ex.Z,ImageryState:()=>kx.Z,Implicit3DTileContent:()=>Ix.Z,ImplicitAvailabilityBitstream:()=>Ox.Z,ImplicitMetadataView:()=>Rx.Z,ImplicitSubdivisionScheme:()=>Bx.Z,ImplicitSubtree:()=>ov.Z,ImplicitSubtreeCache:()=>lv,ImplicitSubtreeMetadata:()=>Dx.Z,ImplicitTileCoordinates:()=>cv.Z,ImplicitTileset:()=>uv.Z,IndexDatatype:()=>zf.Z,InfoBox:()=>fR.Z,InfoBoxViewModel:()=>mR.Z,InspectorShared:()=>MO,InstanceAttributeSemantic:()=>Fx.Z,InstancingPipelineStage:()=>nE.Z,InterpolationAlgorithm:()=>Rm,InterpolationType:()=>Bm.Z,Intersect:()=>Dm.Z,IntersectionTests:()=>Fm.Z,Intersections2D:()=>Kf.Z,Interval:()=>Lm.Z,InvertClassification:()=>Lx.Z,Ion:()=>Vm.Z,IonGeocoderService:()=>Nm.Z,IonImageryProvider:()=>Vx.Z,IonResource:()=>Um.Z,IonWorldImageryStyle:()=>Nx.Z,Iso8601:()=>pe.Z,JobScheduler:()=>Ux.Z,JobType:()=>Gx.Z,JsonMetadataTable:()=>zx.Z,JulianDate:()=>fe.Z,KTX2Transcoder:()=>Gm.Z,KeyboardEventModifier:()=>zm.Z,KeyframeNode:()=>Kx.Z,KmlCamera:()=>as,KmlDataSource:()=>Hu,KmlLookAt:()=>gc,KmlTour:()=>wc,KmlTourFlyTo:()=>Pc,KmlTourWait:()=>Ac,Label:()=>qx.Z,LabelCollection:()=>Hx.Z,LabelGraphics:()=>Ye.Z,LabelStyle:()=>Oe.Z,LabelVisualizer:()=>Wu.Z,LagrangePolynomialApproximation:()=>me,LeapSecond:()=>Km.Z,Light:()=>jx,LightingModel:()=>rE.Z,LightingPipelineStage:()=>oE.Z,LinearApproximation:()=>ge.Z,LinearSpline:()=>qm.Z,ManagedArray:()=>Hm.Z,MapMode2D:()=>Jx.Z,MapProjection:()=>jm,MapboxImageryProvider:()=>Xx.Z,MapboxStyleImageryProvider:()=>tC,Material:()=>nw.Z,MaterialAppearance:()=>iC.Z,MaterialPipelineStage:()=>sE.Z,MaterialProperty:()=>ju.Z,Math:()=>T.Z,Matrix2:()=>Jm.Z,Matrix3:()=>Dt.Z,Matrix4:()=>cp.Z,Megatexture:()=>nC.Z,MetadataClass:()=>rC.Z,MetadataClassProperty:()=>oC.Z,MetadataComponentType:()=>sC.Z,MetadataEntity:()=>aC.Z,MetadataEnum:()=>lC.Z,MetadataEnumValue:()=>cC.Z,MetadataPipelineStage:()=>aE.Z,MetadataSchema:()=>uC.Z,MetadataSchemaLoader:()=>dC.Z,MetadataSemantic:()=>dv.Z,MetadataTable:()=>gv.Z,MetadataTableProperty:()=>hC.Z,MetadataType:()=>hv.Z,MipmapHint:()=>oh.Z,Model:()=>lE.Z,Model3DTileContent:()=>cE.Z,ModelAlphaOptions:()=>uE.Z,ModelAnimation:()=>dE.Z,ModelAnimationChannel:()=>hE.Z,ModelAnimationCollection:()=>pE.Z,ModelAnimationLoop:()=>pC.Z,ModelAnimationState:()=>fC.Z,ModelArticulation:()=>fE.Z,ModelArticulationStage:()=>mE.Z,ModelClippingPlanesPipelineStage:()=>gE.Z,ModelColorPipelineStage:()=>_E.Z,ModelComponents:()=>mC.Z,ModelDrawCommand:()=>yE.Z,ModelFeature:()=>ZE.Z,ModelFeatureTable:()=>vE.Z,ModelGraphics:()=>Qe.Z,ModelLightingOptions:()=>bE.Z,ModelMatrixUpdateStage:()=>wE.Z,ModelNode:()=>xE.Z,ModelRenderResources:()=>CE.Z,ModelRuntimeNode:()=>SE.Z,ModelRuntimePrimitive:()=>TE.Z,ModelSceneGraph:()=>PE.Z,ModelSilhouettePipelineStage:()=>ME.Z,ModelSkin:()=>AE.Z,ModelSplitterPipelineStage:()=>EE.Z,ModelStatistics:()=>kE.Z,ModelType:()=>IE.Z,ModelUtility:()=>OE.Z,ModelVisualizer:()=>Ju.Z,Moon:()=>gC.Z,MorphTargetsPipelineStage:()=>RE.Z,MorphWeightSpline:()=>$m,MortonOrder:()=>Ym.Z,Multiple3DTileContent:()=>_C.Z,MultisampleFramebuffer:()=>sh.Z,NavigationHelpButton:()=>gR.Z,NavigationHelpButtonViewModel:()=>_R.Z,NearFarScalar:()=>_e.Z,NeverTileDiscardPolicy:()=>yC.Z,NodeRenderResources:()=>BE.Z,NodeStatisticsPipelineStage:()=>DE.Z,NodeTransformationProperty:()=>et.Z,OIT:()=>ZC.Z,Occluder:()=>Qm.Z,OctahedralProjectedCubeMap:()=>vC.Z,OffsetGeometryInstanceAttribute:()=>eg.Z,OpenCageGeocoderService:()=>ig,OpenStreetMapImageryProvider:()=>bC.Z,OrderedGroundPrimitiveCollection:()=>wC.Z,OrientedBoundingBox:()=>qf.Z,OrthographicFrustum:()=>ng.Z,OrthographicOffCenterFrustum:()=>rg.Z,Packable:()=>og,PackableForInterpolation:()=>sg,Particle:()=>TC,ParticleBurst:()=>MC,ParticleEmitter:()=>EC,ParticleSystem:()=>VC,Pass:()=>ah.Z,PassState:()=>lh.Z,PathGraphics:()=>tt.Z,PathVisualizer:()=>Xu.Z,PeliasGeocoderService:()=>ag.Z,PerInstanceColorAppearance:()=>NC.Z,PerformanceDisplay:()=>UC.Z,PerformanceWatchdog:()=>bR,PerformanceWatchdogViewModel:()=>ZR,PerspectiveFrustum:()=>lg.Z,PerspectiveOffCenterFrustum:()=>cg.Z,PickDepth:()=>GC.Z,PickDepthFramebuffer:()=>zC.Z,PickFramebuffer:()=>KC.Z,Picking:()=>qC.Z,PickingPipelineStage:()=>FE.Z,PinBuilder:()=>en.Z,PixelDatatype:()=>ch.Z,PixelFormat:()=>ug.Z,Plane:()=>dg.Z,PlaneGeometry:()=>hg.Z,PlaneGeometryUpdater:()=>$u.Z,PlaneGraphics:()=>Yu.Z,PlaneOutlineGeometry:()=>pg.Z,PntsLoader:()=>LE.Z,PntsParser:()=>HC.Z,PointCloud:()=>WC.Z,PointCloudEyeDomeLighting:()=>jC.Z,PointCloudShading:()=>JC.Z,PointCloudStylingPipelineStage:()=>VE.Z,PointGraphics:()=>it.Z,PointPrimitive:()=>XC.Z,PointPrimitiveCollection:()=>$C.Z,PointVisualizer:()=>Qu.Z,PolygonGeometry:()=>fg.Z,PolygonGeometryLibrary:()=>mg.Z,PolygonGeometryUpdater:()=>ed.Z,PolygonGraphics:()=>nt.Z,PolygonHierarchy:()=>ye.Z,PolygonOutlineGeometry:()=>gg.Z,PolygonPipeline:()=>_g.Z,Polyline:()=>YC.Z,PolylineArrowMaterialProperty:()=>ot,PolylineCollection:()=>QC.Z,PolylineColorAppearance:()=>Gb.Z,PolylineDashMaterialProperty:()=>st.Z,PolylineGeometry:()=>yg.Z,PolylineGeometryUpdater:()=>td.Z,PolylineGlowMaterialProperty:()=>ct,PolylineGraphics:()=>ut.Z,PolylineMaterialAppearance:()=>eS.Z,PolylineOutlineMaterialProperty:()=>ft,PolylinePipeline:()=>Zg.Z,PolylineVisualizer:()=>id.Z,PolylineVolumeGeometry:()=>vg.Z,PolylineVolumeGeometryLibrary:()=>bg.Z,PolylineVolumeGeometryUpdater:()=>nd.Z,PolylineVolumeGraphics:()=>mt.Z,PolylineVolumeOutlineGeometry:()=>wg.Z,PositionProperty:()=>rd.Z,PositionPropertyArray:()=>yt,PostProcessStage:()=>tS.Z,PostProcessStageCollection:()=>iS.Z,PostProcessStageComposite:()=>nS.Z,PostProcessStageLibrary:()=>rS.Z,PostProcessStageSampleMode:()=>oS.Z,PostProcessStageTextureCache:()=>sS.Z,Primitive:()=>zb.Z,PrimitiveCollection:()=>aS.Z,PrimitiveLoadPlan:()=>lS.Z,PrimitiveOutlineGenerator:()=>NE.Z,PrimitiveOutlinePipelineStage:()=>UE.Z,PrimitivePipeline:()=>cS.Z,PrimitiveRenderResources:()=>GE.Z,PrimitiveState:()=>uS.Z,PrimitiveStatisticsPipelineStage:()=>zE.Z,PrimitiveType:()=>xg.Z,ProjectionPicker:()=>wR.Z,ProjectionPickerViewModel:()=>xR.Z,Property:()=>_.Z,PropertyArray:()=>vt,PropertyAttribute:()=>dS.Z,PropertyAttributeProperty:()=>hS.Z,PropertyBag:()=>bt.Z,PropertyTable:()=>pS.Z,PropertyTexture:()=>fS.Z,PropertyTextureProperty:()=>mS.Z,ProviderViewModel:()=>FO.Z,Proxy:()=>Sg,QuadraticRealPolynomial:()=>Tg.Z,QuadtreeOccluders:()=>gS.Z,QuadtreePrimitive:()=>_S.Z,QuadtreeTile:()=>yS.Z,QuadtreeTileLoadState:()=>ZS.Z,QuadtreeTileProvider:()=>bS,QuantizedMeshTerrainData:()=>Hf.Z,QuarticRealPolynomial:()=>Pg.Z,Quaternion:()=>Ze.Z,QuaternionSpline:()=>Mg.Z,Queue:()=>Ag.Z,Ray:()=>Eg.Z,Rectangle:()=>ve.Z,RectangleCollisionChecker:()=>kg.Z,RectangleGeometry:()=>Ig.Z,RectangleGeometryLibrary:()=>Og.Z,RectangleGeometryUpdater:()=>od.Z,RectangleGraphics:()=>wt.Z,RectangleOutlineGeometry:()=>Rg.Z,ReferenceFrame:()=>be.Z,ReferenceProperty:()=>xt.Z,RenderState:()=>uh.Z,Renderbuffer:()=>dh.Z,RenderbufferFormat:()=>hh.Z,Request:()=>Lh.Z,RequestErrorEvent:()=>Bg.Z,RequestScheduler:()=>Dg.Z,RequestState:()=>Vh.Z,RequestType:()=>Nh.Z,Resource:()=>we.Z,ResourceCache:()=>fv.Z,ResourceCacheKey:()=>wS.Z,ResourceCacheStatistics:()=>xS.Z,ResourceLoader:()=>CS.Z,ResourceLoaderState:()=>SS.Z,Rotation:()=>Ct,RuntimeError:()=>xe.Z,S2Cell:()=>Fg.Z,SDFSettings:()=>TS.Z,SampledPositionProperty:()=>St.Z,SampledProperty:()=>Tt.Z,Sampler:()=>ph.Z,ScaledPositionProperty:()=>Ec.Z,Scene:()=>PS.Z,SceneFramebuffer:()=>MS.Z,SceneMode:()=>Zs.Z,SceneMode2DPipelineStage:()=>KE.Z,SceneModePicker:()=>CR.Z,SceneModePickerViewModel:()=>SR.Z,SceneTransforms:()=>AS.Z,SceneTransitioner:()=>ES.Z,ScreenSpaceCameraController:()=>kS.Z,ScreenSpaceEventHandler:()=>Lg.Z,ScreenSpaceEventType:()=>Vg.Z,SelectedFeatureIdPipelineStage:()=>qE.Z,SelectionIndicator:()=>TR.Z,SelectionIndicatorViewModel:()=>PR.Z,ShaderBuilder:()=>fh.Z,ShaderCache:()=>mh.Z,ShaderDestination:()=>gh.Z,ShaderFunction:()=>_h.Z,ShaderProgram:()=>yh.Z,ShaderSource:()=>Zh.Z,ShaderStruct:()=>vh.Z,ShadowMap:()=>IS.Z,ShadowMapShader:()=>OS.Z,ShadowMode:()=>Re.Z,ShadowVolumeAppearance:()=>RS.Z,ShowGeometryInstanceAttribute:()=>Ng.Z,Simon1994PlanetaryPositions:()=>Ug.Z,SimplePolylineGeometry:()=>Wg,SingleTileImageryProvider:()=>BS.Z,SkinningPipelineStage:()=>HE.Z,SkyAtmosphere:()=>DS.Z,SkyBox:()=>FS.Z,SpatialNode:()=>LS.Z,SphereEmitter:()=>NS,SphereGeometry:()=>$g,SphereOutlineGeometry:()=>Yg.Z,Spherical:()=>Te,Spline:()=>up.Z,SplitDirection:()=>US.Z,Splitter:()=>GS.Z,StaticGeometryColorBatch:()=>sd.Z,StaticGeometryPerMaterialBatch:()=>ad.Z,StaticGroundGeometryColorBatch:()=>ld.Z,StaticGroundGeometryPerMaterialBatch:()=>cd.Z,StaticGroundPolylinePerMaterialBatch:()=>ud.Z,StaticOutlineGeometryBatch:()=>dd.Z,StencilConstants:()=>zS.Z,StencilFunction:()=>KS.Z,StencilOperation:()=>qS.Z,SteppedSpline:()=>Qg.Z,StripeMaterialProperty:()=>It,StripeOrientation:()=>Pt,StructuralMetadata:()=>HS.Z,StyleCommandsNeeded:()=>WE.Z,StyleExpression:()=>jS,Sun:()=>JS.Z,SunLight:()=>XS.Z,SunPostProcess:()=>$S.Z,SupportedImageFormats:()=>YS.Z,SvgPathBindingHandler:()=>AO.Z,TaskProcessor:()=>Of.Z,Terrain:()=>QS.Z,TerrainData:()=>Wf.Z,TerrainEncoding:()=>jf.Z,TerrainExaggeration:()=>e_.Z,TerrainFillMesh:()=>eT.Z,TerrainMesh:()=>Jf.Z,TerrainOffsetProperty:()=>hd.Z,TerrainProvider:()=>Uh.Z,TerrainQuantization:()=>t_.Z,TerrainState:()=>tT.Z,Texture:()=>bh.Z,TextureAtlas:()=>iT.Z,TextureCache:()=>wh.Z,TextureMagnificationFilter:()=>xh.Z,TextureManager:()=>jE.Z,TextureMinificationFilter:()=>Ch.Z,TextureUniform:()=>JE,TextureWrap:()=>Sh.Z,TileAvailability:()=>Gh.Z,TileBoundingRegion:()=>nT.Z,TileBoundingS2Cell:()=>rT.Z,TileBoundingSphere:()=>oT.Z,TileBoundingVolume:()=>aT,TileCoordinatesImageryProvider:()=>cT,TileDiscardPolicy:()=>dT,TileEdge:()=>i_.Z,TileImagery:()=>hT.Z,TileMapServiceImageryProvider:()=>pT.Z,TileMetadata:()=>fT.Z,TileOrientedBoundingBox:()=>mT.Z,TileProviderError:()=>zh.Z,TileReplacementQueue:()=>gT.Z,TileSelectionResult:()=>_T.Z,TileState:()=>yT,Tileset3DTileContent:()=>ZT.Z,TilesetMetadata:()=>vT.Z,TilesetPipelineStage:()=>XE.Z,TilingScheme:()=>r_,TimeConstants:()=>o_.Z,TimeDynamicImagery:()=>bT.Z,TimeDynamicPointCloud:()=>wT.Z,TimeInterval:()=>Pe.Z,TimeIntervalCollection:()=>Me.Z,TimeIntervalCollectionPositionProperty:()=>Ot.Z,TimeIntervalCollectionProperty:()=>Bt,TimeStandard:()=>s_.Z,Timeline:()=>ER.Z,TimelineHighlightRange:()=>kR.Z,TimelineTrack:()=>IR.Z,Tipsify:()=>a_.Z,ToggleButtonViewModel:()=>EO.Z,Tonemapper:()=>xT.Z,Transforms:()=>Ft.Z,TranslationRotationScale:()=>l_.Z,TranslucentTileClassification:()=>CT.Z,TridiagonalSystemSolver:()=>c_.Z,TrustedServers:()=>u_.Z,TweenCollection:()=>ST.Z,UniformState:()=>Th.Z,UniformType:()=>$E.Z,UrlTemplateImageryProvider:()=>$x.Z,VERSION:()=>nB,VRButton:()=>OR.Z,VRButtonViewModel:()=>RR.Z,VRTheWorldTerrainProvider:()=>Z_,VaryingType:()=>YE,Vector3DTileBatch:()=>TT.Z,Vector3DTileClampedPolylines:()=>PT.Z,Vector3DTileContent:()=>MT.Z,Vector3DTileGeometry:()=>AT.Z,Vector3DTilePoints:()=>ET.Z,Vector3DTilePolygons:()=>kT.Z,Vector3DTilePolylines:()=>IT.Z,Vector3DTilePrimitive:()=>OT.Z,VelocityOrientationProperty:()=>jt,VelocityVectorProperty:()=>zt,VertexArray:()=>Ph.Z,VertexArrayFacade:()=>Mh.Z,VertexAttributeSemantic:()=>RT.Z,VertexFormat:()=>vp.Z,VerticalOrigin:()=>Be.Z,VideoSynchronizer:()=>w_,View:()=>BT.Z,Viewer:()=>BR.Z,ViewportQuad:()=>FT,Visibility:()=>x_.Z,Visualizer:()=>fd,VoxelBoxShape:()=>mv.Z,VoxelContent:()=>yv,VoxelCylinderShape:()=>Zv.Z,VoxelEllipsoidShape:()=>LT.Z,VoxelInspector:()=>tB,VoxelInspectorViewModel:()=>YR,VoxelPrimitive:()=>VT.Z,VoxelProvider:()=>UT,VoxelRenderResources:()=>GT.Z,VoxelShape:()=>KT,VoxelShapeType:()=>vv.Z,VoxelTraversal:()=>qT.Z,VulkanConstants:()=>C_,WallGeometry:()=>S_.Z,WallGeometryLibrary:()=>T_.Z,WallGeometryUpdater:()=>md.Z,WallGraphics:()=>Jt.Z,WallOutlineGeometry:()=>P_.Z,WebGLConstants:()=>M_.Z,WebMapServiceImageryProvider:()=>HT.Z,WebMapTileServiceImageryProvider:()=>WT.Z,WebMercatorProjection:()=>A_.Z,WebMercatorTilingScheme:()=>Kh.Z,WindingOrder:()=>E_.Z,WireframeIndexGenerator:()=>k_.Z,WireframePipelineStage:()=>QE.Z,_shadersAcesTonemappingStage:()=>IM.Z,_shadersAdditiveBlend:()=>OM.Z,_shadersAdjustTranslucentFS:()=>hy.Z,_shadersAllMaterialAppearanceFS:()=>TP.Z,_shadersAllMaterialAppearanceVS:()=>PP.Z,_shadersAmbientOcclusionGenerate:()=>RM.Z,_shadersAmbientOcclusionModulate:()=>BM.Z,_shadersAspectRampMaterial:()=>VP.Z,_shadersAtmosphereCommon:()=>py.Z,_shadersBasicMaterialAppearanceFS:()=>MP.Z,_shadersBasicMaterialAppearanceVS:()=>AP.Z,_shadersBillboardCollectionFS:()=>fy.Z,_shadersBillboardCollectionVS:()=>my.Z,_shadersBlackAndWhite:()=>DM.Z,_shadersBloomComposite:()=>FM.Z,_shadersBrdfLutGeneratorFS:()=>gy.Z,_shadersBrightPass:()=>LM.Z,_shadersBrightness:()=>VM.Z,_shadersBumpMapMaterial:()=>NP.Z,_shadersCPUStylingStageFS:()=>nM.Z,_shadersCPUStylingStageVS:()=>rM.Z,_shadersCheckerboardMaterial:()=>UP.Z,_shadersCloudCollectionFS:()=>_y,_shadersCloudCollectionVS:()=>yy,_shadersCloudNoiseFS:()=>Zy,_shadersCloudNoiseVS:()=>vy,_shadersCompareAndPackTranslucentDepth:()=>by.Z,_shadersCompositeOITFS:()=>wy.Z,_shadersCompositeTranslucentClassification:()=>NM.Z,_shadersContrastBias:()=>UM.Z,_shadersCustomShaderStageFS:()=>oM.Z,_shadersCustomShaderStageVS:()=>sM.Z,_shadersCzmBuiltins:()=>LP.Z,_shadersDepthOfField:()=>GM.Z,_shadersDepthPlaneFS:()=>xy.Z,_shadersDepthPlaneVS:()=>Cy.Z,_shadersDepthView:()=>zM.Z,_shadersDepthViewPacked:()=>KM,_shadersDotMaterial:()=>GP.Z,_shadersEdgeDetection:()=>qM.Z,_shadersElevationBandMaterial:()=>zP.Z,_shadersElevationContourMaterial:()=>KP.Z,_shadersElevationRampMaterial:()=>qP.Z,_shadersEllipsoidFS:()=>Sy.Z,_shadersEllipsoidSurfaceAppearanceFS:()=>tw,_shadersEllipsoidSurfaceAppearanceVS:()=>iw,_shadersEllipsoidVS:()=>Ty.Z,_shadersFXAA:()=>HM.Z,_shadersFXAA3_11:()=>Py.Z,_shadersFadeMaterial:()=>HP.Z,_shadersFeatureIdStageFS:()=>aM.Z,_shadersFeatureIdStageVS:()=>lM.Z,_shadersFilmicTonemapping:()=>WM.Z,_shadersGaussianBlur1D:()=>jM.Z,_shadersGeometryStageFS:()=>cM.Z,_shadersGeometryStageVS:()=>uM.Z,_shadersGlobeFS:()=>My.Z,_shadersGlobeVS:()=>Ay.Z,_shadersGridMaterial:()=>WP.Z,_shadersGroundAtmosphere:()=>Ey.Z,_shadersHSBToRGB:()=>Vk.Z,_shadersHSLToRGB:()=>Nk.Z,_shadersImageBasedLightingStageFS:()=>dM.Z,_shadersInstancingStageCommon:()=>hM.Z,_shadersInstancingStageVS:()=>pM.Z,_shadersIntersectBox:()=>nA.Z,_shadersIntersectClippingPlanes:()=>rA.Z,_shadersIntersectCylinder:()=>oA.Z,_shadersIntersectDepth:()=>sA.Z,_shadersIntersectEllipsoid:()=>aA.Z,_shadersIntersection:()=>lA.Z,_shadersIntersectionUtils:()=>cA.Z,_shadersLegacyInstancingStageVS:()=>fM.Z,_shadersLensFlare:()=>JM.Z,_shadersLightingStageFS:()=>mM.Z,_shadersMaterialStageFS:()=>gM.Z,_shadersMegatexture:()=>uA.Z,_shadersMetadataStageFS:()=>_M.Z,_shadersMetadataStageVS:()=>yM.Z,_shadersModelClippingPlanesStageFS:()=>ZM.Z,_shadersModelColorStageFS:()=>vM.Z,_shadersModelFS:()=>bM.Z,_shadersModelSilhouetteStageFS:()=>wM.Z,_shadersModelSilhouetteStageVS:()=>xM.Z,_shadersModelSplitterStageFS:()=>CM.Z,_shadersModelVS:()=>SM.Z,_shadersModifiedReinhardTonemapping:()=>XM.Z,_shadersMorphTargetsStageVS:()=>TM.Z,_shadersNightVision:()=>$M.Z,_shadersNormalMapMaterial:()=>jP.Z,_shadersOctahedralProjectionAtlasFS:()=>ky.Z,_shadersOctahedralProjectionFS:()=>Iy.Z,_shadersOctahedralProjectionVS:()=>Oy.Z,_shadersOctree:()=>dA.Z,_shadersPassThrough:()=>YM.Z,_shadersPassThroughDepth:()=>QM.Z,_shadersPerInstanceColorAppearanceFS:()=>EP.Z,_shadersPerInstanceColorAppearanceVS:()=>kP.Z,_shadersPerInstanceFlatColorAppearanceFS:()=>IP.Z,_shadersPerInstanceFlatColorAppearanceVS:()=>OP.Z,_shadersPointCloudEyeDomeLighting:()=>eA.Z,_shadersPointCloudStylingStageVS:()=>PM.Z,_shadersPointPrimitiveCollectionFS:()=>Ry.Z,_shadersPointPrimitiveCollectionVS:()=>By.Z,_shadersPolylineArrowMaterial:()=>JP.Z,_shadersPolylineColorAppearanceVS:()=>RP.Z,_shadersPolylineCommon:()=>Dy.Z,_shadersPolylineDashMaterial:()=>XP.Z,_shadersPolylineFS:()=>Fy.Z,_shadersPolylineGlowMaterial:()=>$P.Z,_shadersPolylineMaterialAppearanceVS:()=>BP.Z,_shadersPolylineOutlineMaterial:()=>YP.Z,_shadersPolylineShadowVolumeFS:()=>Ly.Z,_shadersPolylineShadowVolumeMorphFS:()=>Vy.Z,_shadersPolylineShadowVolumeMorphVS:()=>Ny.Z,_shadersPolylineShadowVolumeVS:()=>Uy.Z,_shadersPolylineVS:()=>Gy.Z,_shadersPrimitiveOutlineStageFS:()=>MM.Z,_shadersPrimitiveOutlineStageVS:()=>AM.Z,_shadersRGBToHSB:()=>Uk.Z,_shadersRGBToHSL:()=>Gk.Z,_shadersRGBToXYZ:()=>zk.Z,_shadersReinhardTonemapping:()=>tA.Z,_shadersReprojectWebMercatorFS:()=>zy.Z,_shadersReprojectWebMercatorVS:()=>Ky.Z,_shadersRimLightingMaterial:()=>QP.Z,_shadersSelectedFeatureIdStageCommon:()=>EM.Z,_shadersShadowVolumeAppearanceFS:()=>qy.Z,_shadersShadowVolumeAppearanceVS:()=>Hy.Z,_shadersShadowVolumeFS:()=>Wy.Z,_shadersSilhouette:()=>iA.Z,_shadersSkinningStageVS:()=>kM.Z,_shadersSkyAtmosphereCommon:()=>jy.Z,_shadersSkyAtmosphereFS:()=>Jy.Z,_shadersSkyAtmosphereVS:()=>Xy.Z,_shadersSkyBoxFS:()=>$y.Z,_shadersSkyBoxVS:()=>Yy.Z,_shadersSlopeRampMaterial:()=>eM.Z,_shadersStripeMaterial:()=>tM.Z,_shadersSunFS:()=>Qy.Z,_shadersSunTextureFS:()=>eZ.Z,_shadersSunVS:()=>tZ.Z,_shadersTexturedMaterialAppearanceFS:()=>DP.Z,_shadersTexturedMaterialAppearanceVS:()=>FP.Z,_shadersVector3DTileClampedPolylinesFS:()=>iZ.Z,_shadersVector3DTileClampedPolylinesVS:()=>nZ.Z,_shadersVector3DTilePolylinesVS:()=>rZ.Z,_shadersVectorTileVS:()=>oZ.Z,_shadersViewportQuadFS:()=>sZ,_shadersViewportQuadVS:()=>aZ.Z,_shadersVoxelFS:()=>hA.Z,_shadersVoxelVS:()=>pA.Z,_shadersWater:()=>iM.Z,_shadersXYZToRGB:()=>Kk.Z,_shadersacesTonemapping:()=>qk.Z,_shadersalphaWeight:()=>Hk.Z,_shadersantialias:()=>Wk.Z,_shadersapproximateSphericalCoordinates:()=>jk.Z,_shadersbackFacing:()=>Jk.Z,_shadersbranchFreeTernary:()=>Xk.Z,_shaderscascadeColor:()=>$k.Z,_shaderscascadeDistance:()=>Yk.Z,_shaderscascadeMatrix:()=>Qk.Z,_shaderscascadeWeights:()=>eI.Z,_shaderscolumbusViewMorph:()=>tI.Z,_shaderscomputePosition:()=>iI.Z,_shadersconvertUvToBox:()=>fA.Z,_shadersconvertUvToCylinder:()=>mA.Z,_shadersconvertUvToEllipsoid:()=>gA.Z,_shaderscosineAndSine:()=>nI.Z,_shadersdecompressTextureCoordinates:()=>rI.Z,_shadersdefaultPbrMaterial:()=>oI.Z,_shadersdegreesPerRadian:()=>tk.Z,_shadersdepthClamp:()=>sI.Z,_shadersdepthRange:()=>ik.Z,_shadersdepthRangeStruct:()=>mO.Z,_shaderseastNorthUpToEyeCoordinates:()=>aI.Z,_shadersellipsoidContainsPoint:()=>lI.Z,_shadersellipsoidWgs84TextureCoordinates:()=>cI.Z,_shadersepsilon1:()=>nk.Z,_shadersepsilon2:()=>rk.Z,_shadersepsilon3:()=>ok.Z,_shadersepsilon4:()=>sk.Z,_shadersepsilon5:()=>ak.Z,_shadersepsilon6:()=>lk.Z,_shadersepsilon7:()=>ck.Z,_shadersequalsEpsilon:()=>uI.Z,_shaderseyeOffset:()=>dI.Z,_shaderseyeToWindowCoordinates:()=>hI.Z,_shadersfastApproximateAtan:()=>pI.Z,_shadersfog:()=>fI.Z,_shadersgammaCorrect:()=>mI.Z,_shadersgeodeticSurfaceNormal:()=>gI.Z,_shadersgetDefaultMaterial:()=>_I.Z,_shadersgetLambertDiffuse:()=>yI.Z,_shadersgetSpecular:()=>ZI.Z,_shadersgetWaterNoise:()=>vI.Z,_shadershue:()=>bI.Z,_shadersinfinity:()=>uk.Z,_shadersinverseGamma:()=>wI.Z,_shadersisEmpty:()=>xI.Z,_shadersisFull:()=>CI.Z,_shaderslatitudeToWebMercatorFraction:()=>SI.Z,_shaderslineDistance:()=>TI.Z,_shaderslinearToSrgb:()=>PI.Z,_shadersluminance:()=>MI.Z,_shadersmaterial:()=>gO.Z,_shadersmaterialInput:()=>_O.Z,_shadersmetersPerPixel:()=>AI.Z,_shadersmodelMaterial:()=>yO.Z,_shadersmodelToWindowCoordinates:()=>EI.Z,_shadersmodelVertexOutput:()=>ZO.Z,_shadersmultiplyWithColorBalance:()=>kI.Z,_shadersnearFarScalar:()=>II.Z,_shadersoctDecode:()=>OI.Z,_shadersoneOverPi:()=>dk.Z,_shadersoneOverTwoPi:()=>hk.Z,_shaderspackDepth:()=>RI.Z,_shaderspassCesium3DTile:()=>pk.Z,_shaderspassCesium3DTileClassification:()=>fk.Z,_shaderspassCesium3DTileClassificationIgnoreShow:()=>mk.Z,_shaderspassClassification:()=>gk.Z,_shaderspassCompute:()=>_k.Z,_shaderspassEnvironment:()=>yk.Z,_shaderspassGlobe:()=>Zk.Z,_shaderspassOpaque:()=>vk.Z,_shaderspassOverlay:()=>bk.Z,_shaderspassTerrainClassification:()=>wk.Z,_shaderspassTranslucent:()=>xk.Z,_shaderspassVoxels:()=>Ck.Z,_shaderspbrLighting:()=>BI.Z,_shaderspbrMetallicRoughnessMaterial:()=>DI.Z,_shaderspbrParameters:()=>vO.Z,_shaderspbrSpecularGlossinessMaterial:()=>FI.Z,_shadersphong:()=>LI.Z,_shaderspi:()=>Sk.Z,_shaderspiOverFour:()=>Tk.Z,_shaderspiOverSix:()=>Pk.Z,_shaderspiOverThree:()=>Mk.Z,_shaderspiOverTwo:()=>Ak.Z,_shadersplaneDistance:()=>VI.Z,_shaderspointAlongRay:()=>NI.Z,_shadersradiansPerDegree:()=>Ek.Z,_shadersray:()=>bO.Z,_shadersrayEllipsoidIntersectionInterval:()=>UI.Z,_shadersraySegment:()=>wO.Z,_shadersraySphereIntersectionInterval:()=>GI.Z,_shadersreadDepth:()=>zI.Z,_shadersreadNonPerspective:()=>KI.Z,_shadersreverseLogDepth:()=>qI.Z,_shadersround:()=>HI.Z,_shaderssampleOctahedralProjection:()=>WI.Z,_shaderssaturation:()=>jI.Z,_shaderssceneMode2D:()=>kk.Z,_shaderssceneMode3D:()=>Ik.Z,_shaderssceneModeColumbusView:()=>Ok.Z,_shaderssceneModeMorphing:()=>Rk.Z,_shadersshadowDepthCompare:()=>JI.Z,_shadersshadowParameters:()=>xO.Z,_shadersshadowVisibility:()=>XI.Z,_shaderssignNotZero:()=>$I.Z,_shaderssolarRadius:()=>Bk.Z,_shaderssphericalHarmonics:()=>YI.Z,_shaderssrgbToLinear:()=>QI.Z,_shaderstangentToEyeSpaceMatrix:()=>eO.Z,_shaderstextureCube:()=>tO.Z,_shadersthreePiOver2:()=>Dk.Z,_shaderstransformPlane:()=>iO.Z,_shaderstranslateRelativeToEye:()=>nO.Z,_shaderstranslucentPhong:()=>rO.Z,_shaderstranspose:()=>oO.Z,_shaderstwoPi:()=>Fk.Z,_shadersunpackDepth:()=>sO.Z,_shadersunpackFloat:()=>aO.Z,_shadersunpackUint:()=>lO.Z,_shadersvalueTransform:()=>cO.Z,_shadersvertexLogDepth:()=>uO.Z,_shaderswebMercatorMaxLatitude:()=>Lk.Z,_shaderswindowToEyeCoordinates:()=>dO.Z,_shaderswriteDepthClamp:()=>hO.Z,_shaderswriteLogDepth:()=>pO.Z,_shaderswriteNonPerspective:()=>fO.Z,addBuffer:()=>yA.Z,addDefaults:()=>ZA.Z,addExtensionsRequired:()=>vA.Z,addExtensionsUsed:()=>bA.Z,addPipelineExtras:()=>wA.Z,addToArray:()=>xA.Z,appendForwardSlash:()=>I_.Z,arrayRemoveDuplicates:()=>O_.Z,barycentricCoordinates:()=>R_.Z,binarySearch:()=>B_.Z,buildDrawCommand:()=>ek.Z,buildModuleUrl:()=>cs.Z,buildVoxelDrawCommands:()=>jT.Z,clone:()=>us.Z,combine:()=>Cc.Z,computeFlyToLocationForRectangle:()=>JT.Z,createBillboardPointCallback:()=>XT.Z,createCommand:()=>kO.Z,createDefaultImageryProviderViewModels:()=>LO.Z,createDefaultTerrainProviderViewModels:()=>VO.Z,createElevationBandMaterial:()=>aP,createGooglePhotorealistic3DTileset:()=>lP,createGuid:()=>C.Z,createMaterialPropertyDescriptor:()=>gd.Z,createOsmBuildings:()=>cP,createOsmBuildingsAsync:()=>uP,createPropertyDescriptor:()=>g.Z,createRawPropertyDescriptor:()=>Ve.Z,createTangentSpaceDebugPrimitive:()=>dP,createTaskProcessorWorker:()=>CO,createUniform:()=>Ah.Z,createUniformArray:()=>Eh.Z,createWorldImagery:()=>hP,createWorldImageryAsync:()=>pP.Z,createWorldTerrain:()=>D_,createWorldTerrainAsync:()=>F_.Z,decodeGoogleEarthEnterpriseData:()=>V_,decodeVectorPolylinePositions:()=>N_.Z,defaultValue:()=>p.Z,defer:()=>ds.Z,defined:()=>f.Z,demodernizeShader:()=>kh.Z,deprecationWarning:()=>_c.Z,destroyObject:()=>v_.Z,exportKml:()=>Kd,findAccessorMinMax:()=>CA.Z,findContentMetadata:()=>fP.Z,findGroupMetadata:()=>mP.Z,findTileMetadata:()=>gP.Z,forEachTextureInMaterial:()=>SA.Z,formatError:()=>U_.Z,freezeRenderState:()=>Ih.Z,getAbsoluteUri:()=>G_.Z,getAccessorByteStride:()=>TA.Z,getBaseUri:()=>z_.Z,getBinaryAccessor:()=>_P.Z,getClipAndStyleCode:()=>yP.Z,getClippingFunction:()=>ZP.Z,getComponentReader:()=>PA.Z,getElement:()=>mc.Z,getExtensionFromUri:()=>hs.Z,getFilenameFromUri:()=>ae.Z,getImageFromTypedArray:()=>K_.Z,getImagePixels:()=>d_.Z,getJsonFromTypedArray:()=>q_.Z,getMagic:()=>H_.Z,getStringFromTypedArray:()=>W_.Z,getTimestamp:()=>ps.Z,hasExtension:()=>rv.Z,heightReferenceOnEntityPropertyChanged:()=>qd.Z,isBitSet:()=>Mf,isBlobUri:()=>j_.Z,isCrossOriginUrl:()=>J_.Z,isDataUri:()=>X_.Z,isLeapYear:()=>$_.Z,knockout:()=>NO.Z,knockout_3_5_1:()=>MR.Z,knockout_es5:()=>AR.Z,loadAndExecuteScript:()=>If.Z,loadCubeMap:()=>Oh.Z,loadImageFromTypedArray:()=>Y_.Z,loadKTX2:()=>Q_.Z,mergeSort:()=>ey.Z,moveTechniqueRenderStates:()=>MA.Z,moveTechniquesToExtension:()=>AA.Z,numberOfComponentsForType:()=>EA.Z,objectToQuery:()=>gs.Z,oneTimeWarning:()=>_s.Z,parseBatchTable:()=>vP.Z,parseBoundingVolumeSemantics:()=>bP.Z,parseFeatureMetadataLegacy:()=>wP.Z,parseGlb:()=>kA.Z,parseResponseHeaders:()=>ty.Z,parseStructuralMetadata:()=>xP.Z,pointInsideTriangle:()=>ny,preprocess3DTileContent:()=>pv.Z,processVoxelProperties:()=>CP.Z,queryToObject:()=>ys.Z,readAccessorPacked:()=>IA.Z,removeExtension:()=>OA.Z,removeExtensionsRequired:()=>RA.Z,removeExtensionsUsed:()=>BA.Z,removePipelineExtras:()=>DA.Z,removeUnusedElements:()=>FA.Z,resizeImageToNextPowerOfTwo:()=>ry.Z,sampleTerrain:()=>oy.Z,sampleTerrainMostDetailed:()=>sy.Z,scaleToGeodeticSurface:()=>ay.Z,subdivideArray:()=>ly.Z,subscribeAndEvaluate:()=>IO.Z,updateAccessorComponentTypes:()=>LA.Z,updateVersion:()=>VA.Z,usesExtension:()=>NA.Z,viewerCesium3DTilesInspectorMixin:()=>DR,viewerCesiumInspectorMixin:()=>FR,viewerDragDropMixin:()=>zR,viewerPerformanceWatchdogMixin:()=>KR,viewerVoxelInspectorMixin:()=>iB,webGLConstantToGlslType:()=>cy,wrapFunction:()=>uy,writeTextToCanvas:()=>dy.Z});var n=i(255154),r=i(968601),o=i(311795),s=i(87167),a=i(483544),l=i(36581),c=i(307009),u=i(844362),d=i(889124),h=i(641106),p=i(999104),f=i(302075),m=i(847738),g=i(482637),_=i(696190);const y=h.Z.WHITE,Z=h.Z.BLACK,v=new d.Z(2,2);function b(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._definitionChanged=new m.Z,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.repeat=e.repeat}Object.defineProperties(b.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._evenColor)&&_.Z.isConstant(this._oddColor)&&_.Z.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},evenColor:(0,g.Z)("evenColor"),oddColor:(0,g.Z)("oddColor"),repeat:(0,g.Z)("repeat")}),b.prototype.getType=function(e){return"Checkerboard"},b.prototype.getValue=function(e,t){return(0,f.Z)(t)||(t={}),t.lightColor=_.Z.getValueOrClonedDefault(this._evenColor,e,y,t.lightColor),t.darkColor=_.Z.getValueOrClonedDefault(this._oddColor,e,Z,t.darkColor),t.repeat=_.Z.getValueOrDefault(this._repeat,e,v),t},b.prototype.equals=function(e){return this===e||e instanceof b&&_.Z.equals(this._evenColor,e._evenColor)&&_.Z.equals(this._oddColor,e._oddColor)&&_.Z.equals(this._repeat,e._repeat)};const w=b;var x=i(316376),C=i(624219),S=i(110189),T=i(815532),P=i(13498),M=i(522883);const A={id:void 0},E=new Array(2);function k(e){const t=e.propertyNames,i=t.length;for(let n=0;n<i;n++)e[t[n]]=void 0;e._name=void 0,e._availability=void 0}function I(e,t,i,n){E[0]=i,E[1]=n.id,t[JSON.stringify(E)]=n.definitionChanged.addEventListener(B.prototype._onDefinitionChanged,e)}function O(e,t,i,n){E[0]=i,E[1]=n.id;const r=JSON.stringify(E);t[r](),t[r]=void 0}function R(e){if(e._shouldRecomposite=!0,0!==e._suspendCount)return;const t=e._collections,i=t.length,n=e._collectionsCopy,r=n.length;let o,s,a,l,c;const u=e._composite,d=new M.Z(e),h=e._eventHash;let p;for(o=0;o<r;o++)for(c=n[o],c.collectionChanged.removeEventListener(B.prototype._onCollectionChanged,e),a=c.values,p=c.id,l=a.length-1;l>-1;l--)s=a[l],O(0,h,p,s);for(o=i-1;o>=0;o--)for(c=t[o],c.collectionChanged.addEventListener(B.prototype._onCollectionChanged,e),a=c.values,p=c.id,l=a.length-1;l>-1;l--){s=a[l],I(e,h,p,s);let t=d.getById(s.id);(0,f.Z)(t)||(t=u.getById(s.id),(0,f.Z)(t)?k(t):(A.id=s.id,t=new P.Z(A)),d.add(t)),t.merge(s)}e._collectionsCopy=t.slice(0),u.suspendEvents(),u.removeAll();const m=d.values;for(o=0;o<m.length;o++)u.add(m[o]);u.resumeEvents()}function B(e,t){this._owner=t,this._composite=new M.Z(this),this._suspendCount=0,this._collections=(0,f.Z)(e)?e.slice():[],this._collectionsCopy=[],this._id=(0,C.Z)(),this._eventHash={},R(this),this._shouldRecomposite=!1}function D(e,t){if(!(0,f.Z)(t))throw new S.Z("collection is required.");const i=e.indexOf(t);if(-1===i)throw new S.Z("collection is not in this composite.");return i}function F(e,t,i){const n=e._collections;if((t=T.Z.clamp(t,0,n.length-1))===(i=T.Z.clamp(i,0,n.length-1)))return;const r=n[t];n[t]=n[i],n[i]=r,R(e)}Object.defineProperties(B.prototype,{collectionChanged:{get:function(){return this._composite._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._composite.values}},owner:{get:function(){return this._owner}}}),B.prototype.addCollection=function(e,t){const i=(0,f.Z)(t);if(!(0,f.Z)(e))throw new S.Z("collection is required.");if(i){if(t<0)throw new S.Z("index must be greater than or equal to zero.");if(t>this._collections.length)throw new S.Z("index must be less than or equal to the number of collections.")}i?this._collections.splice(t,0,e):(t=this._collections.length,this._collections.push(e)),R(this)},B.prototype.removeCollection=function(e){const t=this._collections.indexOf(e);return-1!==t&&(this._collections.splice(t,1),R(this),!0)},B.prototype.removeAllCollections=function(){this._collections.length=0,R(this)},B.prototype.containsCollection=function(e){return-1!==this._collections.indexOf(e)},B.prototype.contains=function(e){return this._composite.contains(e)},B.prototype.indexOfCollection=function(e){return this._collections.indexOf(e)},B.prototype.getCollection=function(e){if(!(0,f.Z)(e))throw new S.Z("index is required.","index");return this._collections[e]},B.prototype.getCollectionsLength=function(){return this._collections.length},B.prototype.raiseCollection=function(e){const t=D(this._collections,e);F(this,t,t+1)},B.prototype.lowerCollection=function(e){const t=D(this._collections,e);F(this,t,t-1)},B.prototype.raiseCollectionToTop=function(e){const t=D(this._collections,e);t!==this._collections.length-1&&(this._collections.splice(t,1),this._collections.push(e),R(this))},B.prototype.lowerCollectionToBottom=function(e){const t=D(this._collections,e);0!==t&&(this._collections.splice(t,1),this._collections.splice(0,0,e),R(this))},B.prototype.suspendEvents=function(){this._suspendCount++,this._composite.suspendEvents()},B.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new S.Z("resumeEvents can not be called before suspendEvents.");this._suspendCount--,this._shouldRecomposite&&0===this._suspendCount&&(R(this),this._shouldRecomposite=!1),this._composite.resumeEvents()},B.prototype.computeAvailability=function(){return this._composite.computeAvailability()},B.prototype.getById=function(e){return this._composite.getById(e)},B.prototype._onCollectionChanged=function(e,t,i){const n=this._collectionsCopy,r=n.length,o=this._composite;let s,a,l,c;o.suspendEvents();const u=i.length,d=this._eventHash,h=e.id;for(s=0;s<u;s++){const e=i[s];O(0,d,h,e);const t=e.id;for(a=r-1;a>=0;a--)l=n[a].getById(t),(0,f.Z)(l)&&((0,f.Z)(c)||(c=o.getById(t),k(c)),c.merge(l));(0,f.Z)(c)||o.removeById(t),c=void 0}const p=t.length;for(s=0;s<p;s++){const e=t[s];I(this,d,h,e);const i=e.id;for(a=r-1;a>=0;a--)l=n[a].getById(i),(0,f.Z)(l)&&((0,f.Z)(c)||(c=o.getById(i),(0,f.Z)(c)?k(c):(A.id=i,c=new P.Z(A),o.add(c))),c.merge(l));c=void 0}o.resumeEvents()},B.prototype._onDefinitionChanged=function(e,t,i,n){const r=this._collections,o=this._composite,s=r.length,a=e.id,l=o.getById(a);let c=l[t];const u=!(0,f.Z)(c);let d=!0;for(let i=s-1;i>=0;i--){const n=r[i].getById(e.id);if((0,f.Z)(n)){const e=n[t];if((0,f.Z)(e)){if(d){if(d=!1,!(0,f.Z)(e.merge)||!(0,f.Z)(e.clone)){c=e;break}c=e.clone(c)}c.merge(e)}}}u&&-1===l.propertyNames.indexOf(t)&&l.addProperty(t),l[t]=c};const L=B;var V=i(803402);function N(){this._definitionChanged=new m.Z,this._composite=new V.Z,this._composite.definitionChanged.addEventListener(N.prototype._raiseDefinitionChanged,this)}Object.defineProperties(N.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite._intervals}}}),N.prototype.getType=function(e){if(!(0,f.Z)(e))throw new S.Z("time is required");const t=this._composite._intervals.findDataForIntervalContainingDate(e);if((0,f.Z)(t))return t.getType(e)},N.prototype.getValue=function(e,t){if(!(0,f.Z)(e))throw new S.Z("time is required");const i=this._composite._intervals.findDataForIntervalContainingDate(e);if((0,f.Z)(i))return i.getValue(e,t)},N.prototype.equals=function(e){return this===e||e instanceof N&&this._composite.equals(e._composite,_.Z.equals)},N.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const U=N;var G=i(529075),z=i(641647),K=i(623259),q=i(659816),H=i(951719),W=i(977458),j=i(504739),J=i(269372),X=i(439405),$=i(295965),Y=i(372539),Q=i(869813),ee=i(187570),te=i(515285),ie=i(424732),ne=i(864118),re=i(434176),oe=i(373442),se=i(859177),ae=i(744375);const le=T.Z.factorial;function ce(e,t,i,n,r,o){let s,a,l,c=0;if(n>0){for(a=0;a<r;a++){for(s=!1,l=0;l<o.length&&!s;l++)a===o[l]&&(s=!0);s||(o.push(a),c+=ce(e,t,i,n-1,r,o),o.splice(o.length-1,1))}return c}for(c=1,a=0;a<r;a++){for(s=!1,l=0;l<o.length&&!s;l++)a===o[l]&&(s=!0);s||(c*=e-i[t[a]])}return c}const ue={type:"Hermite",getRequiredDataPoints:function(e,t){if(t=(0,p.Z)(t,0),!(0,f.Z)(e))throw new S.Z("degree is required.");if(e<0)throw new S.Z("degree must be 0 or greater.");if(t<0)throw new S.Z("inputOrder must be 0 or greater.");return Math.max(Math.floor((e+1)/(t+1)),2)},interpolateOrderZero:function(e,t,i,n,r){let o,s,a,l,c,u;(0,f.Z)(r)||(r=new Array(n));const d=t.length,h=new Array(n);for(o=0;o<n;o++){r[o]=0;const e=new Array(d);for(h[o]=e,s=0;s<d;s++)e[s]=[]}const p=d,m=new Array(p);for(o=0;o<p;o++)m[o]=o;let g=d-1;for(l=0;l<n;l++){for(s=0;s<p;s++)u=m[s]*n+l,h[l][0].push(i[u]);for(o=1;o<p;o++){let e=!1;for(s=0;s<p-o;s++){const r=t[m[s]],a=t[m[s+o]];let c;a-r<=0?(u=m[s]*n+n*o+l,c=i[u],h[l][o].push(c/le(o))):(c=h[l][o-1][s+1]-h[l][o-1][s],h[l][o].push(c/(a-r))),e=e||0!==c}e||(g=o-1)}}for(a=0,c=0;a<=0;a++)for(o=a;o<=g;o++){const i=ce(e,m,t,a,o,[]);for(l=0;l<n;l++){const e=h[l][o][0];r[l+a*n]+=e*i}}return r}},de=[];ue.interpolate=function(e,t,i,n,r,o,s){const a=n*(o+1);(0,f.Z)(s)||(s=new Array(a));for(let e=0;e<a;e++)s[e]=0;const l=t.length,c=new Array(l*(r+1));let u;for(u=0;u<l;u++)for(let e=0;e<r+1;e++)c[u*(r+1)+e]=u;const d=c.length,h=de,p=function(e,t,i,n,r,o){let s,a,l=-1;const c=t.length,u=c*(c+1)/2;for(let d=0;d<r;d++){const h=Math.floor(d*u);for(s=0;s<c;s++)a=t[s]*r*(o+1)+d,e[h+s]=n[a];for(let u=1;u<c;u++){let p=0;const f=Math.floor(u*(1-u)/2)+c*u;let m=!1;for(s=0;s<c-u;s++){const l=i[t[s]],g=i[t[s+u]];let _,y;if(g-l<=0)a=t[s]*r*(o+1)+r*u+d,_=n[a],y=_/T.Z.factorial(u),e[h+f+p]=y,p++;else{const t=Math.floor((u-1)*(2-u)/2)+c*(u-1);_=e[h+t+s+1]-e[h+t+s],y=_/(g-l),e[h+f+p]=y,p++}m=m||0!==_}m&&(l=Math.max(l,u))}}return l}(h,c,t,i,n,r),m=[],g=d*(d+1)/2,_=Math.min(p,o);for(let i=0;i<=_;i++)for(u=i;u<=p;u++){m.length=0;const r=ce(e,c,t,i,u,m),o=Math.floor(u*(1-u)/2)+d*u;for(let e=0;e<n;e++){const t=h[Math.floor(e*g)+o];s[e+i*n]+=t*r}}return s};const he=ue;var pe=i(845990),fe=i(843657);const me={type:"Lagrange",getRequiredDataPoints:function(e){return Math.max(e+1,2)},interpolateOrderZero:function(e,t,i,n,r){let o,s;(0,f.Z)(r)||(r=new Array(n));const a=t.length;for(o=0;o<n;o++)r[o]=0;for(o=0;o<a;o++){let l=1;for(s=0;s<a;s++)if(s!==o){const i=t[o]-t[s];l*=(e-t[s])/i}for(s=0;s<n;s++)r[s]+=l*i[o*n+s]}return r}};var ge=i(482256),_e=i(962173),ye=i(318836),Ze=i(178641),ve=i(589489),be=i(75737),we=i(797912),xe=i(966175),Ce=i(780353);function Se(e,t,i){this.clock=(0,p.Z)(e,0),this.cone=(0,p.Z)(t,0),this.magnitude=(0,p.Z)(i,1)}Se.fromCartesian3=function(e,t){Ce.Z.typeOf.object("cartesian3",e);const i=e.x,n=e.y,r=e.z,o=i*i+n*n;return(0,f.Z)(t)||(t=new Se),t.clock=Math.atan2(n,i),t.cone=Math.atan2(Math.sqrt(o),r),t.magnitude=Math.sqrt(o+r*r),t},Se.clone=function(e,t){if((0,f.Z)(e))return(0,f.Z)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new Se(e.clock,e.cone,e.magnitude)},Se.normalize=function(e,t){return Ce.Z.typeOf.object("spherical",e),(0,f.Z)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=1,t):new Se(e.clock,e.cone,1)},Se.equals=function(e,t){return e===t||(0,f.Z)(e)&&(0,f.Z)(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude},Se.equalsEpsilon=function(e,t,i){return i=(0,p.Z)(i,0),e===t||(0,f.Z)(e)&&(0,f.Z)(t)&&Math.abs(e.clock-t.clock)<=i&&Math.abs(e.cone-t.cone)<=i&&Math.abs(e.magnitude-t.magnitude)<=i},Se.prototype.equals=function(e){return Se.equals(this,e)},Se.prototype.clone=function(e){return Se.clone(this,e)},Se.prototype.equalsEpsilon=function(e,t){return Se.equalsEpsilon(this,e,t)},Se.prototype.toString=function(){return`(${this.clock}, ${this.cone}, ${this.magnitude})`};const Te=Se;var Pe=i(301723),Me=i(606040),Ae=i(2337),Ee=i(723106),ke=i(781940),Ie=i(882729),Oe=i(797067),Re=i(967837),Be=i(116949),De=i(354998),Fe=i(257738),Le=i(781938),Ve=i(383991);function Ne(){this._definitionChanged=new m.Z,this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}Object.defineProperties(Ne.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:(0,Ve.Z)("startTime"),stopTime:(0,Ve.Z)("stopTime"),currentTime:(0,Ve.Z)("currentTime"),clockRange:(0,Ve.Z)("clockRange"),clockStep:(0,Ve.Z)("clockStep"),multiplier:(0,Ve.Z)("multiplier")}),Ne.prototype.clone=function(e){return(0,f.Z)(e)||(e=new Ne),e.startTime=this.startTime,e.stopTime=this.stopTime,e.currentTime=this.currentTime,e.clockRange=this.clockRange,e.clockStep=this.clockStep,e.multiplier=this.multiplier,e},Ne.prototype.equals=function(e){return this===e||(0,f.Z)(e)&&fe.Z.equals(this.startTime,e.startTime)&&fe.Z.equals(this.stopTime,e.stopTime)&&fe.Z.equals(this.currentTime,e.currentTime)&&this.clockRange===e.clockRange&&this.clockStep===e.clockStep&&this.multiplier===e.multiplier},Ne.prototype.merge=function(e){if(!(0,f.Z)(e))throw new S.Z("source is required.");this.startTime=(0,p.Z)(this.startTime,e.startTime),this.stopTime=(0,p.Z)(this.stopTime,e.stopTime),this.currentTime=(0,p.Z)(this.currentTime,e.currentTime),this.clockRange=(0,p.Z)(this.clockRange,e.clockRange),this.clockStep=(0,p.Z)(this.clockStep,e.clockStep),this.multiplier=(0,p.Z)(this.multiplier,e.multiplier)},Ne.prototype.getValue=function(e){return(0,f.Z)(e)||(e=new Le.Z),e.startTime=(0,p.Z)(this.startTime,e.startTime),e.stopTime=(0,p.Z)(this.stopTime,e.stopTime),e.currentTime=(0,p.Z)(this.currentTime,e.currentTime),e.clockRange=(0,p.Z)(this.clockRange,e.clockRange),e.multiplier=(0,p.Z)(this.multiplier,e.multiplier),e.clockStep=(0,p.Z)(this.clockStep,e.clockStep),e};const Ue=Ne;var Ge=i(200237),ze=i(6615),Ke=i(831305);const qe=h.Z.WHITE,He=new d.Z(8,8),We=new d.Z(0,0),je=new d.Z(1,1);function Je(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._definitionChanged=new m.Z,this._color=void 0,this._colorSubscription=void 0,this._cellAlpha=void 0,this._cellAlphaSubscription=void 0,this._lineCount=void 0,this._lineCountSubscription=void 0,this._lineThickness=void 0,this._lineThicknessSubscription=void 0,this._lineOffset=void 0,this._lineOffsetSubscription=void 0,this.color=e.color,this.cellAlpha=e.cellAlpha,this.lineCount=e.lineCount,this.lineThickness=e.lineThickness,this.lineOffset=e.lineOffset}Object.defineProperties(Je.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._color)&&_.Z.isConstant(this._cellAlpha)&&_.Z.isConstant(this._lineCount)&&_.Z.isConstant(this._lineThickness)&&_.Z.isConstant(this._lineOffset)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,g.Z)("color"),cellAlpha:(0,g.Z)("cellAlpha"),lineCount:(0,g.Z)("lineCount"),lineThickness:(0,g.Z)("lineThickness"),lineOffset:(0,g.Z)("lineOffset")}),Je.prototype.getType=function(e){return"Grid"},Je.prototype.getValue=function(e,t){return(0,f.Z)(t)||(t={}),t.color=_.Z.getValueOrClonedDefault(this._color,e,qe,t.color),t.cellAlpha=_.Z.getValueOrDefault(this._cellAlpha,e,.1),t.lineCount=_.Z.getValueOrClonedDefault(this._lineCount,e,He,t.lineCount),t.lineThickness=_.Z.getValueOrClonedDefault(this._lineThickness,e,je,t.lineThickness),t.lineOffset=_.Z.getValueOrClonedDefault(this._lineOffset,e,We,t.lineOffset),t},Je.prototype.equals=function(e){return this===e||e instanceof Je&&_.Z.equals(this._color,e._color)&&_.Z.equals(this._cellAlpha,e._cellAlpha)&&_.Z.equals(this._lineCount,e._lineCount)&&_.Z.equals(this._lineThickness,e._lineThickness)&&_.Z.equals(this._lineOffset,e._lineOffset)};const Xe=Je;var $e=i(27254),Ye=i(400863),Qe=i(779004),et=i(285048),tt=i(659988),it=i(420539),nt=i(516344);function rt(e){this._definitionChanged=new m.Z,this._color=void 0,this._colorSubscription=void 0,this.color=e}Object.defineProperties(rt.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,g.Z)("color")}),rt.prototype.getType=function(e){return"PolylineArrow"},rt.prototype.getValue=function(e,t){return(0,f.Z)(t)||(t={}),t.color=_.Z.getValueOrClonedDefault(this._color,e,h.Z.WHITE,t.color),t},rt.prototype.equals=function(e){return this===e||e instanceof rt&&_.Z.equals(this._color,e._color)};const ot=rt;var st=i(136537);const at=h.Z.WHITE;function lt(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._definitionChanged=new m.Z,this._color=void 0,this._colorSubscription=void 0,this._glowPower=void 0,this._glowPowerSubscription=void 0,this._taperPower=void 0,this._taperPowerSubscription=void 0,this.color=e.color,this.glowPower=e.glowPower,this.taperPower=e.taperPower}Object.defineProperties(lt.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._color)&&_.Z.isConstant(this._glow)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,g.Z)("color"),glowPower:(0,g.Z)("glowPower"),taperPower:(0,g.Z)("taperPower")}),lt.prototype.getType=function(e){return"PolylineGlow"},lt.prototype.getValue=function(e,t){return(0,f.Z)(t)||(t={}),t.color=_.Z.getValueOrClonedDefault(this._color,e,at,t.color),t.glowPower=_.Z.getValueOrDefault(this._glowPower,e,.25,t.glowPower),t.taperPower=_.Z.getValueOrDefault(this._taperPower,e,1,t.taperPower),t},lt.prototype.equals=function(e){return this===e||e instanceof lt&&_.Z.equals(this._color,e._color)&&_.Z.equals(this._glowPower,e._glowPower)&&_.Z.equals(this._taperPower,e._taperPower)};const ct=lt;var ut=i(41017);const dt=h.Z.WHITE,ht=h.Z.BLACK;function pt(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._definitionChanged=new m.Z,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this.color=e.color,this.outlineColor=e.outlineColor,this.outlineWidth=e.outlineWidth}Object.defineProperties(pt.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._color)&&_.Z.isConstant(this._outlineColor)&&_.Z.isConstant(this._outlineWidth)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,g.Z)("color"),outlineColor:(0,g.Z)("outlineColor"),outlineWidth:(0,g.Z)("outlineWidth")}),pt.prototype.getType=function(e){return"PolylineOutline"},pt.prototype.getValue=function(e,t){return(0,f.Z)(t)||(t={}),t.color=_.Z.getValueOrClonedDefault(this._color,e,dt,t.color),t.outlineColor=_.Z.getValueOrClonedDefault(this._outlineColor,e,ht,t.outlineColor),t.outlineWidth=_.Z.getValueOrDefault(this._outlineWidth,e,1),t},pt.prototype.equals=function(e){return this===e||e instanceof pt&&_.Z.equals(this._color,e._color)&&_.Z.equals(this._outlineColor,e._outlineColor)&&_.Z.equals(this._outlineWidth,e._outlineWidth)};const ft=pt;var mt=i(353398),gt=i(695001);function _t(e,t){this._value=void 0,this._definitionChanged=new m.Z,this._eventHelper=new gt.Z,this._referenceFrame=(0,p.Z)(t,be.Z.FIXED),this.setValue(e)}Object.defineProperties(_t.prototype,{isConstant:{get:function(){const e=this._value;if(!(0,f.Z)(e))return!0;const t=e.length;for(let i=0;i<t;i++)if(!_.Z.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),_t.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,be.Z.FIXED,t)},_t.prototype.getValueInReferenceFrame=function(e,t,i){if(!(0,f.Z)(e))throw new S.Z("time is required.");if(!(0,f.Z)(t))throw new S.Z("referenceFrame is required.");const n=this._value;if(!(0,f.Z)(n))return;const r=n.length;(0,f.Z)(i)||(i=new Array(r));let o=0,s=0;for(;o<r;){const r=n[o].getValueInReferenceFrame(e,t,i[o]);(0,f.Z)(r)&&(i[s]=r,s++),o++}return i.length=s,i},_t.prototype.setValue=function(e){const t=this._eventHelper;if(t.removeAll(),(0,f.Z)(e)){this._value=e.slice();const i=e.length;for(let n=0;n<i;n++){const i=e[n];(0,f.Z)(i)&&t.add(i.definitionChanged,_t.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},_t.prototype.equals=function(e){return this===e||e instanceof _t&&this._referenceFrame===e._referenceFrame&&_.Z.arrayEquals(this._value,e._value)},_t.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const yt=_t;function Zt(e){this._value=void 0,this._definitionChanged=new m.Z,this._eventHelper=new gt.Z,this.setValue(e)}Object.defineProperties(Zt.prototype,{isConstant:{get:function(){const e=this._value;if(!(0,f.Z)(e))return!0;const t=e.length;for(let i=0;i<t;i++)if(!_.Z.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}}),Zt.prototype.getValue=function(e,t){if(!(0,f.Z)(e))throw new S.Z("time is required.");const i=this._value;if(!(0,f.Z)(i))return;const n=i.length;(0,f.Z)(t)||(t=new Array(n));let r=0,o=0;for(;r<n;){const i=this._value[r].getValue(e,t[r]);(0,f.Z)(i)&&(t[o]=i,o++),r++}return t.length=o,t},Zt.prototype.setValue=function(e){const t=this._eventHelper;if(t.removeAll(),(0,f.Z)(e)){this._value=e.slice();const i=e.length;for(let n=0;n<i;n++){const i=e[n];(0,f.Z)(i)&&t.add(i.definitionChanged,Zt.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},Zt.prototype.equals=function(e){return this===e||e instanceof Zt&&_.Z.arrayEquals(this._value,e._value)},Zt.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const vt=Zt;var bt=i(866665),wt=i(205453),xt=i(780116);const Ct={packedLength:1,pack:function(e,t,i){if(!(0,f.Z)(e))throw new S.Z("value is required");if(!(0,f.Z)(t))throw new S.Z("array is required");return t[i=(0,p.Z)(i,0)]=e,t},unpack:function(e,t,i){if(!(0,f.Z)(e))throw new S.Z("array is required");return e[t=(0,p.Z)(t,0)]},convertPackedArrayForInterpolation:function(e,t,i,n){if(!(0,f.Z)(e))throw new S.Z("packedArray is required");let r;(0,f.Z)(n)||(n=[]),t=(0,p.Z)(t,0);for(let o=0,s=(i=(0,p.Z)(i,e.length))-t+1;o<s;o++){const i=e[t+o];0===o||Math.abs(r-i)<Math.PI?n[o]=i:n[o]=i-T.Z.TWO_PI,r=i}},unpackInterpolationResult:function(e,t,i,n,r){if(!(0,f.Z)(e))throw new S.Z("array is required");if(!(0,f.Z)(t))throw new S.Z("sourceArray is required");return(r=e[0])<0?r+T.Z.TWO_PI:r}};var St=i(439097),Tt=i(165607);const Pt=Object.freeze({HORIZONTAL:0,VERTICAL:1}),Mt=Pt.HORIZONTAL,At=h.Z.WHITE,Et=h.Z.BLACK;function kt(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._definitionChanged=new m.Z,this._orientation=void 0,this._orientationSubscription=void 0,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._offset=void 0,this._offsetSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.orientation=e.orientation,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.offset=e.offset,this.repeat=e.repeat}Object.defineProperties(kt.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._orientation)&&_.Z.isConstant(this._evenColor)&&_.Z.isConstant(this._oddColor)&&_.Z.isConstant(this._offset)&&_.Z.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},orientation:(0,g.Z)("orientation"),evenColor:(0,g.Z)("evenColor"),oddColor:(0,g.Z)("oddColor"),offset:(0,g.Z)("offset"),repeat:(0,g.Z)("repeat")}),kt.prototype.getType=function(e){return"Stripe"},kt.prototype.getValue=function(e,t){return(0,f.Z)(t)||(t={}),t.horizontal=_.Z.getValueOrDefault(this._orientation,e,Mt)===Pt.HORIZONTAL,t.evenColor=_.Z.getValueOrClonedDefault(this._evenColor,e,At,t.evenColor),t.oddColor=_.Z.getValueOrClonedDefault(this._oddColor,e,Et,t.oddColor),t.offset=_.Z.getValueOrDefault(this._offset,e,0),t.repeat=_.Z.getValueOrDefault(this._repeat,e,1),t},kt.prototype.equals=function(e){return this===e||e instanceof kt&&_.Z.equals(this._orientation,e._orientation)&&_.Z.equals(this._evenColor,e._evenColor)&&_.Z.equals(this._oddColor,e._oddColor)&&_.Z.equals(this._offset,e._offset)&&_.Z.equals(this._repeat,e._repeat)};const It=kt;var Ot=i(919555);function Rt(){this._definitionChanged=new m.Z,this._intervals=new Me.Z,this._intervals.changedEvent.addEventListener(Rt.prototype._intervalsChanged,this)}Object.defineProperties(Rt.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),Rt.prototype.getValue=function(e,t){if(!(0,f.Z)(e))throw new S.Z("time is required");const i=this._intervals.findDataForIntervalContainingDate(e);return(0,f.Z)(i)&&"function"==typeof i.clone?i.clone(t):i},Rt.prototype.equals=function(e){return this===e||e instanceof Rt&&this._intervals.equals(e._intervals,_.Z.equals)},Rt.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)};const Bt=Rt;var Dt=i(359512),Ft=i(59645);function Lt(e,t){this._position=void 0,this._subscription=void 0,this._definitionChanged=new m.Z,this._normalize=(0,p.Z)(t,!0),this.position=e}Object.defineProperties(Lt.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._position)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._position},set:function(e){const t=this._position;t!==e&&((0,f.Z)(t)&&this._subscription(),this._position=e,(0,f.Z)(e)&&(this._subscription=e._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)),this._definitionChanged.raiseEvent(this))}},normalize:{get:function(){return this._normalize},set:function(e){this._normalize!==e&&(this._normalize=e,this._definitionChanged.raiseEvent(this))}}});const Vt=new Y.Z,Nt=new Y.Z,Ut=new fe.Z,Gt=1/60;Lt.prototype.getValue=function(e,t){return this._getValue(e,t)},Lt.prototype._getValue=function(e,t,i){if(!(0,f.Z)(e))throw new S.Z("time is required");(0,f.Z)(t)||(t=new Y.Z);const n=this._position;if(_.Z.isConstant(n))return this._normalize?void 0:Y.Z.clone(Y.Z.ZERO,t);let r=n.getValue(e,Vt),o=n.getValue(fe.Z.addSeconds(e,Gt,Ut),Nt);if(!(0,f.Z)(r))return;if(!(0,f.Z)(o)&&(o=r,r=n.getValue(fe.Z.addSeconds(e,-Gt,Ut),Nt),!(0,f.Z)(r)))return;if(Y.Z.equals(r,o))return this._normalize?void 0:Y.Z.clone(Y.Z.ZERO,t);(0,f.Z)(i)&&r.clone(i);const s=Y.Z.subtract(o,r,t);return this._normalize?Y.Z.normalize(s,t):Y.Z.divideByScalar(s,Gt,t)},Lt.prototype.equals=function(e){return this===e||e instanceof Lt&&_.Z.equals(this._position,e._position)};const zt=Lt;function Kt(e,t){this._velocityVectorProperty=new zt(e,!0),this._subscription=void 0,this._ellipsoid=void 0,this._definitionChanged=new m.Z,this.ellipsoid=(0,p.Z)(t,oe.Z.WGS84);const i=this;this._velocityVectorProperty.definitionChanged.addEventListener(function(){i._definitionChanged.raiseEvent(i)})}Object.defineProperties(Kt.prototype,{isConstant:{get:function(){return _.Z.isConstant(this._velocityVectorProperty)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._velocityVectorProperty.position},set:function(e){this._velocityVectorProperty.position=e}},ellipsoid:{get:function(){return this._ellipsoid},set:function(e){this._ellipsoid!==e&&(this._ellipsoid=e,this._definitionChanged.raiseEvent(this))}}});const qt=new Y.Z,Ht=new Y.Z,Wt=new Dt.Z;Kt.prototype.getValue=function(e,t){const i=this._velocityVectorProperty._getValue(e,Ht,qt);if((0,f.Z)(i))return Ft.Z.rotationMatrixFromPositionVelocity(qt,i,this._ellipsoid,Wt),Ze.Z.fromRotationMatrix(Wt,t)},Kt.prototype.equals=function(e){return this===e||e instanceof Kt&&_.Z.equals(this._velocityVectorProperty,e._velocityVectorProperty)&&(this._ellipsoid===e._ellipsoid||this._ellipsoid.equals(e._ellipsoid))};const jt=Kt;var Jt=i(808587);function Xt(){}let $t;function Yt(e,t){return"#"===t[0]&&(t=$t+t),xt.Z.fromString(e,t)}function Qt(e,t,i){if((0,f.Z)(i.reference))return Yt(t,i.reference);if((0,f.Z)(i.velocityReference)){const n=Yt(t,i.velocityReference);switch(e){case Y.Z:case Xt:return new zt(n,e===Xt);case Ze.Z:return new jt(n)}}throw new xe.Z(`${JSON.stringify(i)} is not valid CZML.`)}Xt.packedLength=Y.Z.packedLength,Xt.unpack=Y.Z.unpack,Xt.pack=Y.Z.pack;const ei=new Y.Z,ti=new Te,ii=new Q.Z,ni=new Pe.Z,ri=new Ze.Z;function oi(e,t){const i=(0,p.Z)(e.uri,e);return(0,f.Z)(t)?t.getDerivedResource({url:i}):we.Z.createIfNeeded(i)}function si(e){const t=e.cartesian;if((0,f.Z)(t))return t;const i=e.cartesianVelocity;if((0,f.Z)(i))return i;const n=e.unitCartesian;if((0,f.Z)(n))return n;const r=e.unitSpherical;if((0,f.Z)(r))return function(e){const t=e.length;if(ti.magnitude=1,2===t)return ti.clock=e[0],ti.cone=e[1],Y.Z.fromSpherical(ti,ei),[ei.x,ei.y,ei.z];const i=new Array(t/3*4);for(let n=0,r=0;n<t;n+=3,r+=4)i[r]=e[n],ti.clock=e[n+1],ti.cone=e[n+2],Y.Z.fromSpherical(ti,ei),i[r+1]=ei.x,i[r+2]=ei.y,i[r+3]=ei.z;return i}(r);const o=e.spherical;if((0,f.Z)(o))return function(e){const t=e.length;if(3===t)return ti.clock=e[0],ti.cone=e[1],ti.magnitude=e[2],Y.Z.fromSpherical(ti,ei),[ei.x,ei.y,ei.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ti.clock=e[n+1],ti.cone=e[n+2],ti.magnitude=e[n+3],Y.Z.fromSpherical(ti,ei),i[n+1]=ei.x,i[n+2]=ei.y,i[n+3]=ei.z;return i}(o);const s=e.cartographicRadians;if((0,f.Z)(s))return function(e){const t=e.length;if(3===t)return ii.longitude=e[0],ii.latitude=e[1],ii.height=e[2],oe.Z.WGS84.cartographicToCartesian(ii,ei),[ei.x,ei.y,ei.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ii.longitude=e[n+1],ii.latitude=e[n+2],ii.height=e[n+3],oe.Z.WGS84.cartographicToCartesian(ii,ei),i[n+1]=ei.x,i[n+2]=ei.y,i[n+3]=ei.z;return i}(s);const a=e.cartographicDegrees;if((0,f.Z)(a))return function(e){const t=e.length;if(3===t)return ii.longitude=T.Z.toRadians(e[0]),ii.latitude=T.Z.toRadians(e[1]),ii.height=e[2],oe.Z.WGS84.cartographicToCartesian(ii,ei),[ei.x,ei.y,ei.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ii.longitude=T.Z.toRadians(e[n+1]),ii.latitude=T.Z.toRadians(e[n+2]),ii.height=e[n+3],oe.Z.WGS84.cartographicToCartesian(ii,ei),i[n+1]=ei.x,i[n+2]=ei.y,i[n+3]=ei.z;return i}(a);throw new xe.Z(`${JSON.stringify(e)} is not a valid CZML interval.`)}function ai(e,t){Y.Z.unpack(e,t,ei),Y.Z.normalize(ei,ei),Y.Z.pack(ei,e,t)}function li(e,t){Ze.Z.unpack(e,t,ri),Ze.Z.normalize(ri,ri),Ze.Z.pack(ri,e,t)}function ci(e){return"boolean"==typeof e?Boolean:"number"==typeof e?Number:"string"==typeof e?String:e.hasOwnProperty("array")?Array:e.hasOwnProperty("boolean")?Boolean:e.hasOwnProperty("boundingRectangle")?$.Z:e.hasOwnProperty("cartesian2")?d.Z:e.hasOwnProperty("cartesian")||e.hasOwnProperty("spherical")||e.hasOwnProperty("cartographicRadians")||e.hasOwnProperty("cartographicDegrees")?Y.Z:e.hasOwnProperty("unitCartesian")||e.hasOwnProperty("unitSpherical")?Xt:e.hasOwnProperty("rgba")||e.hasOwnProperty("rgbaf")?h.Z:e.hasOwnProperty("arcType")?X.Z:e.hasOwnProperty("classificationType")?Ae.Z:e.hasOwnProperty("colorBlendMode")?Ee.Z:e.hasOwnProperty("cornerType")?ie.Z:e.hasOwnProperty("heightReference")?ke.Z:e.hasOwnProperty("horizontalOrigin")?Ie.Z:e.hasOwnProperty("date")?fe.Z:e.hasOwnProperty("labelStyle")?Oe.Z:e.hasOwnProperty("number")?Number:e.hasOwnProperty("nearFarScalar")?_e.Z:e.hasOwnProperty("distanceDisplayCondition")?re.Z:e.hasOwnProperty("object")||e.hasOwnProperty("value")?Object:e.hasOwnProperty("unitQuaternion")?Ze.Z:e.hasOwnProperty("shadowMode")?Re.Z:e.hasOwnProperty("string")?String:e.hasOwnProperty("stripeOrientation")?Pt:e.hasOwnProperty("wsen")||e.hasOwnProperty("wsenDegrees")?ve.Z:e.hasOwnProperty("uri")?De:e.hasOwnProperty("verticalOrigin")?Be.Z:Object}const ui={HERMITE:he,LAGRANGE:me,LINEAR:ge.Z};function di(e,t){const i=e.interpolationAlgorithm,n=e.interpolationDegree;((0,f.Z)(i)||(0,f.Z)(n))&&t.setInterpolationOptions({interpolationAlgorithm:ui[i],interpolationDegree:n});const r=e.forwardExtrapolationType;(0,f.Z)(r)&&(t.forwardExtrapolationType=se.Z[r]);const o=e.forwardExtrapolationDuration;(0,f.Z)(o)&&(t.forwardExtrapolationDuration=o);const s=e.backwardExtrapolationType;(0,f.Z)(s)&&(t.backwardExtrapolationType=se.Z[s]);const a=e.backwardExtrapolationDuration;(0,f.Z)(a)&&(t.backwardExtrapolationDuration=a)}const hi={iso8601:void 0};function pi(e){if((0,f.Z)(e))return hi.iso8601=e,Pe.Z.fromIso8601(hi)}function fi(e){const t=pe.Z.MAXIMUM_INTERVAL.clone();return t.data=e,t}function mi(e){const t=new V.Z;return t.intervals.addInterval(fi(e)),t}function gi(e){const t=new G.Z(e.referenceFrame);return t.intervals.addInterval(fi(e)),t}function _i(e,t,i,n,r,o,s){let a,l,c,u=pi(n.interval);(0,f.Z)(r)&&(u=(0,f.Z)(u)?Pe.Z.intersect(u,r,ni):r);const m=!(0,f.Z)(n.reference)&&!(0,f.Z)(n.velocityReference),g=(0,f.Z)(u)&&!u.equals(pe.Z.MAXIMUM_INTERVAL);if(!0===n.delete)return g?yi(t[i],u):void(t[i]=void 0);let _=!1;if(m){if(l=function(e,t,i){switch(e){case X.Z:return X.Z[(0,p.Z)(t.arcType,t)];case Array:return t.array;case Boolean:return(0,p.Z)(t.boolean,t);case $.Z:return t.boundingRectangle;case d.Z:return t.cartesian2;case Y.Z:return si(t);case Xt:return function(e){const t=si(e);if(3===t.length)return ai(t,0),t;for(let e=1;e<t.length;e+=4)ai(t,e);return t}(t);case h.Z:return function(e){let t=e.rgbaf;if((0,f.Z)(t))return t;const i=e.rgba;if(!(0,f.Z)(i))return;const n=i.length;if(n===h.Z.packedLength)return[h.Z.byteToFloat(i[0]),h.Z.byteToFloat(i[1]),h.Z.byteToFloat(i[2]),h.Z.byteToFloat(i[3])];t=new Array(n);for(let e=0;e<n;e+=5)t[e]=i[e],t[e+1]=h.Z.byteToFloat(i[e+1]),t[e+2]=h.Z.byteToFloat(i[e+2]),t[e+3]=h.Z.byteToFloat(i[e+3]),t[e+4]=h.Z.byteToFloat(i[e+4]);return t}(t);case Ae.Z:return Ae.Z[(0,p.Z)(t.classificationType,t)];case Ee.Z:return Ee.Z[(0,p.Z)(t.colorBlendMode,t)];case ie.Z:return ie.Z[(0,p.Z)(t.cornerType,t)];case ke.Z:return ke.Z[(0,p.Z)(t.heightReference,t)];case Ie.Z:return Ie.Z[(0,p.Z)(t.horizontalOrigin,t)];case Image:return oi(t,i);case fe.Z:return fe.Z.fromIso8601((0,p.Z)(t.date,t));case Oe.Z:return Oe.Z[(0,p.Z)(t.labelStyle,t)];case Number:return(0,p.Z)(t.number,t);case _e.Z:return t.nearFarScalar;case re.Z:return t.distanceDisplayCondition;case Object:return(0,p.Z)((0,p.Z)(t.object,t.value),t);case Ze.Z:return function(e){const t=e.unitQuaternion;if((0,f.Z)(t)){if(4===t.length)return li(t,0),t;for(let e=1;e<t.length;e+=5)li(t,e)}return t}(t);case Ct:return(0,p.Z)(t.number,t);case Re.Z:return Re.Z[(0,p.Z)((0,p.Z)(t.shadowMode,t.shadows),t)];case String:return(0,p.Z)(t.string,t);case Pt:return Pt[(0,p.Z)(t.stripeOrientation,t)];case ve.Z:return function(e){let t=e.wsen;if((0,f.Z)(t))return t;const i=e.wsenDegrees;if(!(0,f.Z)(i))return;const n=i.length;if(n===ve.Z.packedLength)return[T.Z.toRadians(i[0]),T.Z.toRadians(i[1]),T.Z.toRadians(i[2]),T.Z.toRadians(i[3])];t=new Array(n);for(let e=0;e<n;e+=5)t[e]=i[e],t[e+1]=T.Z.toRadians(i[e+1]),t[e+2]=T.Z.toRadians(i[e+2]),t[e+3]=T.Z.toRadians(i[e+3]),t[e+4]=T.Z.toRadians(i[e+4]);return t}(t);case De:return oi(t,i);case Be.Z:return Be.Z[(0,p.Z)(t.verticalOrigin,t)];default:throw new xe.Z(e)}}(e,n,o),!(0,f.Z)(l))return;a=(0,p.Z)(e.packedLength,1),c=(0,p.Z)(l.length,1),_=!(0,f.Z)(n.array)&&"string"!=typeof l&&c>a&&e!==Object}const y="function"==typeof e.unpack&&e!==Ct;if(!_&&!g)return void(t[i]=m?new K.Z(y?e.unpack(l,0):l):Qt(e,s,n));let Z,v=t[i];const b=n.epoch;if((0,f.Z)(b)&&(Z=fe.Z.fromIso8601(b)),_&&!g)return v instanceof Tt.Z||(t[i]=v=new Tt.Z(e)),v.addSamplesPackedArray(l,Z),void di(n,v);let w;if(!_&&g)return u=u.clone(),u.data=m?y?e.unpack(l,0):l:Qt(e,s,n),(0,f.Z)(v)||(t[i]=v=m?new Bt:new V.Z),void(m&&v instanceof Bt?v.intervals.addInterval(u):v instanceof V.Z?(m&&(u.data=new K.Z(u.data)),v.intervals.addInterval(u)):(t[i]=v=mi(v),m&&(u.data=new K.Z(u.data)),v.intervals.addInterval(u)));(0,f.Z)(v)||(t[i]=v=new V.Z),v instanceof V.Z||(t[i]=v=mi(v));const x=v.intervals;w=x.findInterval(u),(0,f.Z)(w)&&w.data instanceof Tt.Z||(w=u.clone(),w.data=new Tt.Z(e),x.addInterval(w)),w.data.addSamplesPackedArray(l,Z),di(n,w.data)}function yi(e,t){if(e instanceof Tt.Z)e.removeSamples(t);else if(e instanceof Bt)e.intervals.removeInterval(t);else if(e instanceof V.Z){const i=e.intervals;for(let e=0;e<i.length;++e){const n=Pe.Z.intersect(i.get(e),t,ni);n.isEmpty||yi(n.data,t)}return void i.removeInterval(t)}}function Zi(e,t,i,n,r,o,s){if((0,f.Z)(n))if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)_i(e,t,i,n[a],r,o,s);else _i(e,t,i,n,r,o,s)}function vi(e,t,i,n,r,o){let s=pi(i.interval);(0,f.Z)(n)&&(s=(0,f.Z)(s)?Pe.Z.intersect(s,n,ni):n);const a=(0,f.Z)(i.cartesianVelocity)?1:0,l=Y.Z.packedLength*(a+1);let c,u;const d=!(0,f.Z)(i.reference),h=(0,f.Z)(s)&&!s.equals(pe.Z.MAXIMUM_INTERVAL);if(!0===i.delete)return h?bi(e[t],s):void(e[t]=void 0);let m,g=!1;if(d&&((0,f.Z)(i.referenceFrame)&&(m=be.Z[i.referenceFrame]),m=(0,p.Z)(m,be.Z.FIXED),c=si(i),u=(0,p.Z)(c.length,1),g=u>l),!g&&!h)return void(e[t]=d?new z.Z(Y.Z.unpack(c),m):Yt(o,i.reference));let _,y=e[t];const Z=i.epoch;if((0,f.Z)(Z)&&(_=fe.Z.fromIso8601(Z)),g&&!h)return y instanceof St.Z&&(!(0,f.Z)(m)||y.referenceFrame===m)||(e[t]=y=new St.Z(m,a)),y.addSamplesPackedArray(c,_),void di(i,y);let v;if(!g&&h)return s=s.clone(),s.data=d?Y.Z.unpack(c):Yt(o,i.reference),(0,f.Z)(y)||(y=d?new Ot.Z(m):new G.Z(m),e[t]=y),void(d&&y instanceof Ot.Z&&(0,f.Z)(m)&&y.referenceFrame===m?y.intervals.addInterval(s):y instanceof G.Z?(d&&(s.data=new z.Z(s.data,m)),y.intervals.addInterval(s)):(e[t]=y=gi(y),d&&(s.data=new z.Z(s.data,m)),y.intervals.addInterval(s)));(0,f.Z)(y)?y instanceof G.Z||(e[t]=y=gi(y)):e[t]=y=new G.Z(m);const b=y.intervals;v=b.findInterval(s),(0,f.Z)(v)&&v.data instanceof St.Z&&(!(0,f.Z)(m)||v.data.referenceFrame===m)||(v=s.clone(),v.data=new St.Z(m,a),b.addInterval(v)),v.data.addSamplesPackedArray(c,_),di(i,v.data)}function bi(e,t){if(e instanceof St.Z)e.removeSamples(t);else if(e instanceof Ot.Z)e.intervals.removeInterval(t);else if(e instanceof G.Z){const i=e.intervals;for(let e=0;e<i.length;++e){const n=Pe.Z.intersect(i.get(e),t,ni);n.isEmpty||bi(n.data,t)}return void i.removeInterval(t)}}function wi(e,t,i,n,r,o){if((0,f.Z)(i))if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r)vi(e,t,i[r],n,0,o);else vi(e,t,i,n,0,o)}function xi(e,t,i,n){(0,f.Z)(i.references)?Ti(e,t,i.references,i.interval,n,vt,V.Z):((0,f.Z)(i.cartesian2)?i.array=d.Z.unpackArray(i.cartesian2):(0,f.Z)(i.cartesian)&&(i.array=d.Z.unpackArray(i.cartesian)),(0,f.Z)(i.array)&&Zi(Array,e,t,i,void 0,void 0,n))}function Ci(e,t,i,n,r,o){let s=pi(i.interval);(0,f.Z)(n)&&(s=(0,f.Z)(s)?Pe.Z.intersect(s,n,ni):n);let a,l,c,u=e[t];if((0,f.Z)(s)){u instanceof U||(u=new U,e[t]=u);const i=u.intervals;l=i.findInterval({start:s.start,stop:s.stop}),(0,f.Z)(l)?a=l.data:(l=s.clone(),i.addInterval(l))}else a=u;(0,f.Z)(i.solidColor)?(a instanceof x.Z||(a=new x.Z),c=i.solidColor,Zi(h.Z,a,"color",c.color,void 0,void 0,o)):(0,f.Z)(i.grid)?(a instanceof Xe||(a=new Xe),c=i.grid,Zi(h.Z,a,"color",c.color,void 0,r,o),Zi(Number,a,"cellAlpha",c.cellAlpha,void 0,r,o),Zi(d.Z,a,"lineCount",c.lineCount,void 0,r,o),Zi(d.Z,a,"lineThickness",c.lineThickness,void 0,r,o),Zi(d.Z,a,"lineOffset",c.lineOffset,void 0,r,o)):(0,f.Z)(i.image)?(a instanceof $e.Z||(a=new $e.Z),c=i.image,Zi(Image,a,"image",c.image,void 0,r,o),Zi(d.Z,a,"repeat",c.repeat,void 0,r,o),Zi(h.Z,a,"color",c.color,void 0,r,o),Zi(Boolean,a,"transparent",c.transparent,void 0,r,o)):(0,f.Z)(i.stripe)?(a instanceof It||(a=new It),c=i.stripe,Zi(Pt,a,"orientation",c.orientation,void 0,r,o),Zi(h.Z,a,"evenColor",c.evenColor,void 0,r,o),Zi(h.Z,a,"oddColor",c.oddColor,void 0,r,o),Zi(Number,a,"offset",c.offset,void 0,r,o),Zi(Number,a,"repeat",c.repeat,void 0,r,o)):(0,f.Z)(i.polylineOutline)?(a instanceof ft||(a=new ft),c=i.polylineOutline,Zi(h.Z,a,"color",c.color,void 0,r,o),Zi(h.Z,a,"outlineColor",c.outlineColor,void 0,r,o),Zi(Number,a,"outlineWidth",c.outlineWidth,void 0,r,o)):(0,f.Z)(i.polylineGlow)?(a instanceof ct||(a=new ct),c=i.polylineGlow,Zi(h.Z,a,"color",c.color,void 0,r,o),Zi(Number,a,"glowPower",c.glowPower,void 0,r,o),Zi(Number,a,"taperPower",c.taperPower,void 0,r,o)):(0,f.Z)(i.polylineArrow)?(a instanceof ot||(a=new ot),c=i.polylineArrow,Zi(h.Z,a,"color",c.color,void 0,void 0,o)):(0,f.Z)(i.polylineDash)?(a instanceof st.Z||(a=new st.Z),c=i.polylineDash,Zi(h.Z,a,"color",c.color,void 0,void 0,o),Zi(h.Z,a,"gapColor",c.gapColor,void 0,void 0,o),Zi(Number,a,"dashLength",c.dashLength,void 0,r,o),Zi(Number,a,"dashPattern",c.dashPattern,void 0,r,o)):(0,f.Z)(i.checkerboard)&&(a instanceof w||(a=new w),c=i.checkerboard,Zi(h.Z,a,"evenColor",c.evenColor,void 0,r,o),Zi(h.Z,a,"oddColor",c.oddColor,void 0,r,o),Zi(d.Z,a,"repeat",c.repeat,void 0,r,o)),(0,f.Z)(l)?l.data=a:e[t]=a}function Si(e,t,i,n,r,o){if((0,f.Z)(i))if(Array.isArray(i))for(let s=0,a=i.length;s<a;++s)Ci(e,t,i[s],n,r,o);else Ci(e,t,i,n,r,o)}function Ti(e,t,i,n,r,o,s){const a=i.map(function(e){return Yt(r,e)});if((0,f.Z)(n)){n=pi(n);let i=e[t];if(!(i instanceof s)){const n=new s;n.intervals.addInterval(fi(i)),e[t]=i=n}n.data=new o(a),i.intervals.addInterval(n)}else e[t]=new o(a)}function Pi(e,t,i,n){const r=i.references;(0,f.Z)(r)?Ti(e,t,r,i.interval,n,vt,V.Z):Zi(Array,e,t,i,void 0,void 0,n)}function Mi(e,t,i,n){if((0,f.Z)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Pi(e,t,i[r],n);else Pi(e,t,i,n)}function Ai(e,t,i,n){const r=i.references;(0,f.Z)(r)?Ti(e,t,r,i.interval,n,yt,G.Z):((0,f.Z)(i.cartesian)?i.array=Y.Z.unpackArray(i.cartesian):(0,f.Z)(i.cartographicRadians)?i.array=Y.Z.fromRadiansArrayHeights(i.cartographicRadians):(0,f.Z)(i.cartographicDegrees)&&(i.array=Y.Z.fromDegreesArrayHeights(i.cartographicDegrees)),(0,f.Z)(i.array)&&Zi(Array,e,t,i,void 0,void 0,n))}function Ei(e,t,i,n){if((0,f.Z)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Ai(e,t,i[r],n);else Ai(e,t,i,n)}function ki(e){return Y.Z.unpackArray(e)}function Ii(e){return Y.Z.fromRadiansArrayHeights(e)}function Oi(e){return Y.Z.fromDegreesArrayHeights(e)}function Ri(e,t,i,n){const r=i.references;if((0,f.Z)(r)){const o=r.map(function(e){const t={};return Ti(t,"positions",e,i.interval,n,yt,G.Z),t.positions});e[t]=new yt(o)}else(0,f.Z)(i.cartesian)?i.array=i.cartesian.map(ki):(0,f.Z)(i.cartographicRadians)?i.array=i.cartographicRadians.map(Ii):(0,f.Z)(i.cartographicDegrees)&&(i.array=i.cartographicDegrees.map(Oi)),(0,f.Z)(i.array)&&Zi(Array,e,t,i,void 0,void 0,n)}function Bi(e,t,i,n,r){let o=pi(t.interval);(0,f.Z)(i)&&(o=(0,f.Z)(o)?Pe.Z.intersect(o,i,ni):i);let s=e.nodeTransformations;const a=Object.keys(t);for(let i=0,l=a.length;i<l;++i){const l=a[i];if("interval"===l)continue;const c=t[l];if(!(0,f.Z)(c))continue;(0,f.Z)(s)||(e.nodeTransformations=s=new bt.Z),s.hasProperty(l)||s.addProperty(l);let u=s[l];(0,f.Z)(u)||(s[l]=u=new et.Z),Zi(Y.Z,u,"translation",c.translation,o,n,r),Zi(Ze.Z,u,"rotation",c.rotation,o,n,r),Zi(Y.Z,u,"scale",c.scale,o,n,r)}}function Di(e,t,i,n,r){let o=pi(t.interval);(0,f.Z)(i)&&(o=(0,f.Z)(o)?Pe.Z.intersect(o,i,ni):i);let s=e.articulations;const a=Object.keys(t);for(let i=0,l=a.length;i<l;++i){const l=a[i];if("interval"===l)continue;const c=t[l];(0,f.Z)(c)&&((0,f.Z)(s)||(e.articulations=s=new bt.Z),s.hasProperty(l)||s.addProperty(l),Zi(Number,s,l,c,o,n,r))}}function Fi(e){this.polygon=e,this._definitionChanged=new m.Z}function Li(e){return e?X.Z.GEODESIC:X.Z.NONE}function Vi(e,t,i,n,r){let o=e.id;if((0,f.Z)(o)||(o=(0,C.Z)()),$t=o,!(0,f.Z)(r._version)&&"document"!==o)throw new xe.Z("The first CZML packet is required to be the document object.");if(!0===e.delete)t.removeById(o);else if("document"===o)!function(e,t){const i=e.version;if((0,f.Z)(i)&&"string"==typeof i){const e=i.split(".");if(2===e.length){if("1"!==e[0])throw new xe.Z("Cesium only supports CZML version 1.");t._version=i}}if(!(0,f.Z)(t._version))throw new xe.Z("CZML version information invalid.  It is expected to be a property on the document object in the <Major>.<Minor> version format.");const n=t._documentPacket;(0,f.Z)(e.name)&&(n.name=e.name);const r=e.clock;if((0,f.Z)(r)){const e=n.clock;(0,f.Z)(e)?(e.interval=(0,p.Z)(r.interval,e.interval),e.currentTime=(0,p.Z)(r.currentTime,e.currentTime),e.range=(0,p.Z)(r.range,e.range),e.step=(0,p.Z)(r.step,e.step),e.multiplier=(0,p.Z)(r.multiplier,e.multiplier)):n.clock={interval:r.interval,currentTime:r.currentTime,range:r.range,step:r.step,multiplier:r.multiplier}}}(e,r);else{const r=t.getOrCreateEntity(o),s=e.parent;(0,f.Z)(s)&&(r.parent=t.getOrCreateEntity(s));for(let o=i.length-1;o>-1;o--)i[o](r,e,t,n)}$t=void 0}function Ni(e,t,i,n){if(!(0,f.Z)(t))throw new S.Z("czml is required.");let r=t,o=(i=(0,p.Z)(i,p.Z.EMPTY_OBJECT)).sourceUri,s=i.credit;if("string"==typeof s&&(s=new ne.Z(s)),e._credit=s,"string"==typeof t||t instanceof we.Z){r=(t=we.Z.createIfNeeded(t)).fetchJson(),o=(0,p.Z)(o,t.clone());const i=e._resourceCredits,n=t.credits;if((0,f.Z)(n)){const e=n.length;for(let t=0;t<e;t++)i.push(n[t])}}return o=we.Z.createIfNeeded(o),Fe.Z.setLoading(e,!0),Promise.resolve(r).then(function(t){return function(e,t,i,n){Fe.Z.setLoading(e,!0);const r=e._entityCollection;n&&(e._version=void 0,e._documentPacket=new Ui,r.removeAll()),Gi._processCzml(t,r,i,void 0,e);let o=function(e){let t;const i=e._documentPacket.clock;if(!(0,f.Z)(i)){if(!(0,f.Z)(e._clock)){const i=e._entityCollection.computeAvailability();if(!i.start.equals(pe.Z.MINIMUM_VALUE)){const n=i.start,r=i.stop,o=fe.Z.secondsDifference(r,n),s=Math.round(o/120);return t=new Ue,t.startTime=fe.Z.clone(n),t.stopTime=fe.Z.clone(r),t.clockRange=ee.Z.LOOP_STOP,t.multiplier=s,t.currentTime=fe.Z.clone(n),t.clockStep=te.Z.SYSTEM_CLOCK_MULTIPLIER,e._clock=t,!0}}return!1}(0,f.Z)(e._clock)?t=e._clock.clone():(t=new Ue,t.startTime=pe.Z.MINIMUM_VALUE.clone(),t.stopTime=pe.Z.MAXIMUM_VALUE.clone(),t.currentTime=pe.Z.MINIMUM_VALUE.clone(),t.clockRange=ee.Z.LOOP_STOP,t.clockStep=te.Z.SYSTEM_CLOCK_MULTIPLIER,t.multiplier=1);const n=pi(i.interval);return(0,f.Z)(n)&&(t.startTime=n.start,t.stopTime=n.stop),(0,f.Z)(i.currentTime)&&(t.currentTime=fe.Z.fromIso8601(i.currentTime)),(0,f.Z)(i.range)&&(t.clockRange=(0,p.Z)(ee.Z[i.range],ee.Z.LOOP_STOP)),(0,f.Z)(i.step)&&(t.clockStep=(0,p.Z)(te.Z[i.step],te.Z.SYSTEM_CLOCK_MULTIPLIER)),(0,f.Z)(i.multiplier)&&(t.multiplier=i.multiplier),!t.equals(e._clock)&&(e._clock=t.clone(e._clock),!0)}(e);const s=e._documentPacket;return(0,f.Z)(s.name)&&e._name!==s.name?(e._name=s.name,o=!0):!(0,f.Z)(e._name)&&(0,f.Z)(i)&&(e._name=(0,ae.Z)(i.getUrlComponent()),o=!0),Fe.Z.setLoading(e,!1),o&&e._changed.raiseEvent(e),e}(e,t,o,n)}).catch(function(t){return Fe.Z.setLoading(e,!1),e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)})}function Ui(){this.name=void 0,this.clock=void 0}function Gi(e){this._name=e,this._changed=new m.Z,this._error=new m.Z,this._isLoading=!1,this._loading=new m.Z,this._clock=void 0,this._documentPacket=new Ui,this._version=void 0,this._entityCollection=new M.Z(this),this._entityCluster=new Ke.Z,this._credit=void 0,this._resourceCredits=[]}Object.defineProperties(Fi.prototype,{isConstant:{get:function(){const e=this.polygon._positions,t=this.polygon._holes;return(!(0,f.Z)(e)||e.isConstant)&&(!(0,f.Z)(t)||t.isConstant)}},definitionChanged:{get:function(){return this._definitionChanged}}}),Fi.prototype.getValue=function(e,t){let i,n;return(0,f.Z)(this.polygon._positions)&&(i=this.polygon._positions.getValue(e)),(0,f.Z)(this.polygon._holes)&&(n=this.polygon._holes.getValue(e),(0,f.Z)(n)&&(n=n.map(function(e){return new ye.Z(e)}))),(0,f.Z)(t)?(t.positions=i,t.holes=n,t):new ye.Z(i,n)},Fi.prototype.equals=function(e){return this===e||e instanceof Fi&&_.Z.equals(this.polygon._positions,e.polygon._positions)&&_.Z.equals(this.polygon._holes,e.polygon._holes)},Gi.load=function(e,t){return(new Gi).load(e,t)},Object.defineProperties(Gi.prototype,{name:{get:function(){return this._name}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,f.Z)(e))throw new S.Z("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),Gi.updaters=[function(e,t,i,r){const o=t.billboard;if(!(0,f.Z)(o))return;const s=pi(o.interval);let a=e.billboard;(0,f.Z)(a)||(e.billboard=a=new n.Z),Zi(Boolean,a,"show",o.show,s,r,i),Zi(Image,a,"image",o.image,s,r,i),Zi(Number,a,"scale",o.scale,s,r,i),Zi(d.Z,a,"pixelOffset",o.pixelOffset,s,r,i),Zi(Y.Z,a,"eyeOffset",o.eyeOffset,s,r,i),Zi(Ie.Z,a,"horizontalOrigin",o.horizontalOrigin,s,r,i),Zi(Be.Z,a,"verticalOrigin",o.verticalOrigin,s,r,i),Zi(ke.Z,a,"heightReference",o.heightReference,s,r,i),Zi(h.Z,a,"color",o.color,s,r,i),Zi(Ct,a,"rotation",o.rotation,s,r,i),function(e,t,i,n,r){(0,f.Z)(t)&&Zi(Xt,e,"alignedAxis",t,i,n,r)}(a,o.alignedAxis,s,r,i),Zi(Boolean,a,"sizeInMeters",o.sizeInMeters,s,r,i),Zi(Number,a,"width",o.width,s,r,i),Zi(Number,a,"height",o.height,s,r,i),Zi(_e.Z,a,"scaleByDistance",o.scaleByDistance,s,r,i),Zi(_e.Z,a,"translucencyByDistance",o.translucencyByDistance,s,r,i),Zi(_e.Z,a,"pixelOffsetScaleByDistance",o.pixelOffsetScaleByDistance,s,r,i),Zi($.Z,a,"imageSubRegion",o.imageSubRegion,s,r,i),Zi(re.Z,a,"distanceDisplayCondition",o.distanceDisplayCondition,s,r,i),Zi(Number,a,"disableDepthTestDistance",o.disableDepthTestDistance,s,r,i)},function(e,t,i,n){const r=t.box;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.box;(0,f.Z)(s)||(e.box=s=new a.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(Y.Z,s,"dimensions",r.dimensions,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.corridor;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.corridor;(0,f.Z)(s)||(e.corridor=s=new H.Z),Zi(Boolean,s,"show",r.show,o,n,i),Ei(s,"positions",r.positions,i),Zi(Number,s,"width",r.width,o,n,i),Zi(Number,s,"height",r.height,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Zi(ke.Z,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Zi(ie.Z,s,"cornerType",r.cornerType,o,n,i),Zi(Number,s,"granularity",r.granularity,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Zi(Ae.Z,s,"classificationType",r.classificationType,o,n,i),Zi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.cylinder;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.cylinder;(0,f.Z)(s)||(e.cylinder=s=new J.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(Number,s,"length",r.length,o,n,i),Zi(Number,s,"topRadius",r.topRadius,o,n,i),Zi(Number,s,"bottomRadius",r.bottomRadius,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Number,s,"numberOfVerticalLines",r.numberOfVerticalLines,o,n,i),Zi(Number,s,"slices",r.slices,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.ellipse;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.ellipse;(0,f.Z)(s)||(e.ellipse=s=new Ge.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(Number,s,"semiMajorAxis",r.semiMajorAxis,o,n,i),Zi(Number,s,"semiMinorAxis",r.semiMinorAxis,o,n,i),Zi(Number,s,"height",r.height,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Zi(ke.Z,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Zi(Ct,s,"rotation",r.rotation,o,n,i),Zi(Ct,s,"stRotation",r.stRotation,o,n,i),Zi(Number,s,"granularity",r.granularity,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Number,s,"numberOfVerticalLines",r.numberOfVerticalLines,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Zi(Ae.Z,s,"classificationType",r.classificationType,o,n,i),Zi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.ellipsoid;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.ellipsoid;(0,f.Z)(s)||(e.ellipsoid=s=new ze.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(Y.Z,s,"radii",r.radii,o,n,i),Zi(Y.Z,s,"innerRadii",r.innerRadii,o,n,i),Zi(Number,s,"minimumClock",r.minimumClock,o,n,i),Zi(Number,s,"maximumClock",r.maximumClock,o,n,i),Zi(Number,s,"minimumCone",r.minimumCone,o,n,i),Zi(Number,s,"maximumCone",r.maximumCone,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Number,s,"stackPartitions",r.stackPartitions,o,n,i),Zi(Number,s,"slicePartitions",r.slicePartitions,o,n,i),Zi(Number,s,"subdivisions",r.subdivisions,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.label;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.label;(0,f.Z)(s)||(e.label=s=new Ye.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(String,s,"text",r.text,o,n,i),Zi(String,s,"font",r.font,o,n,i),Zi(Oe.Z,s,"style",r.style,o,n,i),Zi(Number,s,"scale",r.scale,o,n,i),Zi(Boolean,s,"showBackground",r.showBackground,o,n,i),Zi(h.Z,s,"backgroundColor",r.backgroundColor,o,n,i),Zi(d.Z,s,"backgroundPadding",r.backgroundPadding,o,n,i),Zi(d.Z,s,"pixelOffset",r.pixelOffset,o,n,i),Zi(Y.Z,s,"eyeOffset",r.eyeOffset,o,n,i),Zi(Ie.Z,s,"horizontalOrigin",r.horizontalOrigin,o,n,i),Zi(Be.Z,s,"verticalOrigin",r.verticalOrigin,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(h.Z,s,"fillColor",r.fillColor,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(_e.Z,s,"translucencyByDistance",r.translucencyByDistance,o,n,i),Zi(_e.Z,s,"pixelOffsetScaleByDistance",r.pixelOffsetScaleByDistance,o,n,i),Zi(_e.Z,s,"scaleByDistance",r.scaleByDistance,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Zi(Number,s,"disableDepthTestDistance",r.disableDepthTestDistance,o,n,i)},function(e,t,i,n){const r=t.model;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s,a,l=e.model;(0,f.Z)(l)||(e.model=l=new Qe.Z),Zi(Boolean,l,"show",r.show,o,n,i),Zi(De,l,"uri",r.gltf,o,n,i),Zi(Number,l,"scale",r.scale,o,n,i),Zi(Number,l,"minimumPixelSize",r.minimumPixelSize,o,n,i),Zi(Number,l,"maximumScale",r.maximumScale,o,n,i),Zi(Boolean,l,"incrementallyLoadTextures",r.incrementallyLoadTextures,o,n,i),Zi(Boolean,l,"runAnimations",r.runAnimations,o,n,i),Zi(Boolean,l,"clampAnimations",r.clampAnimations,o,n,i),Zi(Re.Z,l,"shadows",r.shadows,o,n,i),Zi(ke.Z,l,"heightReference",r.heightReference,o,n,i),Zi(h.Z,l,"silhouetteColor",r.silhouetteColor,o,n,i),Zi(Number,l,"silhouetteSize",r.silhouetteSize,o,n,i),Zi(h.Z,l,"color",r.color,o,n,i),Zi(Ee.Z,l,"colorBlendMode",r.colorBlendMode,o,n,i),Zi(Number,l,"colorBlendAmount",r.colorBlendAmount,o,n,i),Zi(re.Z,l,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i);const c=r.nodeTransformations;if((0,f.Z)(c))if(Array.isArray(c))for(s=0,a=c.length;s<a;++s)Bi(l,c[s],o,n,i);else Bi(l,c,o,n,i);const u=r.articulations;if((0,f.Z)(u))if(Array.isArray(u))for(s=0,a=u.length;s<a;++s)Di(l,u[s],o,n,i);else Di(l,u,o,n,i)},function(e,t,i,n){const r=t.name;(0,f.Z)(r)&&(e.name=t.name)},function(e,t,i,n){const r=t.description;(0,f.Z)(r)&&Zi(String,e,"description",r,void 0,n,i)},function(e,t,i,n){const r=t.path;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.path;(0,f.Z)(s)||(e.path=s=new tt.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(Number,s,"leadTime",r.leadTime,o,n,i),Zi(Number,s,"trailTime",r.trailTime,o,n,i),Zi(Number,s,"width",r.width,o,n,i),Zi(Number,s,"resolution",r.resolution,o,n,i),Si(s,"material",r.material,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.point;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.point;(0,f.Z)(s)||(e.point=s=new it.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(Number,s,"pixelSize",r.pixelSize,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(h.Z,s,"color",r.color,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(_e.Z,s,"scaleByDistance",r.scaleByDistance,o,n,i),Zi(_e.Z,s,"translucencyByDistance",r.translucencyByDistance,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Zi(Number,s,"disableDepthTestDistance",r.disableDepthTestDistance,o,n,i)},function(e,t,i,n){const r=t.polygon;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.polygon;(0,f.Z)(s)||(e.polygon=s=new nt.Z),Zi(Boolean,s,"show",r.show,o,n,i),Ei(s,"_positions",r.positions,i),function(e,t,i,n){if((0,f.Z)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Ri(e,t,i[r],n);else Ri(e,t,i,n)}(s,"_holes",r.holes,i),((0,f.Z)(s._positions)||(0,f.Z)(s._holes))&&(s.hierarchy=new Fi(s)),Zi(Number,s,"height",r.height,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Zi(ke.Z,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Zi(Ct,s,"stRotation",r.stRotation,o,n,i),Zi(Number,s,"granularity",r.granularity,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Boolean,s,"perPositionHeight",r.perPositionHeight,o,n,i),Zi(Boolean,s,"closeTop",r.closeTop,o,n,i),Zi(Boolean,s,"closeBottom",r.closeBottom,o,n,i),Zi(X.Z,s,"arcType",r.arcType,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Zi(Ae.Z,s,"classificationType",r.classificationType,o,n,i),Zi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.polyline;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.polyline;if((0,f.Z)(s)||(e.polyline=s=new ut.Z),Zi(Boolean,s,"show",r.show,o,n,i),Ei(s,"positions",r.positions,i),Zi(Number,s,"width",r.width,o,n,i),Zi(Number,s,"granularity",r.granularity,o,n,i),Si(s,"material",r.material,o,n,i),Si(s,"depthFailMaterial",r.depthFailMaterial,o,n,i),Zi(X.Z,s,"arcType",r.arcType,o,n,i),Zi(Boolean,s,"clampToGround",r.clampToGround,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Zi(Ae.Z,s,"classificationType",r.classificationType,o,n,i),Zi(Number,s,"zIndex",r.zIndex,o,n,i),(0,f.Z)(r.followSurface)&&!(0,f.Z)(r.arcType)){const e={};Zi(Boolean,e,"followSurface",r.followSurface,o,n,i),s.arcType=(a=e.followSurface,c=Li,new l.Z(function(e,t){return c(a.getValue(e,t))},a.isConstant))}var a,c},function(e,t,i,n){const r=t.polylineVolume;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.polylineVolume;(0,f.Z)(s)||(e.polylineVolume=s=new mt.Z),Ei(s,"positions",r.positions,i),function(e,t,i,n){if((0,f.Z)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;r++)xi(e,t,i[r],n);else xi(e,t,i,n)}(s,"shape",r.shape,i),Zi(Boolean,s,"show",r.show,o,n,i),Zi(ie.Z,s,"cornerType",r.cornerType,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Number,s,"granularity",r.granularity,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.properties;if((0,f.Z)(r)){(0,f.Z)(e.properties)||(e.properties=new bt.Z);for(const t in r)if(r.hasOwnProperty(t)){e.properties.hasProperty(t)||e.properties.addProperty(t);const o=r[t];if(Array.isArray(o))for(let r=0,s=o.length;r<s;++r)_i(ci(o[r]),e.properties,t,o[r],void 0,n,i);else _i(ci(o),e.properties,t,o,void 0,n,i)}}},function(e,t,i,n){const r=t.rectangle;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.rectangle;(0,f.Z)(s)||(e.rectangle=s=new wt.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(ve.Z,s,"coordinates",r.coordinates,o,n,i),Zi(Number,s,"height",r.height,o,n,i),Zi(ke.Z,s,"heightReference",r.heightReference,o,n,i),Zi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),Zi(ke.Z,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),Zi(Ct,s,"rotation",r.rotation,o,n,i),Zi(Ct,s,"stRotation",r.stRotation,o,n,i),Zi(Number,s,"granularity",r.granularity,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),Zi(Ae.Z,s,"classificationType",r.classificationType,o,n,i),Zi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.position;(0,f.Z)(r)&&wi(e,"position",r,void 0,0,i)},function(e,t,i,n){const r=t.tileset;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.tileset;(0,f.Z)(s)||(e.tileset=s=new c.Z),Zi(Boolean,s,"show",r.show,o,n,i),Zi(De,s,"uri",r.uri,o,n,i),Zi(Number,s,"maximumScreenSpaceError",r.maximumScreenSpaceError,o,n,i)},function(e,t,i,n){const r=t.viewFrom;(0,f.Z)(r)&&Zi(Y.Z,e,"viewFrom",r,void 0,n,i)},function(e,t,i,n){const r=t.wall;if(!(0,f.Z)(r))return;const o=pi(r.interval);let s=e.wall;(0,f.Z)(s)||(e.wall=s=new Jt.Z),Zi(Boolean,s,"show",r.show,o,n,i),Ei(s,"positions",r.positions,i),Mi(s,"minimumHeights",r.minimumHeights,i),Mi(s,"maximumHeights",r.maximumHeights,i),Zi(Number,s,"granularity",r.granularity,o,n,i),Zi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),Zi(Boolean,s,"outline",r.outline,o,n,i),Zi(h.Z,s,"outlineColor",r.outlineColor,o,n,i),Zi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),Zi(Re.Z,s,"shadows",r.shadows,o,n,i),Zi(re.Z,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.orientation;(0,f.Z)(r)&&Zi(Ze.Z,e,"orientation",r,void 0,n,i)},function(e,t,i,n){const r=t.availability;if(!(0,f.Z)(r))return;let o;if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)(0,f.Z)(o)||(o=new Me.Z),o.addInterval(pi(r[e]));else o=new Me.Z,o.addInterval(pi(r));e.availability=o}],Gi.prototype.process=function(e,t){return Ni(this,e,t,!1)},Gi.prototype.load=function(e,t){return Ni(this,e,t,!0)},Gi.prototype.update=function(e){return!0},Gi.processPacketData=Zi,Gi.processPositionPacketData=wi,Gi.processMaterialPacketData=Si,Gi._processCzml=function(e,t,i,n,r){if(n=(0,p.Z)(n,Gi.updaters),Array.isArray(e))for(let o=0,s=e.length;o<s;++o)Vi(e[o],t,n,i,r);else Vi(e,t,n,i,r)};const zi=Gi;var Ki=i(436758),qi=i(119684),Hi=i(158928),Wi=i(639238),ji=i(300853),Ji=i(274687),Xi=i(257492),$i=i(400563),Yi=i(779618),Qi=i(862105),en=i(509019),tn=function(e,t){return tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},tn(e,t)};function nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}tn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var rn=function(){return rn=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},rn.apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var on=Object.prototype.hasOwnProperty;function sn(e){return"boolean"==typeof e}function an(e,t){for(var i=e.length-1;i>=0;i--)!0===t(e[i])&&e.splice(i,1)}function ln(e){throw new Error("Unhandled case for value: '".concat(e,"'"))}var cn=/\s+/,un=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,i=this.getClass(),n=i?i.split(cn):[],r=e.split(cn);t=r.shift();)-1===n.indexOf(t)&&n.push(t);return this.getAttrs().class=n.join(" "),this},e.prototype.removeClass=function(e){for(var t,i=this.getClass(),n=i?i.split(cn):[],r=e.split(cn);n.length&&(t=r.shift());){var o=n.indexOf(t);-1!==o&&n.splice(o,1)}return this.getAttrs().class=n.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){var e=this.getAttrs(),t=[];for(var i in e)on.call(e,i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")},e}();function dn(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t}function hn(e,t,i){var n=t/2,r=Math.ceil(n),o=-1*Math.floor(n),s="";return o<0&&(s=e.substr(o)),e.substr(0,r)+i+s}var pn=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new un({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},i=this.createCssClass(e);return i&&(t.class=i),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var i=[t],n=e.getCssClassSuffixes(),r=0,o=n.length;r<o;r++)i.push(t+"-"+n[r]);return i.join(" ")}return""},e.prototype.processAnchorText=function(e){return this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t.length)return e;var i=t.length,n=t.location;return"smart"===n?function(e,t,i){var n,r;if(null==i?(i="&hellip;",r=3,n=8):(r=i.length,n=i.length),e.length<=t)return e;var o=t-r,s=function(e){var t={},i=e,n=i.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],i=i.slice(n[0].length)),(n=i.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=n[1],i=i.slice(n[0].length)),(n=i.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=n[1],i=i.slice(n[0].length)),(n=i.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=n[1],i=i.slice(n[0].length)),(n=i.match(/^#(.*?)$/i))&&(t.fragment=n[1]),t}(e);if(s.query){var a=s.query.match(/^(.*?)(?=(\?|#))(.*?)$/i);a&&(s.query=s.query.substr(0,a[1].length),e=dn(s))}if(e.length<=t)return e;if(s.host&&(s.host=s.host.replace(/^www\./,""),e=dn(s)),e.length<=t)return e;var l="";if(s.host&&(l+=s.host),l.length>=o)return s.host.length===t?(s.host.substr(0,t-r)+i).substr(0,o+n):hn(l,o,i).substr(0,o+n);var c="";if(s.path&&(c+="/"+s.path),s.query&&(c+="?"+s.query),c){if((l+c).length>=o)return(l+c).length==t?(l+c).substr(0,t):(l+hn(c,o-l.length,i)).substr(0,o+n);l+=c}if(s.fragment){var u="#"+s.fragment;if((l+u).length>=o)return(l+u).length==t?(l+u).substr(0,t):(l+hn(u,o-l.length,i)).substr(0,o+n);l+=u}if(s.scheme&&s.host){var d=s.scheme+"://";if((l+d).length<o)return(d+l).substr(0,t)}if(l.length<=t)return l;var h="";return o>0&&(h=l.substr(-1*Math.floor(o/2))),(l.substr(0,Math.ceil(o/2))+i+h).substr(0,o+n)}(e,i):"middle"===n?function(e,t,i){if(e.length<=t)return e;var n,r;null==i?(i="&hellip;",n=8,r=3):(n=i.length,r=i.length);var o=t-r,s="";return o>0&&(s=e.substr(-1*Math.floor(o/2))),(e.substr(0,Math.ceil(o/2))+i+s).substr(0,o+n)}(e,i):function(e,t){return function(e,t,i){var n;return e.length>t&&(null==i?(i="&hellip;",n=3):n=i.length,e=e.substring(0,t-n)+i),e}(e,t,void 0)}(e,i)},e}(),fn=function(){function e(e){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.type]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}();function mn(e){return e>=65&&e<=90||e>=97&&e<=122}function gn(e){return e>=48&&e<=57}function _n(e){return 34==e||39==e}function yn(e){return e<8232?e<160?e>=9&&e<=13||32==e:e<5760?160==e:5760==e||e>=8192&&e<=8202:e<8287?e>=8232&&e<=8233||8239==e:e<12288?8287==e:12288==e||65279==e}function Zn(e){return e<4800?e<2949?e<2451?e<1425?e<768?e<192?e<169?e<65?e>=48&&e<=57:e>=65&&e<=90||e>=97&&e<=122:e<181?e>=169&&e<=170||174==e:181==e||186==e:e<710?e<216?e>=192&&e<=214:e>=216&&e<=246||e>=248&&e<=705:e<748?e>=710&&e<=721||e>=736&&e<=740:748==e||750==e:e<910?e<895?e<886?e>=768&&e<=884:e>=886&&e<=887||e>=890&&e<=893:e<904?895==e||902==e:e>=904&&e<=906||908==e:e<1155?e<931?e>=910&&e<=929:e>=931&&e<=1013||e>=1015&&e<=1153:e<1369?e>=1155&&e<=1327||e>=1329&&e<=1366:1369==e||e>=1377&&e<=1415:e<1808?e<1552?e<1476?e<1471?e>=1425&&e<=1469:1471==e||e>=1473&&e<=1474:e<1488?e>=1476&&e<=1477||1479==e:e>=1488&&e<=1514||e>=1520&&e<=1522:e<1749?e<1568?e>=1552&&e<=1562:e>=1568&&e<=1641||e>=1646&&e<=1747:e<1770?e>=1749&&e<=1756||e>=1759&&e<=1768:e>=1770&&e<=1788||1791==e:e<2230?e<2042?e<1869?e>=1808&&e<=1866:e>=1869&&e<=1969||e>=1984&&e<=2037:e<2112?2042==e||e>=2048&&e<=2093:e>=2112&&e<=2139||e>=2208&&e<=2228:e<2406?e<2260?e>=2230&&e<=2237:e>=2260&&e<=2273||e>=2275&&e<=2403:e<2437?e>=2406&&e<=2415||e>=2417&&e<=2435:e>=2437&&e<=2444||e>=2447&&e<=2448:e<2693?e<2579?e<2519?e<2486?e<2474?e>=2451&&e<=2472:e>=2474&&e<=2480||2482==e:e<2503?e>=2486&&e<=2489||e>=2492&&e<=2500:e>=2503&&e<=2504||e>=2507&&e<=2510:e<2534?e<2524?2519==e:e>=2524&&e<=2525||e>=2527&&e<=2531:e<2565?e>=2534&&e<=2545||e>=2561&&e<=2563:e>=2565&&e<=2570||e>=2575&&e<=2576:e<2631?e<2613?e<2602?e>=2579&&e<=2600:e>=2602&&e<=2608||e>=2610&&e<=2611:e<2620?e>=2613&&e<=2614||e>=2616&&e<=2617:2620==e||e>=2622&&e<=2626:e<2649?e<2635?e>=2631&&e<=2632:e>=2635&&e<=2637||2641==e:e<2662?e>=2649&&e<=2652||2654==e:e>=2662&&e<=2677||e>=2689&&e<=2691:e<2821?e<2759?e<2730?e<2703?e>=2693&&e<=2701:e>=2703&&e<=2705||e>=2707&&e<=2728:e<2741?e>=2730&&e<=2736||e>=2738&&e<=2739:e>=2741&&e<=2745||e>=2748&&e<=2757:e<2784?e<2763?e>=2759&&e<=2761:e>=2763&&e<=2765||2768==e:e<2809?e>=2784&&e<=2787||e>=2790&&e<=2799:2809==e||e>=2817&&e<=2819:e<2887?e<2858?e<2831?e>=2821&&e<=2828:e>=2831&&e<=2832||e>=2835&&e<=2856:e<2869?e>=2858&&e<=2864||e>=2866&&e<=2867:e>=2869&&e<=2873||e>=2876&&e<=2884:e<2911?e<2902?e>=2887&&e<=2888||e>=2891&&e<=2893:e>=2902&&e<=2903||e>=2908&&e<=2909:e<2929?e>=2911&&e<=2915||e>=2918&&e<=2927:2929==e||e>=2946&&e<=2947:e<3517?e<3205?e<3046?e<2984?e<2969?e<2958?e>=2949&&e<=2954:e>=2958&&e<=2960||e>=2962&&e<=2965:e<2974?e>=2969&&e<=2970||2972==e:e>=2974&&e<=2975||e>=2979&&e<=2980:e<3014?e<2990?e>=2984&&e<=2986:e>=2990&&e<=3001||e>=3006&&e<=3010:e<3024?e>=3014&&e<=3016||e>=3018&&e<=3021:3024==e||3031==e:e<3142?e<3086?e<3072?e>=3046&&e<=3055:e>=3072&&e<=3075||e>=3077&&e<=3084:e<3114?e>=3086&&e<=3088||e>=3090&&e<=3112:e>=3114&&e<=3129||e>=3133&&e<=3140:e<3160?e<3146?e>=3142&&e<=3144:e>=3146&&e<=3149||e>=3157&&e<=3158:e<3174?e>=3160&&e<=3162||e>=3168&&e<=3171:e>=3174&&e<=3183||e>=3200&&e<=3203:e<3333?e<3274?e<3242?e<3214?e>=3205&&e<=3212:e>=3214&&e<=3216||e>=3218&&e<=3240:e<3260?e>=3242&&e<=3251||e>=3253&&e<=3257:e>=3260&&e<=3268||e>=3270&&e<=3272:e<3296?e<3285?e>=3274&&e<=3277:e>=3285&&e<=3286||3294==e:e<3313?e>=3296&&e<=3299||e>=3302&&e<=3311:e>=3313&&e<=3314||e>=3329&&e<=3331:e<3423?e<3389?e<3342?e>=3333&&e<=3340:e>=3342&&e<=3344||e>=3346&&e<=3386:e<3402?e>=3389&&e<=3396||e>=3398&&e<=3400:e>=3402&&e<=3406||e>=3412&&e<=3415:e<3458?e<3430?e>=3423&&e<=3427:e>=3430&&e<=3439||e>=3450&&e<=3455:e<3482?e>=3458&&e<=3459||e>=3461&&e<=3478:e>=3482&&e<=3505||e>=3507&&e<=3515:e<3804?e<3722?e<3570?e<3535?e<3520?3517==e:e>=3520&&e<=3526||3530==e:e<3544?e>=3535&&e<=3540||3542==e:e>=3544&&e<=3551||e>=3558&&e<=3567:e<3664?e<3585?e>=3570&&e<=3571:e>=3585&&e<=3642||e>=3648&&e<=3662:e<3716?e>=3664&&e<=3673||e>=3713&&e<=3714:3716==e||e>=3719&&e<=3720:e<3754?e<3737?e<3725?3722==e:3725==e||e>=3732&&e<=3735:e<3749?e>=3737&&e<=3743||e>=3745&&e<=3747:3749==e||3751==e:e<3776?e<3757?e>=3754&&e<=3755:e>=3757&&e<=3769||e>=3771&&e<=3773:e<3784?e>=3776&&e<=3780||3782==e:e>=3784&&e<=3789||e>=3792&&e<=3801:e<4176?e<3902?e<3872?e<3840?e>=3804&&e<=3807:3840==e||e>=3864&&e<=3865:e<3895?e>=3872&&e<=3881||3893==e:3895==e||3897==e:e<3974?e<3913?e>=3902&&e<=3911:e>=3913&&e<=3948||e>=3953&&e<=3972:e<4038?e>=3974&&e<=3991||e>=3993&&e<=4028:4038==e||e>=4096&&e<=4169:e<4688?e<4301?e<4256?e>=4176&&e<=4253:e>=4256&&e<=4293||4295==e:e<4348?4301==e||e>=4304&&e<=4346:e>=4348&&e<=4680||e>=4682&&e<=4685:e<4746?e<4698?e>=4688&&e<=4694||4696==e:e>=4698&&e<=4701||e>=4704&&e<=4744:e<4786?e>=4746&&e<=4749||e>=4752&&e<=4784:e>=4786&&e<=4789||e>=4792&&e<=4798:e<11035?e<7416?e<6176?e<5873?e<4992?e<4824?e<4802?4800==e:e>=4802&&e<=4805||e>=4808&&e<=4822:e<4888?e>=4824&&e<=4880||e>=4882&&e<=4885:e>=4888&&e<=4954||e>=4957&&e<=4959:e<5121?e<5024?e>=4992&&e<=5007:e>=5024&&e<=5109||e>=5112&&e<=5117:e<5761?e>=5121&&e<=5740||e>=5743&&e<=5759:e>=5761&&e<=5786||e>=5792&&e<=5866:e<6002?e<5920?e<5888?e>=5873&&e<=5880:e>=5888&&e<=5900||e>=5902&&e<=5908:e<5984?e>=5920&&e<=5940||e>=5952&&e<=5971:e>=5984&&e<=5996||e>=5998&&e<=6e3:e<6108?e<6016?e>=6002&&e<=6003:e>=6016&&e<=6099||6103==e:e<6155?e>=6108&&e<=6109||e>=6112&&e<=6121:e>=6155&&e<=6157||e>=6160&&e<=6169:e<6783?e<6512?e<6400?e<6272?e>=6176&&e<=6263:e>=6272&&e<=6314||e>=6320&&e<=6389:e<6448?e>=6400&&e<=6430||e>=6432&&e<=6443:e>=6448&&e<=6459||e>=6470&&e<=6509:e<6608?e<6528?e>=6512&&e<=6516:e>=6528&&e<=6571||e>=6576&&e<=6601:e<6688?e>=6608&&e<=6617||e>=6656&&e<=6683:e>=6688&&e<=6750||e>=6752&&e<=6780:e<7040?e<6832?e<6800?e>=6783&&e<=6793:e>=6800&&e<=6809||6823==e:e<6992?e>=6832&&e<=6846||e>=6912&&e<=6987:e>=6992&&e<=7001||e>=7019&&e<=7027:e<7245?e<7168?e>=7040&&e<=7155:e>=7168&&e<=7223||e>=7232&&e<=7241:e<7376?e>=7245&&e<=7293||e>=7296&&e<=7304:e>=7376&&e<=7378||e>=7380&&e<=7414:e<8450?e<8130?e<8025?e<7960?e<7424?e>=7416&&e<=7417:e>=7424&&e<=7669||e>=7675&&e<=7957:e<8008?e>=7960&&e<=7965||e>=7968&&e<=8005:e>=8008&&e<=8013||e>=8016&&e<=8023:e<8031?e<8027?8025==e:8027==e||8029==e:e<8118?e>=8031&&e<=8061||e>=8064&&e<=8116:e>=8118&&e<=8124||8126==e:e<8205?e<8150?e<8134?e>=8130&&e<=8132:e>=8134&&e<=8140||e>=8144&&e<=8147:e<8178?e>=8150&&e<=8155||e>=8160&&e<=8172:e>=8178&&e<=8180||e>=8182&&e<=8188:e<8305?e<8252?8205==e:8252==e||8265==e:e<8336?8305==e||8319==e:e>=8336&&e<=8348||e>=8400&&e<=8432:e<8579?e<8486?e<8469?e<8455?8450==e:8455==e||e>=8458&&e<=8467:e<8482?8469==e||e>=8473&&e<=8477:8482==e||8484==e:e<8495?e<8488?8486==e:8488==e||e>=8490&&e<=8493:e<8517?e>=8495&&e<=8505||e>=8508&&e<=8511:e>=8517&&e<=8521||8526==e:e<9410?e<9e3?e<8592?e>=8579&&e<=8580:e>=8592&&e<=8703||e>=8986&&e<=8987:e<9193?9e3==e||9167==e:e>=9193&&e<=9203||e>=9208&&e<=9210:e<9723?e<9654?9410==e||e>=9642&&e<=9643:9654==e||9664==e:e<10548?e>=9723&&e<=9726||e>=9728&&e<=10175:e>=10548&&e<=10549||e>=11013&&e<=11015:e<43259?e<12445?e<11688?e<11520?e<11264?e<11088?e>=11035&&e<=11036:11088==e||11093==e:e<11360?e>=11264&&e<=11310||e>=11312&&e<=11358:e>=11360&&e<=11492||e>=11499&&e<=11507:e<11568?e<11559?e>=11520&&e<=11557:11559==e||11565==e:e<11647?e>=11568&&e<=11623||11631==e:e>=11647&&e<=11670||e>=11680&&e<=11686:e<11744?e<11712?e<11696?e>=11688&&e<=11694:e>=11696&&e<=11702||e>=11704&&e<=11710:e<11728?e>=11712&&e<=11718||e>=11720&&e<=11726:e>=11728&&e<=11734||e>=11736&&e<=11742:e<12330?e<11823?e>=11744&&e<=11775:11823==e||e>=12293&&e<=12294:e<12353?e>=12330&&e<=12341||e>=12347&&e<=12349:e>=12353&&e<=12438||e>=12441&&e<=12442:e<42512?e<12951?e<12549?e<12449?e>=12445&&e<=12447:e>=12449&&e<=12538||e>=12540&&e<=12543:e<12704?e>=12549&&e<=12589||e>=12593&&e<=12686:e>=12704&&e<=12730||e>=12784&&e<=12799:e<19968?e<12953?12951==e:12953==e||e>=13312&&e<=19893:e<42192?e>=19968&&e<=40917||e>=40960&&e<=42124:e>=42192&&e<=42237||e>=42240&&e<=42508:e<42891?e<42623?e<42560?e>=42512&&e<=42539:e>=42560&&e<=42610||e>=42612&&e<=42621:e<42775?e>=42623&&e<=42725||e>=42736&&e<=42737:e>=42775&&e<=42783||e>=42786&&e<=42888:e<43072?e<42928?e>=42891&&e<=42926:e>=42928&&e<=42935||e>=42999&&e<=43047:e<43216?e>=43072&&e<=43123||e>=43136&&e<=43205:e>=43216&&e<=43225||e>=43232&&e<=43255:e<55243?e<43744?e<43488?e<43312?e<43261?43259==e:43261==e||e>=43264&&e<=43309:e<43392?e>=43312&&e<=43347||e>=43360&&e<=43388:e>=43392&&e<=43456||e>=43471&&e<=43481:e<43600?e<43520?e>=43488&&e<=43518:e>=43520&&e<=43574||e>=43584&&e<=43597:e<43642?e>=43600&&e<=43609||e>=43616&&e<=43638:e>=43642&&e<=43714||e>=43739&&e<=43741:e<43824?e<43785?e<43762?e>=43744&&e<=43759:e>=43762&&e<=43766||e>=43777&&e<=43782:e<43808?e>=43785&&e<=43790||e>=43793&&e<=43798:e>=43808&&e<=43814||e>=43816&&e<=43822:e<44012?e<43868?e>=43824&&e<=43866:e>=43868&&e<=43877||e>=43888&&e<=44010:e<44032?e>=44012&&e<=44013||e>=44016&&e<=44025:e>=44032&&e<=55203||e>=55216&&e<=55238:e<64848?e<64298?e<64112?e<55296?e>=55243&&e<=55291:e>=55296&&e<=57343||e>=63744&&e<=64109:e<64275?e>=64112&&e<=64217||e>=64256&&e<=64262:e>=64275&&e<=64279||e>=64285&&e<=64296:e<64320?e<64312?e>=64298&&e<=64310:e>=64312&&e<=64316||64318==e:e<64326?e>=64320&&e<=64321||e>=64323&&e<=64324:e>=64326&&e<=64433||e>=64467&&e<=64829:e<65296?e<65024?e<64914?e>=64848&&e<=64911:e>=64914&&e<=64967||e>=65008&&e<=65019:e<65136?e>=65024&&e<=65039||e>=65056&&e<=65071:e>=65136&&e<=65140||e>=65142&&e<=65276:e<65474?e<65345?e>=65296&&e<=65305||e>=65313&&e<=65338:e>=65345&&e<=65370||e>=65382&&e<=65470:e<65490?e>=65474&&e<=65479||e>=65482&&e<=65487:e>=65490&&e<=65495||e>=65498&&e<=65500}function vn(e){return e<58?e<44?33==e:44==e||46==e:e<63?e>=58&&e<=59:63==e||94==e}function bn(e){return e<91?40==e:91==e||123==e}function wn(e){return e<93?41==e:93==e||125==e}var xn=/^(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermögensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|موريتانيا|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|banamex|bauhaus|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|yamaxun|youtube|zuerich|католик|البحرين|الجزائر|العليان|پاکستان|كاثوليك|இந்தியா|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|ישראל|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|アマゾン|グーグル|クラウド|ポイント|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ລາວ|ストア|セール|みんな|中文网|亚马逊|天主教|我爱你|新加坡|淡马锡|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|ευ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|广东|微博|慈善|手机|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)$/,Cn=/https?:\/\//i,Sn=new RegExp("^"+Cn.source,"i"),Tn=/^(javascript|vbscript):/i,Pn=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,Mn=/^(?:\/\/)?([^/#?:]+)/,An=mn;function En(e){return mn(e)||gn(e)||43===e||45===e||46===e}var kn=Zn;function In(e){return 95===e||kn(e)}function On(e){return Zn(e)||((t=e)<91?t<47?t>=35&&t<=43||45==t:t<61?47==t:61==t||64==t:t<95?91==t||93==t:t<123?95==t:t>=123&&t<=126||10003==t)||vn(e);var t}function Rn(e){return 47===e||63===e||35===e}function Bn(e){return xn.test(e.toLowerCase())}var Dn=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Fn=/[:/?#]/,Ln=/^(https?:\/\/)?(?:www\.)?/i,Vn=/^\/\//,Nn=function(e){function t(t){var i=e.call(this,t)||this;return i.type="url",i.url="",i.urlMatchType="scheme",i.protocolRelativeMatch=!1,i.stripPrefix={scheme:!0,www:!0},i.stripTrailingSlash=!0,i.decodePercentEncoding=!0,i.protocolPrepended=!1,i.urlMatchType=t.urlMatchType,i.url=t.url,i.protocolRelativeMatch=t.protocolRelativeMatch,i.stripPrefix=t.stripPrefix,i.stripTrailingSlash=t.stripTrailingSlash,i.decodePercentEncoding=t.decodePercentEncoding,i}return nn(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||"scheme"===this.urlMatchType||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=e.replace(Vn,"")),this.stripPrefix.scheme&&(e=function(e){return e.replace(Sn,"")}(e)),this.stripPrefix.www&&(e=function(e){return e.includes("www.")?e.replace(Ln,"$1"):e}(e)),this.stripTrailingSlash&&(e=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}(e)),this.decodePercentEncoding&&(e=function(e){var t=e.replace(/%(?:22|26|27|3C|3E)/gi,function(e){return"%22"===e?"&quot;":"%26"===e?"&amp;":"%27"===e?"&#39;":"%3C"===e||"%3c"===e?"&lt;":"&gt;"});if(t.includes("%"))try{return decodeURIComponent(t)}catch(e){}return t}(e)),e},t}(fn),Un=/^mailto:/i,Gn=Zn;function zn(e){return Gn(e)||((t=e)<47?t<42?33==t||t>=35&&t<=39:t>=42&&t<=43||45==t:t<63?47==t||61==t:t<94?63==t:t>=94&&t<=96||t>=123&&t<=126);var t}var Kn=function(e){function t(t){var i=e.call(this,t)||this;return i.type="email",i.email="",i.email=t.email,i}return nn(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(fn);function qn(e){return 95===e||Zn(e)}var Hn=["twitter","facebook","instagram","tiktok","youtube"],Wn=function(e){function t(t){var i=e.call(this,t)||this;return i.type="hashtag",i.serviceName="twitter",i.hashtag="",i.serviceName=t.serviceName,i.hashtag=t.hashtag,i}return nn(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;case"tiktok":return"https://www.tiktok.com/tag/"+t;case"youtube":return"https://youtube.com/hashtag/"+t;default:ln(e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&t.push(i),t},t}(fn),jn={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/,youtube:/^@[-.·\w]{3,30}$/};function Jn(e){return 45===e||46===e||95===e||mn(e)||gn(e)}var Xn=["twitter","instagram","soundcloud","tiktok","youtube"],$n=function(e){function t(t){var i=e.call(this,t)||this;return i.type="mention",i.serviceName="twitter",i.mention="",i.mention=t.mention,i.serviceName=t.serviceName,i}return nn(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;case"youtube":return"https://youtube.com/@"+this.mention;default:ln(this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&t.push(i),t},t}(fn),Yn=/[-. ()]/,Qn=new RegExp("^".concat(/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source,"$"));function er(e){return 45===e||46===e||32===e}function tr(e){return 44===e||59===e}var ir=function(e){function t(t){var i=e.call(this,t)||this;return i.type="phone",i.number="",i.plusSign=!1,i.number=t.number,i.plusSign=t.plusSign,i}return nn(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(fn),nr=function(){function e(e,t){this.charIdx=0,this.matches=[],this._stateMachines=[],this.schemeUrlMachinesCount=0,this.text=e,this.tagBuilder=t.tagBuilder,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding,this.hashtagServiceName=t.hashtagServiceName,this.mentionServiceName=t.mentionServiceName}return Object.defineProperty(e.prototype,"stateMachines",{get:function(){return this._stateMachines},enumerable:!1,configurable:!0}),e.prototype.addMachine=function(e){this._stateMachines.push(e),Qr(e)&&this.schemeUrlMachinesCount++},e.prototype.removeMachine=function(e){this._stateMachines=this._stateMachines.filter(function(t){return t!==e}),Qr(e)&&this.schemeUrlMachinesCount--},e.prototype.hasSchemeUrlMachine=function(){return this.schemeUrlMachinesCount>0},e}();function rr(e,t,i){var n=e.charIdx;if(35===i)e.addMachine({type:2,startIdx:n,state:28,acceptStateReached:!1});else if(64===i)e.addMachine({type:3,startIdx:n,state:30,acceptStateReached:!1});else if(47===i)e.addMachine($r(n,11));else if(43===i)e.addMachine(Yr(n,37));else if(40===i)e.addMachine(Yr(n,32));else{if(gn(i)&&(e.addMachine(Yr(n,38)),e.addMachine(function(e){return{type:0,startIdx:e,state:13,acceptStateReached:!1,matchType:2,octetsEncountered:1}}(n))),Gn(i)){var r="m"===t.toLowerCase()?15:22;e.addMachine(function(e,t){return{type:1,startIdx:e,state:t,acceptStateReached:!1}}(n,r))}An(i)&&e.addMachine(Xr(n,0)),Zn(i)&&e.addMachine($r(n,5))}}function or(e,t,i){58===i?t.state=2:45===i?t.state=1:En(i)||e.removeMachine(t)}function sr(e,t,i){var n=e.charIdx;45===i||(47===i?(e.removeMachine(t),e.addMachine($r(n,11))):En(i)?t.state=0:e.removeMachine(t))}function ar(e,t,i){var n=e.charIdx;47===i?t.state=3:46===i?e.removeMachine(t):kn(i)?(t.state=5,An(i)&&e.addMachine(Xr(n,0))):e.removeMachine(t)}function lr(e,t,i){47===i?t.state=4:On(i)?(t.state=10,t.acceptStateReached=!0):Wr(e,t)}function cr(e,t,i,n){47===n?(t.state=10,t.acceptStateReached=!0):kn(n)?(t.state=5,t.acceptStateReached=!0):e.removeMachine(t)}function ur(e,t,i){47===i?t.state=12:e.removeMachine(t)}function dr(e,t,i){kn(i)?t.state=5:e.removeMachine(t)}function hr(e,t,i){46===i?t.state=7:45===i?t.state=6:58===i?t.state=8:Rn(i)?t.state=10:In(i)||Wr(e,t)}function pr(e,t,i,n){45===n||(46===n?Wr(e,t):kn(n)?t.state=5:Wr(e,t))}function fr(e,t,i,n){46===n?Wr(e,t):kn(n)?(t.state=5,t.acceptStateReached=!0):Wr(e,t)}function mr(e,t,i){46===i?t.state=14:58===i?t.state=8:gn(i)||(Rn(i)?t.state=10:Zn(i)?e.removeMachine(t):Wr(e,t))}function gr(e,t,i){gn(i)?(t.octetsEncountered++,4===t.octetsEncountered&&(t.acceptStateReached=!0),t.state=13):Wr(e,t)}function _r(e,t,i){gn(i)?t.state=9:Wr(e,t)}function yr(e,t,i){gn(i)||(Rn(i)?t.state=10:Wr(e,t))}function Zr(e,t,i){On(i)||Wr(e,t)}function vr(e,t,i,n){"a"===i.toLowerCase()?t.state=16:Pr(e,t,n)}function br(e,t,i,n){"i"===i.toLowerCase()?t.state=17:Pr(e,t,n)}function wr(e,t,i,n){"l"===i.toLowerCase()?t.state=18:Pr(e,t,n)}function xr(e,t,i,n){"t"===i.toLowerCase()?t.state=19:Pr(e,t,n)}function Cr(e,t,i,n){"o"===i.toLowerCase()?t.state=20:Pr(e,t,n)}function Sr(e,t,i){58===i?t.state=21:Pr(e,t,i)}function Tr(e,t,i){zn(i)?t.state=22:e.removeMachine(t)}function Pr(e,t,i){46===i?t.state=23:64===i?t.state=24:zn(i)?t.state=22:e.removeMachine(t)}function Mr(e,t,i){46===i||64===i?e.removeMachine(t):zn(i)?t.state=22:e.removeMachine(t)}function Ar(e,t,i){kn(i)?t.state=25:e.removeMachine(t)}function Er(e,t,i){46===i?t.state=27:45===i?t.state=26:In(i)||Wr(e,t)}function kr(e,t,i){45===i||46===i?Wr(e,t):In(i)?t.state=25:Wr(e,t)}function Ir(e,t,i){46===i||45===i?Wr(e,t):kn(i)?(t.state=25,t.acceptStateReached=!0):Wr(e,t)}function Or(e,t,i){qn(i)?(t.state=29,t.acceptStateReached=!0):e.removeMachine(t)}function Rr(e,t,i){qn(i)||Wr(e,t)}function Br(e,t,i){Jn(i)?(t.state=31,t.acceptStateReached=!0):e.removeMachine(t)}function Dr(e,t,i){Jn(i)||(Zn(i)?e.removeMachine(t):Wr(e,t))}function Fr(e,t,i,n){gn(n)?t.state=38:(e.removeMachine(t),rr(e,i,n))}function Lr(e,t,i,n){gn(n)?t.state=33:e.removeMachine(t),rr(e,i,n)}function Vr(e,t,i){gn(i)?t.state=34:e.removeMachine(t)}function Nr(e,t,i){gn(i)?t.state=35:e.removeMachine(t)}function Ur(e,t,i){41===i?t.state=36:e.removeMachine(t)}function Gr(e,t,i,n){gn(n)?t.state=38:er(n)?t.state=39:e.removeMachine(t)}function zr(e,t,i,n){var r=e.charIdx;t.acceptStateReached=!0,tr(n)?t.state=40:35===n?t.state=41:gn(n)||(40===n?t.state=32:er(n)?t.state=39:(Wr(e,t),An(n)&&e.addMachine(Xr(r,0))))}function Kr(e,t,i,n){gn(n)?t.state=38:40===n?t.state=32:(Wr(e,t),rr(e,i,n))}function qr(e,t,i){tr(i)||(35===i?t.state=41:gn(i)?t.state=38:Wr(e,t))}function Hr(e,t,i){tr(i)?t.state=40:gn(i)?e.removeMachine(t):Wr(e,t)}function Wr(e,t){var i=e.matches,n=e.text,r=e.charIdx,o=e.tagBuilder,s=e.stripPrefix,a=e.stripTrailingSlash,l=e.decodePercentEncoding,c=e.hashtagServiceName,u=e.mentionServiceName;if(e.removeMachine(t),t.acceptStateReached){var d,h,p=t.startIdx,f=n.slice(t.startIdx,r);switch(f=function(e){for(var t={"(":0,"{":0,"[":0},i=0;i<e.length;i++){var n=e.charAt(i);bn(o=e.charCodeAt(i))?t[n]++:wn(o)&&t[Jr[n]]--}for(var r=e.length-1;r>=0;){var o;if(n=e.charAt(r),wn(o=e.charCodeAt(r))){var s=Jr[n];if(!(t[s]<0))break;t[s]++,r--}else{if(!vn(o))break;r--}}return e.slice(0,r+1)}(f),t.type){case 0:if(64===n.charCodeAt(t.startIdx-1))return;switch(t.matchType){case 0:var m=Cn.exec(f);if(m&&(p+=m.index,f=f.slice(m.index)),!function(e){if(Tn.test(e))return!1;var t=e.match(Pn);if(!t)return!1;var i=!!t[1],n=t[2];return!!i||!(-1===n.indexOf(".")||!/[A-Za-z]/.test(n))}(f))return;break;case 1:if(!function(e){var t=e.match(Mn);if(!t)return!1;var i=t[0].split(".");return!(i.length<2||!Bn(i[i.length-1]))}(f))return;break;case 2:if(!function(e){var t=e.split(Fn,1)[0];return Dn.test(t)}(f))return;break;default:ln(t)}i.push(new Nn({tagBuilder:o,matchedText:f,offset:p,urlMatchType:jr(t.matchType),url:f,protocolRelativeMatch:"//"===f.slice(0,2),stripPrefix:s,stripTrailingSlash:a,decodePercentEncoding:l}));break;case 1:Bn(f.split(".").pop())&&i.push(new Kn({tagBuilder:o,matchedText:f,offset:p,email:f.replace(Un,"")}));break;case 2:f.length<=140&&i.push(new Wn({tagBuilder:o,matchedText:f,offset:p,serviceName:c,hashtag:f.slice(1)}));break;case 3:h=f,jn[u].test(h)&&i.push(new $n({tagBuilder:o,matchedText:f,offset:p,serviceName:u,mention:f.slice(1)}));break;case 4:if(("+"===(d=f=f.replace(/ +$/g,"")).charAt(0)||Yn.test(d))&&Qn.test(d)){var g=f.replace(/[^0-9,;#]/g,"");i.push(new ir({tagBuilder:o,matchedText:f,offset:p,number:g,plusSign:"+"===f.charAt(0)}))}break;default:ln(t)}}}function jr(e){switch(e){case 0:return"scheme";case 1:return"tld";case 2:return"ipV4";default:ln(e)}}var Jr={")":"(","}":"{","]":"["};function Xr(e,t){return{type:0,startIdx:e,state:t,acceptStateReached:!1,matchType:0}}function $r(e,t){return{type:0,startIdx:e,state:t,acceptStateReached:!1,matchType:1}}function Yr(e,t){return{type:4,startIdx:e,state:t,acceptStateReached:!1}}function Qr(e){return 0===e.type&&0===e.matchType}var eo=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing},to=new eo,io=function(e,t){this.charIdx=0,this.state=0,this.currentDataIdx=0,this.currentTag=to,this.html=e,this.callbacks=t};function no(e,t){"<"===t&&To(e)}function ro(e,t,i){"!"===t?e.state=13:"/"===t?(e.state=2,e.currentTag=new eo(rn(rn({},e.currentTag),{isClosing:!0}))):"<"===t?To(e):mn(i)?(e.state=3,e.currentTag=new eo(rn(rn({},e.currentTag),{isOpening:!0}))):(e.state=0,e.currentTag=to)}function oo(e,t,i){yn(i)?(e.currentTag=new eo(rn(rn({},e.currentTag),{name:Mo(e)})),e.state=4):"<"===t?To(e):"/"===t?(e.currentTag=new eo(rn(rn({},e.currentTag),{name:Mo(e)})),e.state=12):">"===t?(e.currentTag=new eo(rn(rn({},e.currentTag),{name:Mo(e)})),Po(e)):mn(i)||gn(i)||":"===t||So(e)}function so(e,t,i){">"===t?So(e):mn(i)?e.state=3:So(e)}function ao(e,t,i){var n;yn(i)||("/"===t?e.state=12:">"===t?Po(e):"<"===t?To(e):"="===t||_n(i)||(n=i)>=0&&n<=31||127==n?So(e):e.state=5)}function lo(e,t,i){yn(i)?e.state=6:"/"===t?e.state=12:"="===t?e.state=7:">"===t?Po(e):"<"===t?To(e):_n(i)&&So(e)}function co(e,t,i){yn(i)||("/"===t?e.state=12:"="===t?e.state=7:">"===t?Po(e):"<"===t?To(e):_n(i)?So(e):e.state=5)}function uo(e,t,i){yn(i)||('"'===t?e.state=8:"'"===t?e.state=9:/[>=`]/.test(t)?So(e):"<"===t?To(e):e.state=10)}function ho(e,t){'"'===t&&(e.state=11)}function po(e,t){"'"===t&&(e.state=11)}function fo(e,t,i){yn(i)?e.state=4:">"===t?Po(e):"<"===t&&To(e)}function mo(e,t,i){yn(i)?e.state=4:"/"===t?e.state=12:">"===t?Po(e):"<"===t?To(e):(e.state=4,function(e){e.charIdx--}(e))}function go(e,t){">"===t?(e.currentTag=new eo(rn(rn({},e.currentTag),{isClosing:!0})),Po(e)):So(e)}function _o(e){var t=e.html,i=e.charIdx;"--"===t.slice(i,i+2)?(e.charIdx++,e.currentTag=new eo(rn(rn({},e.currentTag),{type:"comment"})),e.state=14):"DOCTYPE"===t.slice(i,i+7).toUpperCase()?(e.charIdx+=6,e.currentTag=new eo(rn(rn({},e.currentTag),{type:"doctype"})),e.state=20):So(e)}function yo(e,t){"-"===t?e.state=15:">"===t?So(e):e.state=16}function Zo(e,t){"-"===t?e.state=18:">"===t?So(e):e.state=16}function vo(e,t){"-"===t&&(e.state=17)}function bo(e,t){e.state="-"===t?18:16}function wo(e,t){">"===t?Po(e):"!"===t?e.state=19:"-"===t||(e.state=16)}function xo(e,t){"-"===t?e.state=17:">"===t?Po(e):e.state=16}function Co(e,t){">"===t?Po(e):"<"===t&&To(e)}function So(e){e.state=0,e.currentTag=to}function To(e){e.state=1,e.currentTag=new eo({idx:e.charIdx})}function Po(e){var t=e.html.slice(e.currentDataIdx,e.currentTag.idx);t&&e.callbacks.onText(t,e.currentDataIdx);var i=e.currentTag;"comment"===i.type?e.callbacks.onComment(i.idx):"doctype"===i.type?e.callbacks.onDoctype(i.idx):(i.isOpening&&e.callbacks.onOpenTag(i.name,i.idx),i.isClosing&&e.callbacks.onCloseTag(i.name,i.idx)),So(e),e.currentDataIdx=e.charIdx+1}function Mo(e){var t=e.currentTag.idx+(e.currentTag.isClosing?2:1);return e.html.slice(t,e.charIdx).toLowerCase()}function Ao(e,t){return e.getOffset()-t.getOffset()}const Eo=function(){function e(t){var i,n;void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=(null==(n=t.urls)&&(n=!0),sn(n)?{schemeMatches:n,tldMatches:n,ipV4Matches:n}:{schemeMatches:!sn(n.schemeMatches)||n.schemeMatches,tldMatches:!sn(n.tldMatches)||n.tldMatches,ipV4Matches:!sn(n.ipV4Matches)||n.ipV4Matches}),this.email=sn(t.email)?t.email:this.email,this.phone=sn(t.phone)?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow=sn(t.newWindow)?t.newWindow:this.newWindow,this.stripPrefix=(null==(i=t.stripPrefix)&&(i=!0),sn(i)?{scheme:i,www:i}:{scheme:!sn(i.scheme)||i.scheme,www:!sn(i.www)||i.www}),this.stripTrailingSlash=sn(t.stripTrailingSlash)?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=sn(t.decodePercentEncoding)?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var r=this.mention;if(!1!==r&&-1===Xn.indexOf(r))throw new Error("invalid `mention` cfg '".concat(r,"' - see docs"));var o,s=this.hashtag;if(!1!==s&&-1===Hn.indexOf(s))throw new Error("invalid `hashtag` cfg '".concat(s,"' - see docs"));this.truncate="number"==typeof(o=t.truncate)?{length:o,location:"end"}:rn({length:Number.POSITIVE_INFINITY,location:"end"},o),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,i){return new e(i).link(t)},e.parse=function(t,i){return new e(i).parse(t)},e.prototype.parse=function(e){var t=this,i=["a","style","script"],n=0,r=[];return function(e,t){for(var i=new io(e,t),n=e.length;i.charIdx<n;){var r=e.charAt(i.charIdx),o=e.charCodeAt(i.charIdx);switch(i.state){case 0:no(i,r);break;case 1:ro(i,r,o);break;case 2:so(i,r,o);break;case 3:oo(i,r,o);break;case 4:ao(i,r,o);break;case 5:lo(i,r,o);break;case 6:co(i,r,o);break;case 7:uo(i,r,o);break;case 8:ho(i,r);break;case 9:po(i,r);break;case 10:fo(i,r,o);break;case 11:mo(i,r,o);break;case 12:go(i,r);break;case 13:_o(i);break;case 14:yo(i,r);break;case 15:Zo(i,r);break;case 16:vo(i,r);break;case 17:bo(i,r);break;case 18:wo(i,r);break;case 19:xo(i,r);break;case 20:Co(i,r);break;default:ln(i.state)}i.charIdx++}i.currentDataIdx<i.charIdx&&function(e){var t=e.html.slice(e.currentDataIdx,e.charIdx);e.callbacks.onText(t,e.currentDataIdx),e.currentDataIdx=e.charIdx+1}(i)}(e,{onOpenTag:function(e){i.indexOf(e)>=0&&n++},onText:function(e,i){if(0===n){var o=e.split(/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),s=i;o.forEach(function(e,i){if(i%2==0){var n=t.parseText(e,s);r.push.apply(r,function(e,t,i){if(i||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(n),!1))}s+=e.length})}},onCloseTag:function(e){i.indexOf(e)>=0&&(n=Math.max(n-1,0))},onComment:function(){},onDoctype:function(){}}),r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},e.prototype.compactMatches=function(e){e.sort(Ao);for(var t=0;t<e.length-1;){var i=e[t],n=i.getOffset(),r=i.getMatchedText().length;if(t+1<e.length&&e[t+1].getOffset()===n){var o=e[t+1].getMatchedText().length>r?t:t+1;e.splice(o,1)}else t++}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||an(e,function(e){return"hashtag"===e.getType()}),this.email||an(e,function(e){return"email"===e.getType()}),this.phone||an(e,function(e){return"phone"===e.getType()}),this.mention||an(e,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||an(e,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.tldMatches||an(e,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),this.urls.ipV4Matches||an(e,function(e){return"url"===e.getType()&&"ipV4"===e.getUrlMatchType()}),e},e.prototype.parseText=function(e,t){t=t||0;for(var i=function(e,t){for(var i=new nr(e,t);i.charIdx<i.text.length;i.charIdx++){var n=e.charAt(i.charIdx),r=e.charCodeAt(i.charIdx);if(0===i.stateMachines.length)rr(i,n,r);else{for(var o=i.stateMachines.length-1;o>=0;o--){var s=i.stateMachines[o];switch(s.state){case 11:ur(i,s,r);break;case 12:dr(i,s,r);break;case 0:or(i,s,r);break;case 1:sr(i,s,r);break;case 2:ar(i,s,r);break;case 3:lr(i,s,r);break;case 4:cr(i,s,0,r);break;case 5:hr(i,s,r);break;case 6:pr(i,s,0,r);break;case 7:fr(i,s,0,r);break;case 13:mr(i,s,r);break;case 14:gr(i,s,r);break;case 8:_r(i,s,r);break;case 9:yr(i,s,r);break;case 10:Zr(i,s,r);break;case 15:vr(i,s,n,r);break;case 16:br(i,s,n,r);break;case 17:wr(i,s,n,r);break;case 18:xr(i,s,n,r);break;case 19:Cr(i,s,n,r);break;case 20:Sr(i,s,r);break;case 21:Tr(i,s,r);break;case 22:Pr(i,s,r);break;case 23:Mr(i,s,r);break;case 24:Ar(i,s,r);break;case 25:Er(i,s,r);break;case 26:kr(i,s,r);break;case 27:Ir(i,s,r);break;case 28:Or(i,s,r);break;case 29:Rr(i,s,r);break;case 30:Br(i,s,r);break;case 31:Dr(i,s,r);break;case 32:Lr(i,s,n,r);break;case 33:Vr(i,s,r);break;case 34:Nr(i,s,r);break;case 35:Ur(i,s,r);break;case 36:Gr(i,s,0,r);break;case 37:Fr(i,s,n,r);break;case 38:zr(i,s,0,r);break;case 39:Kr(i,s,n,r);break;case 40:qr(i,s,r);break;case 41:Hr(i,s,r);break;default:ln(s.state)}}if(!i.hasSchemeUrlMachine()&&i.charIdx>0&&An(r)){var a=i.text.charCodeAt(i.charIdx-1);An(a)||i.addMachine(Xr(i.charIdx,0))}}}for(var l=i.stateMachines.length-1;l>=0;l--)i.stateMachines.forEach(function(e){return Wr(i,e)});return i.matches}(e,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),n=0,r=i.length;n<r;n++)i[n].setOffset(t+i[n].getOffset());return i},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),i=new Array(2*t.length+1),n=0,r=0,o=t.length;r<o;r++){var s=t[r];i.push(e.substring(n,s.getOffset())),i.push(this.createMatchReturnVal(s)),n=s.getOffset()+s.getMatchedText().length}return i.push(e.substring(n)),i.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof un?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new pn({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="4.1.5",e}();let ko;"undefined"!=typeof DOMParser&&(ko=new DOMParser);const Io=new Eo({stripPrefix:!1,email:!1,replaceFn:function(e,t){return"scheme"===t.urlMatchType||"www"===t.urlMatchType}}),Oo=2414016,Ro=16093e3,Bo={gpx:[null,void 0,"http://www.topografix.com/GPX/1/1"]};function Do(e,t){let i=Vo(e,"id");return i=(0,f.Z)(i)?i:(0,C.Z)(),t.getOrCreateEntity(i)}function Fo(e){const t=Lo(e,"lon"),i=Lo(e,"lat"),n=Go(e,"ele",Bo.gpx);return Y.Z.fromDegrees(t,i,n)}function Lo(e,t){if(!(0,f.Z)(e))return;const i=e.getAttribute(t);if(null!==i){const e=parseFloat(i);return isNaN(e)?void 0:e}}function Vo(e,t){if(!(0,f.Z)(e))return;const i=e.getAttribute(t);return null!==i?i:void 0}function No(e,t,i){if(!(0,f.Z)(e))return;const n=e.childNodes,r=n.length;for(let e=0;e<r;e++){const r=n[e];if(r.localName===t&&-1!==i.indexOf(r.namespaceURI))return r}}function Uo(e,t,i){if(!(0,f.Z)(e))return;const n=[],r=e.getElementsByTagName(t),o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function Go(e,t,i){const n=No(e,t,i);if((0,f.Z)(n)){const e=parseFloat(n.textContent);return isNaN(e)?void 0:e}}function zo(e,t,i){const n=No(e,t,i);if((0,f.Z)(n))return n.textContent.trim()}function Ko(e){const t=new n.Z;return t.width=32,t.height=32,t.scaleByDistance=new _e.Z(Oo,1,Ro,.1),t.pixelOffsetScaleByDistance=new _e.Z(Oo,1,Ro,.1),t.verticalOrigin=new K.Z(Be.Z.BOTTOM),t.image=e,t}function qo(e){const t=new ut.Z;return t.width=4,t.material=new ft,t.material.color=(0,f.Z)(e)?e:h.Z.RED,t.material.outlineWidth=2,t.material.outlineColor=h.Z.BLACK,t}const Ho={time:{text:"Time",tag:"time"},comment:{text:"Comment",tag:"cmt"},description:{text:"Description",tag:"desc"},source:{text:"Source",tag:"src"},number:{text:"GPS track/route number",tag:"number"},type:{text:"Type",tag:"type"}};let Wo;function jo(e,t){let i,n="";const r=Object.keys(Ho),o=r.length;for(i=0;i<o;i++){const t=r[i],o=Ho[t];o.value=(0,p.Z)(zo(e,o.tag,Bo.gpx),""),(0,f.Z)(o.value)&&""!==o.value&&(n=`${n}<p>${o.text}: ${o.value}</p>`)}if(!(0,f.Z)(n)||""===n)return;n=Io.link(n),Wo.innerHTML=n;const s=Wo.querySelectorAll("a");for(i=0;i<s.length;i++)s[i].setAttribute("target","_blank");const a=h.Z.WHITE,l=h.Z.BLACK;let c='<div class="cesium-infoBox-description-lighter" style="';return c+="overflow:auto;",c+="word-wrap:break-word;",c+=`background-color:${a.toCssColorString()};`,c+=`color:${l.toCssColorString()};`,c+='">',c+=`${Wo.innerHTML}</div>`,Wo.innerHTML="",c}function Jo(e,t,i,n){const r=Fo(t),o=Do(t,i);o.position=r;const s=(0,f.Z)(n.waypointImage)?n.waypointImage:e._pinBuilder.fromMakiIconId("marker",h.Z.RED,32);o.billboard=Ko(s);const a=zo(t,"name",Bo.gpx);o.name=a,o.label=function(){const e=new Ye.Z;return e.translucencyByDistance=new _e.Z(3e6,1,5e6,0),e.pixelOffset=new d.Z(17,0),e.horizontalOrigin=Ie.Z.LEFT,e.font="16px sans-serif",e.style=Oe.Z.FILL_AND_OUTLINE,e}(),o.label.text=a,o.description=jo(t),n.clampToGround&&(o.billboard.heightReference=ke.Z.CLAMP_TO_GROUND,o.label.heightReference=ke.Z.CLAMP_TO_GROUND)}function Xo(e){const t={positions:[],times:[]},i=Uo(e,"trkpt",Bo.gpx);let n;for(let e=0;e<i.length;e++){const r=Fo(i[e]);t.positions.push(r),n=zo(i[e],"time",Bo.gpx),(0,f.Z)(n)&&t.times.push(fe.Z.fromIso8601(n))}return t}function $o(e){const t=No(e,"author",Bo.gpx);if((0,f.Z)(t)){const e={name:zo(t,"name",Bo.gpx),email:Yo(t),link:Qo(t)};if((0,f.Z)(e.name)||(0,f.Z)(e.email)||(0,f.Z)(e.link))return e}}function Yo(e){const t=No(e,"email",Bo.gpx);if((0,f.Z)(t))return`${zo(t,"id",Bo.gpx)}@${zo(t,"domain",Bo.gpx)}`}function Qo(e){const t=No(e,"link",Bo.gpx);if((0,f.Z)(t)){const e={href:Vo(t,"href"),text:zo(t,"text",Bo.gpx),mimeType:zo(t,"type",Bo.gpx)};if((0,f.Z)(e.href)||(0,f.Z)(e.text)||(0,f.Z)(e.mimeType))return e}}function es(e){const t=No(e,"copyright",Bo.gpx);if((0,f.Z)(t)){const e={author:Vo(t,"author"),year:zo(t,"year",Bo.gpx),license:zo(t,"license",Bo.gpx)};if((0,f.Z)(e.author)||(0,f.Z)(e.year)||(0,f.Z)(e.license))return e}}function ts(e){const t=No(e,"bounds",Bo.gpx);if((0,f.Z)(t)){const e={minLat:Go(t,"minlat",Bo.gpx),maxLat:Go(t,"maxlat",Bo.gpx),minLon:Go(t,"minlon",Bo.gpx),maxLon:Go(t,"maxlon",Bo.gpx)};if((0,f.Z)(e.minLat)||(0,f.Z)(e.maxLat)||(0,f.Z)(e.minLon)||(0,f.Z)(e.maxLon))return e}}"undefined"!=typeof document&&(Wo=document.createElement("div"));const is={wpt:Jo,rte:function(e,t,i,n){const r=Do(t,i);r.description=jo(t);const o=Uo(t,"rtept",Bo.gpx),s=new Array(o.length);for(let t=0;t<o.length;t++)Jo(e,o[t],i,n),s[t]=Fo(o[t]);r.polyline=qo(n.routeColor),n.clampToGround&&(r.polyline.clampToGround=!0),r.polyline.positions=s},trk:function(e,t,i,n){const r=Do(t,i);r.description=jo(t);const o=Uo(t,"trkseg",Bo.gpx);let s,a=[],l=[],c=!0;const u=new St.Z;for(let e=0;e<o.length;e++)s=Xo(o[e]),a=a.concat(s.positions),s.times.length>0?(l=l.concat(s.times),u.addSamples(l,a),c=c&&!0):c=!1;if(c){const t=(0,f.Z)(n.waypointImage)?n.waypointImage:e._pinBuilder.fromMakiIconId("marker",h.Z.RED,32);r.billboard=Ko(t),r.position=u,n.clampToGround&&(r.billboard.heightReference=ke.Z.CLAMP_TO_GROUND),r.availability=new Me.Z,r.availability.addInterval(new Pe.Z({start:l[0],stop:l[l.length-1]}))}r.polyline=qo(n.trackColor),r.polyline.positions=a,n.clampToGround&&(r.polyline.clampToGround=!0)}};function ns(e,t,i){const n=e._entityCollection;n.removeAll();const r=t.documentElement,o=Vo(r,"version"),s=Vo(r,"creator");let a;const l=function(e){const t=No(e,"metadata",Bo.gpx);if((0,f.Z)(t)){const e={name:zo(t,"name",Bo.gpx),desc:zo(t,"desc",Bo.gpx),author:$o(t),copyright:es(t),link:Qo(t),time:zo(t,"time",Bo.gpx),keywords:zo(t,"keywords",Bo.gpx),bounds:ts(t)};if((0,f.Z)(e.name)||(0,f.Z)(e.desc)||(0,f.Z)(e.author)||(0,f.Z)(e.copyright)||(0,f.Z)(e.link)||(0,f.Z)(e.time)||(0,f.Z)(e.keywords)||(0,f.Z)(e.bounds))return e}}(r);let c;(0,f.Z)(l)&&(a=l.name),"gpx"===r.localName?function(e,t,i,n){const r=Object.keys(is),o=r.length;for(let s=0;s<o;s++){const o=r[s],a=is[o],l=t.childNodes,c=l.length;for(let t=0;t<c;t++){const r=l[t];r.localName===o&&-1!==Bo.gpx.indexOf(r.namespaceURI)&&a(e,r,i,n)}}}(e,r,n,i):console.log(`GPX - Unsupported node: ${r.localName}`);const u=n.computeAvailability();let d=u.start,h=u.stop;const p=fe.Z.equals(d,pe.Z.MINIMUM_VALUE),m=fe.Z.equals(h,pe.Z.MAXIMUM_VALUE);if(!p||!m){let e;p&&(e=new Date,e.setHours(0,0,0,0),d=fe.Z.fromDate(e)),m&&(e=new Date,e.setHours(24,0,0,0),h=fe.Z.fromDate(e)),c=new Ue,c.startTime=d,c.stopTime=h,c.currentTime=fe.Z.clone(d),c.clockRange=ee.Z.LOOP_STOP,c.clockStep=te.Z.SYSTEM_CLOCK_MULTIPLIER,c.multiplier=Math.round(Math.min(Math.max(fe.Z.secondsDifference(h,d)/60,1),31556900))}let g=!1;return e._name!==a&&(e._name=a,g=!0),e._creator!==s&&(e._creator=s,g=!0),_=e._metadata,y=l,!(!(0,f.Z)(_)&&!(0,f.Z)(y)||(0,f.Z)(_)&&(0,f.Z)(y)&&_.name===y.name&&_.dec===y.desc&&_.src===y.src&&_.author===y.author&&_.copyright===y.copyright&&_.link===y.link&&_.time===y.time&&_.bounds===y.bounds)&&(e._metadata=l,g=!0),e._version!==o&&(e._version=o,g=!0),c!==e._clock&&(g=!0,e._clock=c),g&&e._changed.raiseEvent(e),Fe.Z.setLoading(e,!1),e;var _,y}function rs(){this._changed=new m.Z,this._error=new m.Z,this._loading=new m.Z,this._clock=void 0,this._entityCollection=new M.Z(this),this._entityCluster=new Ke.Z,this._name=void 0,this._version=void 0,this._creator=void 0,this._metadata=void 0,this._isLoading=!1,this._pinBuilder=new en.Z}rs.load=function(e,t){return(new rs).load(e,t)},Object.defineProperties(rs.prototype,{name:{get:function(){return this._name}},version:{get:function(){return this._version}},creator:{get:function(){return this._creator}},metadata:{get:function(){return this._metadata}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,f.Z)(e))throw new S.Z("value must be defined.");this._entityCluster=e}}}),rs.prototype.update=function(e){return!0},rs.prototype.load=function(e,t){if(!(0,f.Z)(e))throw new S.Z("data is required.");t=(0,p.Z)(t,p.Z.EMPTY_OBJECT),Fe.Z.setLoading(this,!0);const i=this._name,n=this;return function(e,t,i,n){n=(0,p.Z)(n,p.Z.EMPTY_OBJECT);let r=i;if("string"==typeof i||i instanceof we.Z){r=(i=we.Z.createIfNeeded(i)).fetchBlob();const t=e._resourceCredits,n=i.credits;if((0,f.Z)(n)){const e=n.length;for(let i=0;i<e;i++)t.push(n[i])}}return Promise.resolve(r).then(function(t){return t instanceof Blob?(i=t,new Promise((e,t)=>{const n=new FileReader;n.addEventListener("load",function(){e(n.result)}),n.addEventListener("error",function(){t(n.error)}),n.readAsText(i)})).then(function(t){let i,r;try{i=ko.parseFromString(t,"application/xml")}catch(e){r=e.toString()}if((0,f.Z)(r)||i.body||"parsererror"===i.documentElement.tagName){let e=(0,f.Z)(r)?r:i.documentElement.firstChild.nodeValue;throw e||(e=i.body.innerText),new xe.Z(e)}return ns(e,i,n)}):ns(e,t,n);var i}).catch(function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)})}(this,this._entityCollection,e,t).then(function(){let e;const t=n._entityCollection.computeAvailability();let r=t.start,o=t.stop;const s=fe.Z.equals(r,pe.Z.MINIMUM_VALUE),a=fe.Z.equals(o,pe.Z.MAXIMUM_VALUE);if(!s||!a){let t;s&&(t=new Date,t.setHours(0,0,0,0),r=fe.Z.fromDate(t)),a&&(t=new Date,t.setHours(24,0,0,0),o=fe.Z.fromDate(t)),e=new Ue,e.startTime=r,e.stopTime=o,e.currentTime=fe.Z.clone(r),e.clockRange=ee.Z.LOOP_STOP,e.clockStep=te.Z.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(fe.Z.secondsDifference(o,r)/60,1),31556900))}let l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),Fe.Z.setLoading(n,!1),n}).catch(function(e){return Fe.Z.setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),Promise.reject(e)})};const os=rs;var ss=i(228177);const as=function(e,t){this.position=e,this.headingPitchRoll=t};var ls=i(98554),cs=i(195209),us=i(854364),ds=i(461101),hs=i(821253),ps=i(489697),fs=i(721606),ms=i(563883),gs=i(727547),_s=i(381594),ys=i(810017),Zs=i(785284);const vs=-2;function bs(e){return ws(e.map(([e,t])=>new Array(e).fill(t,0,e)))}function ws(e){return e.reduce((e,t)=>e.concat(Array.isArray(t)?ws(t):t),[])}const xs=[0,1,2,3].concat(...bs([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Cs(){const e=this;function t(e,t){let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}e.build_tree=function(i){const n=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.elems;let s,a,l,c=-1;for(i.heap_len=0,i.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(i.heap[++i.heap_len]=c=s,i.depth[s]=0):n[2*s+1]=0;for(;i.heap_len<2;)l=i.heap[++i.heap_len]=c<2?++c:0,n[2*l]=1,i.depth[l]=0,i.opt_len--,r&&(i.static_len-=r[2*l+1]);for(e.max_code=c,s=Math.floor(i.heap_len/2);s>=1;s--)i.pqdownheap(n,s);l=o;do{s=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(n,1),a=i.heap[1],i.heap[--i.heap_max]=s,i.heap[--i.heap_max]=a,n[2*l]=n[2*s]+n[2*a],i.depth[l]=Math.max(i.depth[s],i.depth[a])+1,n[2*s+1]=n[2*a+1]=l,i.heap[1]=l++,i.pqdownheap(n,1)}while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],function(t){const i=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,s=e.stat_desc.max_length;let a,l,c,u,d,h,p=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(i[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)l=t.heap[a],u=i[2*i[2*l+1]+1]+1,u>s&&(u=s,p++),i[2*l+1]=u,l>e.max_code||(t.bl_count[u]++,d=0,l>=o&&(d=r[l-o]),h=i[2*l],t.opt_len+=h*(u+d),n&&(t.static_len+=h*(n[2*l+1]+d)));if(0!==p){do{for(u=s-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[s]--,p-=2}while(p>0);for(u=s;0!==u;u--)for(l=t.bl_count[u];0!==l;)c=t.heap[--a],c>e.max_code||(i[2*c+1]!=u&&(t.opt_len+=(u-i[2*c+1])*i[2*c],i[2*c+1]=u),l--)}}(i),function(e,i,n){const r=[];let o,s,a,l=0;for(o=1;o<=15;o++)r[o]=l=l+n[o-1]<<1;for(s=0;s<=i;s++)a=e[2*s+1],0!==a&&(e[2*s]=t(r[a]++,a))}(n,e.max_code,i.bl_count)}}function Ss(e,t,i,n,r){const o=this;o.static_tree=e,o.extra_bits=t,o.extra_base=i,o.elems=n,o.max_length=r}Cs._length_code=[0,1,2,3,4,5,6,7].concat(...bs([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Cs.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Cs.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Cs.d_code=function(e){return e<256?xs[e]:xs[256+(e>>>7)]},Cs.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Cs.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Cs.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Cs.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ts=bs([[144,8],[112,9],[24,7],[8,8]]);Ss.static_ltree=ws([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map((e,t)=>[e,Ts[t]]));const Ps=bs([[30,5]]);function Ms(e,t,i,n,r){const o=this;o.good_length=e,o.max_lazy=t,o.nice_length=i,o.max_chain=n,o.func=r}Ss.static_dtree=ws([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map((e,t)=>[e,Ps[t]])),Ss.static_l_desc=new Ss(Ss.static_ltree,Cs.extra_lbits,257,286,15),Ss.static_d_desc=new Ss(Ss.static_dtree,Cs.extra_dbits,0,30,15),Ss.static_bl_desc=new Ss(null,Cs.extra_blbits,0,19,7);const As=[new Ms(0,0,0,0,0),new Ms(4,4,8,4,1),new Ms(4,5,16,8,1),new Ms(4,6,32,32,1),new Ms(4,4,16,16,2),new Ms(8,16,32,32,2),new Ms(8,16,128,128,2),new Ms(8,32,128,256,2),new Ms(32,128,258,1024,2),new Ms(32,258,258,4096,2)],Es=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],ks=113,Is=666,Os=262;function Rs(e,t,i,n){const r=e[2*t],o=e[2*i];return r<o||r==o&&n[t]<=n[i]}function Bs(){const e=this;let t,i,n,r,o,s,a,l,c,u,d,h,p,f,m,g,_,y,Z,v,b,w,x,C,S,T,P,M,A,E,k,I,O;const R=new Cs,B=new Cs,D=new Cs;let F,L,V,N,U,G;function z(){let t;for(t=0;t<286;t++)k[2*t]=0;for(t=0;t<30;t++)I[2*t]=0;for(t=0;t<19;t++)O[2*t]=0;k[512]=1,e.opt_len=e.static_len=0,L=V=0}function K(e,t){let i,n=-1,r=e[1],o=0,s=7,a=4;0===r&&(s=138,a=3),e[2*(t+1)+1]=65535;for(let l=0;l<=t;l++)i=r,r=e[2*(l+1)+1],++o<s&&i==r||(o<a?O[2*i]+=o:0!==i?(i!=n&&O[2*i]++,O[32]++):o<=10?O[34]++:O[36]++,o=0,n=i,0===r?(s=138,a=3):i==r?(s=6,a=3):(s=7,a=4))}function q(t){e.pending_buf[e.pending++]=t}function H(e){q(255&e),q(e>>>8&255)}function W(e,t){let i;const n=t;G>16-n?(i=e,U|=i<<G&65535,H(U),U=i>>>16-G,G+=n-16):(U|=e<<G&65535,G+=n)}function j(e,t){const i=2*e;W(65535&t[i],65535&t[i+1])}function J(e,t){let i,n,r=-1,o=e[1],s=0,a=7,l=4;for(0===o&&(a=138,l=3),i=0;i<=t;i++)if(n=o,o=e[2*(i+1)+1],!(++s<a&&n==o)){if(s<l)do{j(n,O)}while(0!==--s);else 0!==n?(n!=r&&(j(n,O),s--),j(16,O),W(s-3,2)):s<=10?(j(17,O),W(s-3,3)):(j(18,O),W(s-11,7));s=0,r=n,0===o?(a=138,l=3):n==o?(a=6,l=3):(a=7,l=4)}}function X(){16==G?(H(U),U=0,G=0):G>=8&&(q(255&U),U>>>=8,G-=8)}function $(t,i){let n,r,o;if(e.dist_buf[L]=t,e.lc_buf[L]=255&i,L++,0===t?k[2*i]++:(V++,t--,k[2*(Cs._length_code[i]+256+1)]++,I[2*Cs.d_code(t)]++),!(8191&L)&&P>2){for(n=8*L,r=b-_,o=0;o<30;o++)n+=I[2*o]*(5+Cs.extra_dbits[o]);if(n>>>=3,V<Math.floor(L/2)&&n<Math.floor(r/2))return!0}return L==F-1}function Y(t,i){let n,r,o,s,a=0;if(0!==L)do{n=e.dist_buf[a],r=e.lc_buf[a],a++,0===n?j(r,t):(o=Cs._length_code[r],j(o+256+1,t),s=Cs.extra_lbits[o],0!==s&&(r-=Cs.base_length[o],W(r,s)),n--,o=Cs.d_code(n),j(o,i),s=Cs.extra_dbits[o],0!==s&&(n-=Cs.base_dist[o],W(n,s)))}while(a<L);j(256,t),N=t[513]}function Q(){G>8?H(U):G>0&&q(255&U),U=0,G=0}function ee(t,i,n){W(0+(n?1:0),3),function(t,i){Q(),N=8,H(i),H(~i),e.pending_buf.set(l.subarray(t,t+i),e.pending),e.pending+=i}(t,i)}function te(i){(function(t,i,n){let r,o,s=0;P>0?(R.build_tree(e),B.build_tree(e),s=function(){let t;for(K(k,R.max_code),K(I,B.max_code),D.build_tree(e),t=18;t>=3&&0===O[2*Cs.bl_order[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!=t?ee(t,i,n):o==r?(W(2+(n?1:0),3),Y(Ss.static_ltree,Ss.static_dtree)):(W(4+(n?1:0),3),function(e,t,i){let n;for(W(e-257,5),W(t-1,5),W(i-4,4),n=0;n<i;n++)W(O[2*Cs.bl_order[n]+1],3);J(k,e-1),J(I,t-1)}(R.max_code+1,B.max_code+1,s+1),Y(k,I)),z(),n&&Q()})(_>=0?_:-1,b-_,i),_=b,t.flush_pending()}function ie(){let e,i,n,r;do{if(r=c-x-b,0===r&&0===b&&0===x)r=o;else if(-1==r)r--;else if(b>=o+o-Os){l.set(l.subarray(o,o+o),0),w-=o,b-=o,_-=o,e=p,n=e;do{i=65535&d[--n],d[n]=i>=o?i-o:0}while(0!==--e);e=o,n=e;do{i=65535&u[--n],u[n]=i>=o?i-o:0}while(0!==--e);r+=o}if(0===t.avail_in)return;e=t.read_buf(l,b+x,r),x+=e,x>=3&&(h=255&l[b],h=(h<<g^255&l[b+1])&m)}while(x<Os&&0!==t.avail_in)}function ne(e){let t,i,n=S,r=b,s=C;const c=b>o-Os?b-(o-Os):0;let d=E;const h=a,p=b+258;let f=l[r+s-1],m=l[r+s];C>=A&&(n>>=2),d>x&&(d=x);do{if(t=e,l[t+s]==m&&l[t+s-1]==f&&l[t]==l[r]&&l[++t]==l[r+1]){r+=2,t++;do{}while(l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&r<p);if(i=258-(p-r),r=p-258,i>s){if(w=e,s=i,i>=d)break;f=l[r+s-1],m=l[r+s]}}}while((e=65535&u[e&h])>c&&0!==--n);return s<=x?s:x}e.depth=[],e.bl_count=[],e.heap=[],k=[],I=[],O=[],e.pqdownheap=function(t,i){const n=e.heap,r=n[i];let o=i<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Rs(t,n[o+1],n[o],e.depth)&&o++,!Rs(t,r,n[o],e.depth));)n[i]=n[o],i=o,o<<=1;n[i]=r},e.deflateInit=function(t,Z,w,L,V,K){return L||(L=8),V||(V=8),K||(K=0),t.msg=null,-1==Z&&(Z=6),V<1||V>9||8!=L||w<9||w>15||Z<0||Z>9||K<0||K>2?vs:(t.dstate=e,s=w,o=1<<s,a=o-1,f=V+7,p=1<<f,m=p-1,g=Math.floor((f+3-1)/3),l=new Uint8Array(2*o),u=[],d=[],F=1<<V+6,e.pending_buf=new Uint8Array(4*F),n=4*F,e.dist_buf=new Uint16Array(F),e.lc_buf=new Uint8Array(F),P=Z,M=K,function(t){return t.total_in=t.total_out=0,t.msg=null,e.pending=0,e.pending_out=0,i=ks,r=0,R.dyn_tree=k,R.stat_desc=Ss.static_l_desc,B.dyn_tree=I,B.stat_desc=Ss.static_d_desc,D.dyn_tree=O,D.stat_desc=Ss.static_bl_desc,U=0,G=0,N=8,z(),function(){c=2*o,d[p-1]=0;for(let e=0;e<p-1;e++)d[e]=0;T=As[P].max_lazy,A=As[P].good_length,E=As[P].nice_length,S=As[P].max_chain,b=0,_=0,x=0,y=C=2,v=0,h=0}(),0}(t))},e.deflateEnd=function(){return 42!=i&&i!=ks&&i!=Is?vs:(e.lc_buf=null,e.dist_buf=null,e.pending_buf=null,d=null,u=null,l=null,e.dstate=null,i==ks?-3:0)},e.deflateParams=function(e,t,i){let n=0;return-1==t&&(t=6),t<0||t>9||i<0||i>2?vs:(As[P].func!=As[t].func&&0!==e.total_in&&(n=e.deflate(1)),P!=t&&(P=t,T=As[P].max_lazy,A=As[P].good_length,E=As[P].nice_length,S=As[P].max_chain),M=i,n)},e.deflateSetDictionary=function(e,t,n){let r,s=n,c=0;if(!t||42!=i)return vs;if(s<3)return 0;for(s>o-Os&&(s=o-Os,c=n-s),l.set(t.subarray(c,c+s),0),b=s,_=s,h=255&l[0],h=(h<<g^255&l[1])&m,r=0;r<=s-3;r++)h=(h<<g^255&l[r+2])&m,u[r&a]=d[h],d[h]=r;return 0},e.deflate=function(c,f){let S,A,E,k,I;if(f>4||f<0)return vs;if(!c.next_out||!c.next_in&&0!==c.avail_in||i==Is&&4!=f)return c.msg=Es[4],vs;if(0===c.avail_out)return c.msg=Es[7],-5;var O;if(t=c,k=r,r=f,42==i&&(A=8+(s-8<<4)<<8,E=(P-1&255)>>1,E>3&&(E=3),A|=E<<6,0!==b&&(A|=32),A+=31-A%31,i=ks,q((O=A)>>8&255),q(255&O)),0!==e.pending){if(t.flush_pending(),0===t.avail_out)return r=-1,0}else if(0===t.avail_in&&f<=k&&4!=f)return t.msg=Es[7],-5;if(i==Is&&0!==t.avail_in)return c.msg=Es[7],-5;if(0!==t.avail_in||0!==x||0!=f&&i!=Is){switch(I=-1,As[P].func){case 0:I=function(e){let i,r=65535;for(r>n-5&&(r=n-5);;){if(x<=1){if(ie(),0===x&&0==e)return 0;if(0===x)break}if(b+=x,x=0,i=_+r,(0===b||b>=i)&&(x=b-i,b=i,te(!1),0===t.avail_out))return 0;if(b-_>=o-Os&&(te(!1),0===t.avail_out))return 0}return te(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(f);break;case 1:I=function(e){let i,n=0;for(;;){if(x<Os){if(ie(),x<Os&&0==e)return 0;if(0===x)break}if(x>=3&&(h=(h<<g^255&l[b+2])&m,n=65535&d[h],u[b&a]=d[h],d[h]=b),0!==n&&(b-n&65535)<=o-Os&&2!=M&&(y=ne(n)),y>=3)if(i=$(b-w,y-3),x-=y,y<=T&&x>=3){y--;do{b++,h=(h<<g^255&l[b+2])&m,n=65535&d[h],u[b&a]=d[h],d[h]=b}while(0!==--y);b++}else b+=y,y=0,h=255&l[b],h=(h<<g^255&l[b+1])&m;else i=$(0,255&l[b]),x--,b++;if(i&&(te(!1),0===t.avail_out))return 0}return te(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(f);break;case 2:I=function(e){let i,n,r=0;for(;;){if(x<Os){if(ie(),x<Os&&0==e)return 0;if(0===x)break}if(x>=3&&(h=(h<<g^255&l[b+2])&m,r=65535&d[h],u[b&a]=d[h],d[h]=b),C=y,Z=w,y=2,0!==r&&C<T&&(b-r&65535)<=o-Os&&(2!=M&&(y=ne(r)),y<=5&&(1==M||3==y&&b-w>4096)&&(y=2)),C>=3&&y<=C){n=b+x-3,i=$(b-1-Z,C-3),x-=C-1,C-=2;do{++b<=n&&(h=(h<<g^255&l[b+2])&m,r=65535&d[h],u[b&a]=d[h],d[h]=b)}while(0!==--C);if(v=0,y=2,b++,i&&(te(!1),0===t.avail_out))return 0}else if(0!==v){if(i=$(0,255&l[b-1]),i&&te(!1),b++,x--,0===t.avail_out)return 0}else v=1,b++,x--}return 0!==v&&(i=$(0,255&l[b-1]),v=0),te(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(f)}if(2!=I&&3!=I||(i=Is),0==I||2==I)return 0===t.avail_out&&(r=-1),0;if(1==I){if(1==f)W(2,3),j(256,Ss.static_ltree),X(),1+N+10-G<9&&(W(2,3),j(256,Ss.static_ltree),X()),N=7;else if(ee(0,0,!1),3==f)for(S=0;S<p;S++)d[S]=0;if(t.flush_pending(),0===t.avail_out)return r=-1,0}}return 4!=f?0:1}}function Ds(){const e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}Ds.prototype={deflateInit:function(e,t){const i=this;return i.dstate=new Bs,t||(t=15),i.dstate.deflateInit(i,e,t)},deflate:function(e){const t=this;return t.dstate?t.dstate.deflate(t,e):vs},deflateEnd:function(){const e=this;if(!e.dstate)return vs;const t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){const i=this;return i.dstate?i.dstate.deflateParams(i,e,t):vs},deflateSetDictionary:function(e,t){const i=this;return i.dstate?i.dstate.deflateSetDictionary(i,e,t):vs},read_buf:function(e,t,i){const n=this;let r=n.avail_in;return r>i&&(r=i),0===r?0:(n.avail_in-=r,e.set(n.next_in.subarray(n.next_in_index,n.next_in_index+r),t),n.next_in_index+=r,n.total_in+=r,r)},flush_pending:function(){const e=this;let t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};const Fs=-2,Ls=-3,Vs=-5,Ns=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],Us=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],Gs=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],zs=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ks=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],qs=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Hs=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function Ws(){let e,t,i,n,r,o;function s(e,t,s,a,l,c,u,d,h,p,f){let m,g,_,y,Z,v,b,w,x,C,S,T,P,M,A;C=0,Z=s;do{i[e[t+C]]++,C++,Z--}while(0!==Z);if(i[0]==s)return u[0]=-1,d[0]=0,0;for(w=d[0],v=1;v<=15&&0===i[v];v++);for(b=v,w<v&&(w=v),Z=15;0!==Z&&0===i[Z];Z--);for(_=Z,w>Z&&(w=Z),d[0]=w,M=1<<v;v<Z;v++,M<<=1)if((M-=i[v])<0)return Ls;if((M-=i[Z])<0)return Ls;for(i[Z]+=M,o[1]=v=0,C=1,P=2;0!==--Z;)o[P]=v+=i[C],P++,C++;Z=0,C=0;do{0!==(v=e[t+C])&&(f[o[v]++]=Z),C++}while(++Z<s);for(s=o[_],o[0]=Z=0,C=0,y=-1,T=-w,r[0]=0,S=0,A=0;b<=_;b++)for(m=i[b];0!==m--;){for(;b>T+w;){if(y++,T+=w,A=_-T,A=A>w?w:A,(g=1<<(v=b-T))>m+1&&(g-=m+1,P=b,v<A))for(;++v<A&&!((g<<=1)<=i[++P]);)g-=i[P];if(A=1<<v,p[0]+A>1440)return Ls;r[y]=S=p[0],p[0]+=A,0!==y?(o[y]=Z,n[0]=v,n[1]=w,v=Z>>>T-w,n[2]=S-r[y-1]-v,h.set(n,3*(r[y-1]+v))):u[0]=S}for(n[1]=b-T,C>=s?n[0]=192:f[C]<a?(n[0]=f[C]<256?0:96,n[2]=f[C++]):(n[0]=c[f[C]-a]+16+64,n[2]=l[f[C++]-a]),g=1<<b-T,v=Z>>>T;v<A;v+=g)h.set(n,3*(S+v));for(v=1<<b-1;0!==(Z&v);v>>>=1)Z^=v;for(Z^=v,x=(1<<T)-1;(Z&x)!=o[y];)y--,T-=w,x=(1<<T)-1}return 0!==M&&1!=_?Vs:0}function a(s){let a;for(e||(e=[],t=[],i=new Int32Array(16),n=[],r=new Int32Array(15),o=new Int32Array(16)),t.length<s&&(t=[]),a=0;a<s;a++)t[a]=0;for(a=0;a<16;a++)i[a]=0;for(a=0;a<3;a++)n[a]=0;r.set(i.subarray(0,15),0),o.set(i.subarray(0,16),0)}this.inflate_trees_bits=function(i,n,r,o,l){let c;return a(19),e[0]=0,c=s(i,0,19,19,null,null,r,n,o,e,t),c==Ls?l.msg="oversubscribed dynamic bit lengths tree":c!=Vs&&0!==n[0]||(l.msg="incomplete dynamic bit lengths tree",c=Ls),c},this.inflate_trees_dynamic=function(i,n,r,o,l,c,u,d,h){let p;return a(288),e[0]=0,p=s(r,0,i,257,zs,Ks,c,o,d,e,t),0!=p||0===o[0]?(p==Ls?h.msg="oversubscribed literal/length tree":-4!=p&&(h.msg="incomplete literal/length tree",p=Ls),p):(a(288),p=s(r,i,n,0,qs,Hs,u,l,d,e,t),0!=p||0===l[0]&&i>257?(p==Ls?h.msg="oversubscribed distance tree":p==Vs?(h.msg="incomplete distance tree",p=Ls):-4!=p&&(h.msg="empty distance tree with lengths",p=Ls),p):0)}}function js(){const e=this;let t,i,n,r,o=0,s=0,a=0,l=0,c=0,u=0,d=0,h=0,p=0,f=0;function m(e,t,i,n,r,o,s,a){let l,c,u,d,h,p,f,m,g,_,y,Z,v,b,w,x;f=a.next_in_index,m=a.avail_in,h=s.bitb,p=s.bitk,g=s.write,_=g<s.read?s.read-g-1:s.end-g,y=Ns[e],Z=Ns[t];do{for(;p<20;)m--,h|=(255&a.read_byte(f++))<<p,p+=8;if(l=h&y,c=i,u=n,x=3*(u+l),0!==(d=c[x]))for(;;){if(h>>=c[x+1],p-=c[x+1],16&d){for(d&=15,v=c[x+2]+(h&Ns[d]),h>>=d,p-=d;p<15;)m--,h|=(255&a.read_byte(f++))<<p,p+=8;for(l=h&Z,c=r,u=o,x=3*(u+l),d=c[x];;){if(h>>=c[x+1],p-=c[x+1],16&d){for(d&=15;p<d;)m--,h|=(255&a.read_byte(f++))<<p,p+=8;if(b=c[x+2]+(h&Ns[d]),h>>=d,p-=d,_-=v,g>=b)w=g-b,g-w>0&&2>g-w?(s.win[g++]=s.win[w++],s.win[g++]=s.win[w++],v-=2):(s.win.set(s.win.subarray(w,w+2),g),g+=2,w+=2,v-=2);else{w=g-b;do{w+=s.end}while(w<0);if(d=s.end-w,v>d){if(v-=d,g-w>0&&d>g-w)do{s.win[g++]=s.win[w++]}while(0!==--d);else s.win.set(s.win.subarray(w,w+d),g),g+=d,w+=d,d=0;w=0}}if(g-w>0&&v>g-w)do{s.win[g++]=s.win[w++]}while(0!==--v);else s.win.set(s.win.subarray(w,w+v),g),g+=v,w+=v,v=0;break}if(64&d)return a.msg="invalid distance code",v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=g,Ls;l+=c[x+2],l+=h&Ns[d],x=3*(u+l),d=c[x]}break}if(64&d)return 32&d?(v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=g,1):(a.msg="invalid literal/length code",v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=g,Ls);if(l+=c[x+2],l+=h&Ns[d],x=3*(u+l),0===(d=c[x])){h>>=c[x+1],p-=c[x+1],s.win[g++]=c[x+2],_--;break}}else h>>=c[x+1],p-=c[x+1],s.win[g++]=c[x+2],_--}while(_>=258&&m>=10);return v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=g,0}e.init=function(e,o,s,a,l,c){t=0,d=e,h=o,n=s,p=a,r=l,f=c,i=null},e.proc=function(e,g,_){let y,Z,v,b,w,x,C,S=0,T=0,P=0;for(P=g.next_in_index,b=g.avail_in,S=e.bitb,T=e.bitk,w=e.write,x=w<e.read?e.read-w-1:e.end-w;;)switch(t){case 0:if(x>=258&&b>=10&&(e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,_=m(d,h,n,p,r,f,e,g),P=g.next_in_index,b=g.avail_in,S=e.bitb,T=e.bitk,w=e.write,x=w<e.read?e.read-w-1:e.end-w,0!=_)){t=1==_?7:9;break}a=d,i=n,s=p,t=1;case 1:for(y=a;T<y;){if(0===b)return e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);_=0,b--,S|=(255&g.read_byte(P++))<<T,T+=8}if(Z=3*(s+(S&Ns[y])),S>>>=i[Z+1],T-=i[Z+1],v=i[Z],0===v){l=i[Z+2],t=6;break}if(16&v){c=15&v,o=i[Z+2],t=2;break}if(!(64&v)){a=v,s=Z/3+i[Z+2];break}if(32&v){t=7;break}return t=9,g.msg="invalid literal/length code",_=Ls,e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);case 2:for(y=c;T<y;){if(0===b)return e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);_=0,b--,S|=(255&g.read_byte(P++))<<T,T+=8}o+=S&Ns[y],S>>=y,T-=y,a=h,i=r,s=f,t=3;case 3:for(y=a;T<y;){if(0===b)return e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);_=0,b--,S|=(255&g.read_byte(P++))<<T,T+=8}if(Z=3*(s+(S&Ns[y])),S>>=i[Z+1],T-=i[Z+1],v=i[Z],16&v){c=15&v,u=i[Z+2],t=4;break}if(!(64&v)){a=v,s=Z/3+i[Z+2];break}return t=9,g.msg="invalid distance code",_=Ls,e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);case 4:for(y=c;T<y;){if(0===b)return e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);_=0,b--,S|=(255&g.read_byte(P++))<<T,T+=8}u+=S&Ns[y],S>>=y,T-=y,t=5;case 5:for(C=w-u;C<0;)C+=e.end;for(;0!==o;){if(0===x&&(w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x&&(e.write=w,_=e.inflate_flush(g,_),w=e.write,x=w<e.read?e.read-w-1:e.end-w,w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x)))return e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);e.win[w++]=e.win[C++],x--,C==e.end&&(C=0),o--}t=0;break;case 6:if(0===x&&(w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x&&(e.write=w,_=e.inflate_flush(g,_),w=e.write,x=w<e.read?e.read-w-1:e.end-w,w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x)))return e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);_=0,e.win[w++]=l,x--,t=0;break;case 7:if(T>7&&(T-=8,b++,P--),e.write=w,_=e.inflate_flush(g,_),w=e.write,x=w<e.read?e.read-w-1:e.end-w,e.read!=e.write)return e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);t=8;case 8:return _=1,e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);case 9:return _=Ls,e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_);default:return _=Fs,e.bitb=S,e.bitk=T,g.avail_in=b,g.total_in+=P-g.next_in_index,g.next_in_index=P,e.write=w,e.inflate_flush(g,_)}},e.free=function(){}}Ws.inflate_trees_fixed=function(e,t,i,n){return e[0]=9,t[0]=5,i[0]=Us,n[0]=Gs,0};const Js=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function Xs(e,t){const i=this;let n,r=0,o=0,s=0,a=0;const l=[0],c=[0],u=new js;let d=0,h=new Int32Array(4320);const p=new Ws;i.bitk=0,i.bitb=0,i.win=new Uint8Array(t),i.end=t,i.read=0,i.write=0,i.reset=function(e,t){t&&(t[0]=0),6==r&&u.free(e),r=0,i.bitk=0,i.bitb=0,i.read=i.write=0},i.reset(e,null),i.inflate_flush=function(e,t){let n,r,o;return r=e.next_out_index,o=i.read,n=(o<=i.write?i.write:i.end)-o,n>e.avail_out&&(n=e.avail_out),0!==n&&t==Vs&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(i.win.subarray(o,o+n),r),r+=n,o+=n,o==i.end&&(o=0,i.write==i.end&&(i.write=0),n=i.write-o,n>e.avail_out&&(n=e.avail_out),0!==n&&t==Vs&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(i.win.subarray(o,o+n),r),r+=n,o+=n),e.next_out_index=r,i.read=o,t},i.proc=function(e,t){let f,m,g,_,y,Z,v,b;for(_=e.next_in_index,y=e.avail_in,m=i.bitb,g=i.bitk,Z=i.write,v=Z<i.read?i.read-Z-1:i.end-Z;;){let w,x,C,S,T,P,M,A;switch(r){case 0:for(;g<3;){if(0===y)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);t=0,y--,m|=(255&e.read_byte(_++))<<g,g+=8}switch(f=7&m,d=1&f,f>>>1){case 0:m>>>=3,g-=3,f=7&g,m>>>=f,g-=f,r=1;break;case 1:w=[],x=[],C=[[]],S=[[]],Ws.inflate_trees_fixed(w,x,C,S),u.init(w[0],x[0],C[0],0,S[0],0),m>>>=3,g-=3,r=6;break;case 2:m>>>=3,g-=3,r=3;break;case 3:return m>>>=3,g-=3,r=9,e.msg="invalid block type",t=Ls,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t)}break;case 1:for(;g<32;){if(0===y)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);t=0,y--,m|=(255&e.read_byte(_++))<<g,g+=8}if((~m>>>16&65535)!=(65535&m))return r=9,e.msg="invalid stored block lengths",t=Ls,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);o=65535&m,m=g=0,r=0!==o?2:0!==d?7:0;break;case 2:if(0===y)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);if(0===v&&(Z==i.end&&0!==i.read&&(Z=0,v=Z<i.read?i.read-Z-1:i.end-Z),0===v&&(i.write=Z,t=i.inflate_flush(e,t),Z=i.write,v=Z<i.read?i.read-Z-1:i.end-Z,Z==i.end&&0!==i.read&&(Z=0,v=Z<i.read?i.read-Z-1:i.end-Z),0===v)))return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);if(t=0,f=o,f>y&&(f=y),f>v&&(f=v),i.win.set(e.read_buf(_,f),Z),_+=f,y-=f,Z+=f,v-=f,0!==(o-=f))break;r=0!==d?7:0;break;case 3:for(;g<14;){if(0===y)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);t=0,y--,m|=(255&e.read_byte(_++))<<g,g+=8}if(s=f=16383&m,(31&f)>29||(f>>5&31)>29)return r=9,e.msg="too many length or distance symbols",t=Ls,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);if(f=258+(31&f)+(f>>5&31),!n||n.length<f)n=[];else for(b=0;b<f;b++)n[b]=0;m>>>=14,g-=14,a=0,r=4;case 4:for(;a<4+(s>>>10);){for(;g<3;){if(0===y)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);t=0,y--,m|=(255&e.read_byte(_++))<<g,g+=8}n[Js[a++]]=7&m,m>>>=3,g-=3}for(;a<19;)n[Js[a++]]=0;if(l[0]=7,f=p.inflate_trees_bits(n,l,c,h,e),0!=f)return(t=f)==Ls&&(n=null,r=9),i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);a=0,r=5;case 5:for(;f=s,!(a>=258+(31&f)+(f>>5&31));){let o,u;for(f=l[0];g<f;){if(0===y)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);t=0,y--,m|=(255&e.read_byte(_++))<<g,g+=8}if(f=h[3*(c[0]+(m&Ns[f]))+1],u=h[3*(c[0]+(m&Ns[f]))+2],u<16)m>>>=f,g-=f,n[a++]=u;else{for(b=18==u?7:u-14,o=18==u?11:3;g<f+b;){if(0===y)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);t=0,y--,m|=(255&e.read_byte(_++))<<g,g+=8}if(m>>>=f,g-=f,o+=m&Ns[b],m>>>=b,g-=b,b=a,f=s,b+o>258+(31&f)+(f>>5&31)||16==u&&b<1)return n=null,r=9,e.msg="invalid bit length repeat",t=Ls,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);u=16==u?n[b-1]:0;do{n[b++]=u}while(0!==--o);a=b}}if(c[0]=-1,T=[],P=[],M=[],A=[],T[0]=9,P[0]=6,f=s,f=p.inflate_trees_dynamic(257+(31&f),1+(f>>5&31),n,T,P,M,A,h,e),0!=f)return f==Ls&&(n=null,r=9),t=f,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);u.init(T[0],P[0],h,M[0],h,A[0]),r=6;case 6:if(i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,1!=(t=u.proc(i,e,t)))return i.inflate_flush(e,t);if(t=0,u.free(e),_=e.next_in_index,y=e.avail_in,m=i.bitb,g=i.bitk,Z=i.write,v=Z<i.read?i.read-Z-1:i.end-Z,0===d){r=0;break}r=7;case 7:if(i.write=Z,t=i.inflate_flush(e,t),Z=i.write,v=Z<i.read?i.read-Z-1:i.end-Z,i.read!=i.write)return i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);r=8;case 8:return t=1,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);case 9:return t=Ls,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t);default:return t=Fs,i.bitb=m,i.bitk=g,e.avail_in=y,e.total_in+=_-e.next_in_index,e.next_in_index=_,i.write=Z,i.inflate_flush(e,t)}}},i.free=function(e){i.reset(e,null),i.win=null,h=null},i.set_dictionary=function(e,t,n){i.win.set(e.subarray(t,t+n),0),i.read=i.write=n},i.sync_point=function(){return 1==r?1:0}}const $s=13,Ys=[0,0,255,255];function Qs(){const e=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),0):Fs}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(t){return e.blocks&&e.blocks.free(t),e.blocks=null,0},e.inflateInit=function(i,n){return i.msg=null,e.blocks=null,n<8||n>15?(e.inflateEnd(i),Fs):(e.wbits=n,i.istate.blocks=new Xs(i,1<<n),t(i),0)},e.inflate=function(e,t){let i,n;if(!e||!e.istate||!e.next_in)return Fs;const r=e.istate;for(t=4==t?Vs:0,i=Vs;;)switch(r.mode){case 0:if(0===e.avail_in)return i;if(i=t,e.avail_in--,e.total_in++,8!=(15&(r.method=e.read_byte(e.next_in_index++)))){r.mode=$s,e.msg="unknown compression method",r.marker=5;break}if(8+(r.method>>4)>r.wbits){r.mode=$s,e.msg="invalid win size",r.marker=5;break}r.mode=1;case 1:if(0===e.avail_in)return i;if(i=t,e.avail_in--,e.total_in++,n=255&e.read_byte(e.next_in_index++),((r.method<<8)+n)%31!=0){r.mode=$s,e.msg="incorrect header check",r.marker=5;break}if(!(32&n)){r.mode=7;break}r.mode=2;case 2:if(0===e.avail_in)return i;i=t,e.avail_in--,e.total_in++,r.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,r.mode=3;case 3:if(0===e.avail_in)return i;i=t,e.avail_in--,e.total_in++,r.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,r.mode=4;case 4:if(0===e.avail_in)return i;i=t,e.avail_in--,e.total_in++,r.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,r.mode=5;case 5:return 0===e.avail_in?i:(i=t,e.avail_in--,e.total_in++,r.need+=255&e.read_byte(e.next_in_index++),r.mode=6,2);case 6:return r.mode=$s,e.msg="need dictionary",r.marker=0,Fs;case 7:if(i=r.blocks.proc(e,i),i==Ls){r.mode=$s,r.marker=0;break}if(0==i&&(i=t),1!=i)return i;i=t,r.blocks.reset(e,r.was),r.mode=12;case 12:return e.avail_in=0,1;case $s:return Ls;default:return Fs}},e.inflateSetDictionary=function(e,t,i){let n=0,r=i;if(!e||!e.istate||6!=e.istate.mode)return Fs;const o=e.istate;return r>=1<<o.wbits&&(r=(1<<o.wbits)-1,n=i-r),o.blocks.set_dictionary(t,n,r),o.mode=7,0},e.inflateSync=function(e){let i,n,r,o,s;if(!e||!e.istate)return Fs;const a=e.istate;if(a.mode!=$s&&(a.mode=$s,a.marker=0),0===(i=e.avail_in))return Vs;for(n=e.next_in_index,r=a.marker;0!==i&&r<4;)e.read_byte(n)==Ys[r]?r++:r=0!==e.read_byte(n)?0:4-r,n++,i--;return e.total_in+=n-e.next_in_index,e.next_in_index=n,e.avail_in=i,a.marker=r,4!=r?Ls:(o=e.total_in,s=e.total_out,t(e),e.total_in=o,e.total_out=s,a.mode=7,0)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():Fs}}function ea(){}ea.prototype={inflateInit:function(e){const t=this;return t.istate=new Qs,e||(e=15),t.istate.inflateInit(t,e)},inflate:function(e){const t=this;return t.istate?t.istate.inflate(t,e):Fs},inflateEnd:function(){const e=this;if(!e.istate)return Fs;const t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync:function(){const e=this;return e.istate?e.istate.inflateSync(e):Fs},inflateSetDictionary:function(e,t){const i=this;return i.istate?i.istate.inflateSetDictionary(i,e,t):Fs},read_byte:function(e){return this.next_in[e]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}};const ta={chunkSize:524288,maxWorkers:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||2,terminateWorkerTimeout:5e3,useWebWorkers:!0,workerScripts:void 0},ia=Object.assign({},ta);function na(){return ia}function ra(e){if(void 0!==e.baseURL&&(ia.baseURL=e.baseURL),void 0!==e.chunkSize&&(ia.chunkSize=e.chunkSize),void 0!==e.maxWorkers&&(ia.maxWorkers=e.maxWorkers),void 0!==e.terminateWorkerTimeout&&(ia.terminateWorkerTimeout=e.terminateWorkerTimeout),void 0!==e.useWebWorkers&&(ia.useWebWorkers=e.useWebWorkers),void 0!==e.Deflate&&(ia.Deflate=e.Deflate),void 0!==e.Inflate&&(ia.Inflate=e.Inflate),void 0!==e.workerScripts){if(e.workerScripts.deflate){if(!Array.isArray(e.workerScripts.deflate))throw new Error("workerScripts.deflate must be an array");ia.workerScripts||(ia.workerScripts={}),ia.workerScripts.deflate=e.workerScripts.deflate}if(e.workerScripts.inflate){if(!Array.isArray(e.workerScripts.inflate))throw new Error("workerScripts.inflate must be an array");ia.workerScripts||(ia.workerScripts={}),ia.workerScripts.inflate=e.workerScripts.inflate}}}const oa=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;oa[e]=t}const sa=class{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let i=0,n=0|e.length;i<n;i++)t=t>>>8^oa[255&(t^e[i])];this.crc=t}get(){return~this.crc}},aa=function(e){if("undefined"==typeof TextEncoder){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let i=0;i<t.length;i++)t[i]=e.charCodeAt(i);return t}return(new TextEncoder).encode(e)},la={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const i=e[e.length-1],n=la.getPartial(i);return 32===n?e.concat(t):la._shiftRight(t,n,0|i,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const i=e[t-1];return 32*(t-1)+la.getPartial(i)},clamp(e,t){if(32*e.length<t)return e;const i=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,i>0&&t&&(e[i-1]=la.partial(t,e[i-1]&2147483648>>t-1,1)),e},partial:(e,t,i)=>32===e?t:(i?0|t:t<<32-e)+1099511627776*e,getPartial:e=>Math.round(e/1099511627776)||32,_shiftRight(e,t,i,n){for(void 0===n&&(n=[]);t>=32;t-=32)n.push(i),i=0;if(0===t)return n.concat(e);for(let r=0;r<e.length;r++)n.push(i|e[r]>>>t),i=e[r]<<32-t;const r=e.length?e[e.length-1]:0,o=la.getPartial(r);return n.push(la.partial(t+o&31,t+o>32?i:n.pop(),1)),n}},ca={bytes:{fromBits(e){const t=la.bitLength(e)/8,i=new Uint8Array(t);let n;for(let r=0;r<t;r++)3&r||(n=e[r/4]),i[r]=n>>>24,n<<=8;return i},toBits(e){const t=[];let i,n=0;for(i=0;i<e.length;i++)n=n<<8|e[i],3&~i||(t.push(n),n=0);return 3&i&&t.push(la.partial(8*(3&i),n)),t}}},ua={sha1:function(e){e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()}};ua.sha1.prototype={blockSize:512,reset:function(){const e=this;return e._h=this._init.slice(0),e._buffer=[],e._length=0,e},update:function(e){const t=this;"string"==typeof e&&(e=ca.utf8String.toBits(e));const i=t._buffer=la.concat(t._buffer,e),n=t._length,r=t._length=n+la.bitLength(e);if(r>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(i);let s=0;for(let e=t.blockSize+n-(t.blockSize+n&t.blockSize-1);e<=r;e+=t.blockSize)t._block(o.subarray(16*s,16*(s+1))),s+=1;return i.splice(0,16*s),t},finalize:function(){const e=this;let t=e._buffer;const i=e._h;t=la.concat(t,[la.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),i},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:function(e,t,i,n){return e<=19?t&i|~t&n:e<=39?t^i^n:e<=59?t&i|t&n|i&n:e<=79?t^i^n:void 0},_S:function(e,t){return t<<e|t>>>32-e},_block:function(e){const t=this,i=t._h,n=Array(80);for(let t=0;t<16;t++)n[t]=e[t];let r=i[0],o=i[1],s=i[2],a=i[3],l=i[4];for(let e=0;e<=79;e++){e>=16&&(n[e]=t._S(1,n[e-3]^n[e-8]^n[e-14]^n[e-16]));const i=t._S(5,r)+t._f(e,o,s,a)+l+n[e]+t._key[Math.floor(e/20)]|0;l=a,a=s,s=t._S(30,o),o=r,r=i}i[0]=i[0]+r|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0}};const da=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const i=t._tables[0][4],n=t._tables[1],r=e.length;let o,s,a,l=1;if(4!==r&&6!==r&&8!==r)throw new Error("invalid aes key size");for(t._key=[s=e.slice(0),a=[]],o=r;o<4*r+28;o++){let e=s[o-1];(o%r===0||8===r&&o%r===4)&&(e=i[e>>>24]<<24^i[e>>16&255]<<16^i[e>>8&255]<<8^i[255&e],o%r===0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),s[o]=s[o-r]^e}for(let e=0;o;e++,o--){const t=s[3&e?o:o-4];a[e]=o<=4||e<4?t:n[0][i[t>>>24]]^n[1][i[t>>16&255]]^n[2][i[t>>8&255]]^n[3][i[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],i=e[4],n=t[4],r=[],o=[];let s,a,l,c;for(let e=0;e<256;e++)o[(r[e]=e<<1^283*(e>>7))^e]=e;for(let u=s=0;!i[u];u^=a||1,s=o[s]||1){let o=s^s<<1^s<<2^s<<3^s<<4;o=o>>8^255&o^99,i[u]=o,n[o]=u,c=r[l=r[a=r[u]]];let d=16843009*c^65537*l^257*a^16843008*u,h=257*r[o]^16843008*o;for(let i=0;i<4;i++)e[i][u]=h=h<<24^h>>>8,t[i][o]=d=d<<24^d>>>8}for(let i=0;i<5;i++)e[i]=e[i].slice(0),t[i]=t[i].slice(0)}_crypt(e,t){if(4!==e.length)throw new Error("invalid aes block size");const i=this._key[t],n=i.length/4-2,r=[0,0,0,0],o=this._tables[t],s=o[0],a=o[1],l=o[2],c=o[3],u=o[4];let d,h,p,f=e[0]^i[0],m=e[t?3:1]^i[1],g=e[2]^i[2],_=e[t?1:3]^i[3],y=4;for(let e=0;e<n;e++)d=s[f>>>24]^a[m>>16&255]^l[g>>8&255]^c[255&_]^i[y],h=s[m>>>24]^a[g>>16&255]^l[_>>8&255]^c[255&f]^i[y+1],p=s[g>>>24]^a[_>>16&255]^l[f>>8&255]^c[255&m]^i[y+2],_=s[_>>>24]^a[f>>16&255]^l[m>>8&255]^c[255&g]^i[y+3],y+=4,f=d,m=h,g=p;for(let e=0;e<4;e++)r[t?3&-e:e]=u[f>>>24]<<24^u[m>>16&255]<<16^u[g>>8&255]<<8^u[255&_]^i[y++],d=f,f=m,m=g,g=_,_=d;return r}},ha={getRandomValues(e){const t=new Uint32Array(e.buffer),i=e=>{let t=987654321;const i=4294967295;return function(){return t=36969*(65535&t)+(t>>16)&i,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let n,r=0;r<e.length;r+=4){const e=i(4294967296*(n||Math.random()));n=987654071*e(),t[r/4]=4294967296*e()|0}return e}},pa=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,i=e>>8&255,n=255&e;255===t?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=n}return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,i){let n;if(!(n=t.length))return[];const r=la.bitLength(t);for(let r=0;r<n;r+=4){this.incCounter(i);const n=e.encrypt(i);t[r]^=n[0],t[r+1]^=n[1],t[r+2]^=n[2],t[r+3]^=n[3]}return la.clamp(t,r)}},fa={importKey:e=>new fa.hmacSha1(ca.bytes.toBits(e)),pbkdf2(e,t,i,n){if(i=i||1e4,n<0||i<0)throw new Error("invalid params to pbkdf2");const r=1+(n>>5)<<2;let o,s,a,l,c;const u=new ArrayBuffer(r),d=new DataView(u);let h=0;const p=la;for(t=ca.bytes.toBits(t),c=1;h<(r||1);c++){for(o=s=e.encrypt(p.concat(t,[c])),a=1;a<i;a++)for(s=e.encrypt(s),l=0;l<s.length;l++)o[l]^=s[l];for(a=0;h<(r||1)&&a<o.length;a++)d.setInt32(h,o[a]),h+=4}return u.slice(0,n/8)},hmacSha1:class{constructor(e){const t=this,i=t._hash=ua.sha1,n=[[],[]],r=i.prototype.blockSize/32;t._baseHash=[new i,new i],e.length>r&&(e=i.hash(e));for(let t=0;t<r;t++)n[0][t]=909522486^e[t],n[1][t]=1549556828^e[t];t._baseHash[0].update(n[0]),t._baseHash[1].update(n[1]),t._resultHash=new i(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),i=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),i}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},ma="Invalid pasword",ga=16,_a={name:"PBKDF2"},ya=Object.assign({hash:{name:"HMAC"}},_a),Za=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},_a),va=["deriveBits"],ba=[8,12,16],wa=[16,24,32],xa=10,Ca=[0,0,0,0],Sa="undefined"!=typeof crypto,Ta=Sa&&void 0!==crypto.subtle,Pa=ca.bytes,Ma=da,Aa=pa,Ea=fa.hmacSha1;class ka{constructor(e,t,i){Object.assign(this,{password:e,signed:t,strength:i-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;if(t.password){const i=Da(e,0,ba[t.strength]+2);await async function(e,t,i){await Ra(e,i,Da(t,0,ba[e.strength]));const n=Da(t,ba[e.strength]),r=e.keys.passwordVerification;if(r[0]!=n[0]||r[1]!=n[1])throw new Error(ma)}(t,i,t.password),t.password=null,t.aesCtrGladman=new Aa(new Ma(t.keys.key),Array.from(Ca)),t.hmac=new Ea(t.keys.authentication),e=Da(e,ba[t.strength]+2)}return Oa(t,e,new Uint8Array(e.length-xa-(e.length-xa)%ga),0,xa,!0)}flush(){const e=this,t=e.pendingInput,i=Da(t,0,t.length-xa),n=Da(t,t.length-xa);let r=new Uint8Array(0);if(i.length){const t=Pa.toBits(i);e.hmac.update(t);const n=e.aesCtrGladman.update(t);r=Pa.fromBits(n)}let o=!0;if(e.signed){const t=Da(Pa.fromBits(e.hmac.digest()),0,xa);for(let e=0;e<xa;e++)t[e]!=n[e]&&(o=!1)}return{valid:o,data:r}}}class Ia{constructor(e,t){Object.assign(this,{password:e,strength:t-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;let i=new Uint8Array(0);t.password&&(i=await async function(e,t){const i=(n=new Uint8Array(ba[e.strength]),Sa&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(n):ha.getRandomValues(n));var n;return await Ra(e,t,i),Ba(i,e.keys.passwordVerification)}(t,t.password),t.password=null,t.aesCtrGladman=new Aa(new Ma(t.keys.key),Array.from(Ca)),t.hmac=new Ea(t.keys.authentication));const n=new Uint8Array(i.length+e.length-e.length%ga);return n.set(i,0),Oa(t,e,n,i.length,0)}flush(){const e=this;let t=new Uint8Array(0);if(e.pendingInput.length){const i=e.aesCtrGladman.update(Pa.toBits(e.pendingInput));e.hmac.update(i),t=Pa.fromBits(i)}const i=Da(Pa.fromBits(e.hmac.digest()),0,xa);return{data:Ba(t,i),signature:i}}}function Oa(e,t,i,n,r,o){const s=t.length-r;let a;for(e.pendingInput.length&&(t=Ba(e.pendingInput,t),i=function(e,t){if(t&&t>e.length){const i=e;(e=new Uint8Array(t)).set(i,0)}return e}(i,s-s%ga)),a=0;a<=s-ga;a+=ga){const r=Pa.toBits(Da(t,a,a+ga));o&&e.hmac.update(r);const s=e.aesCtrGladman.update(r);o||e.hmac.update(s),i.set(Pa.fromBits(s),a+n)}return e.pendingInput=Da(t,a),i}async function Ra(e,t,i){const n=aa(t),r=await function(e,t,i,n,r){return Sa&&Ta&&"function"==typeof crypto.subtle.importKey?crypto.subtle.importKey("raw",t,i,!1,r):fa.importKey(t)}(0,n,ya,0,va),o=await async function(e,t,i){return Sa&&Ta&&"function"==typeof crypto.subtle.deriveBits?await crypto.subtle.deriveBits(e,t,i):fa.pbkdf2(t,e.salt,Za.iterations,i)}(Object.assign({salt:i},Za),r,8*(2*wa[e.strength]+2)),s=new Uint8Array(o);e.keys={key:Pa.toBits(Da(s,0,wa[e.strength])),authentication:Pa.toBits(Da(s,wa[e.strength],2*wa[e.strength])),passwordVerification:Da(s,2*wa[e.strength])}}function Ba(e,t){let i=e;return e.length+t.length&&(i=new Uint8Array(e.length+t.length),i.set(e,0),i.set(t,e.length)),i}function Da(e,t,i){return e.subarray(t,i)}class Fa{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),Ua(this,e)}append(e){const t=this;if(t.password){const i=Va(t,e.subarray(0,12));if(t.password=null,i[11]!=t.passwordVerification)throw new Error(ma);e=e.subarray(12)}return Va(t,e)}flush(){return{valid:!0,data:new Uint8Array(0)}}}class La{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),Ua(this,e)}append(e){const t=this;let i,n;if(t.password){t.password=null;const r=crypto.getRandomValues(new Uint8Array(12));r[11]=t.passwordVerification,i=new Uint8Array(e.length+r.length),i.set(Na(t,r),0),n=12}else i=new Uint8Array(e.length),n=0;return i.set(Na(t,e),n),i}flush(){return{data:new Uint8Array(0)}}}function Va(e,t){const i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=za(e)^t[n],Ga(e,i[n]);return i}function Na(e,t){const i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=za(e)^t[n],Ga(e,t[n]);return i}function Ua(e,t){e.keys=[305419896,591751049,878082192],e.crcKey0=new sa(e.keys[0]),e.crcKey2=new sa(e.keys[2]);for(let i=0;i<t.length;i++)Ga(e,t.charCodeAt(i))}function Ga(e,t){e.crcKey0.append([t]),e.keys[0]=~e.crcKey0.get(),e.keys[1]=qa(e.keys[1]+Ka(e.keys[0])),e.keys[1]=qa(Math.imul(e.keys[1],134775813)+1),e.crcKey2.append([e.keys[1]>>>24]),e.keys[2]=~e.crcKey2.get()}function za(e){const t=2|e.keys[2];return Ka(Math.imul(t,1^t)>>>8)}function Ka(e){return 255&e}function qa(e){return 4294967295&e}const Ha="deflate",Wa="inflate",ja="Invalid signature";class Ja{constructor(e,{signature:t,password:i,signed:n,compressed:r,zipCrypto:o,passwordVerification:s,encryptionStrength:a},{chunkSize:l}){const c=Boolean(i);Object.assign(this,{signature:t,encrypted:c,signed:n,compressed:r,inflate:r&&new e({chunkSize:l}),crc32:n&&new sa,zipCrypto:o,decrypt:c&&o?new Fa(i,s):new ka(i,n,a)})}async append(e){const t=this;return t.encrypted&&e.length&&(e=await t.decrypt.append(e)),t.compressed&&e.length&&(e=await t.inflate.append(e)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),e}async flush(){const e=this;let t,i=new Uint8Array(0);if(e.encrypted){const t=e.decrypt.flush();if(!t.valid)throw new Error(ja);i=t.data}if((!e.encrypted||e.zipCrypto)&&e.signed){const i=new DataView(new Uint8Array(4).buffer);if(t=e.crc32.get(),i.setUint32(0,t),e.signature!=i.getUint32(0,!1))throw new Error(ja)}return e.compressed&&(i=await e.inflate.append(i)||new Uint8Array(0),await e.inflate.flush()),{data:i,signature:t}}}class Xa{constructor(e,{encrypted:t,signed:i,compressed:n,level:r,zipCrypto:o,password:s,passwordVerification:a,encryptionStrength:l},{chunkSize:c}){Object.assign(this,{encrypted:t,signed:i,compressed:n,deflate:n&&new e({level:r||5,chunkSize:c}),crc32:i&&new sa,zipCrypto:o,encrypt:t&&o?new La(s,a):new Ia(s,l)})}async append(e){const t=this;let i=e;return t.compressed&&e.length&&(i=await t.deflate.append(e)),t.encrypted&&i.length&&(i=await t.encrypt.append(i)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),i}async flush(){const e=this;let t,i=new Uint8Array(0);if(e.compressed&&(i=await e.deflate.flush()||new Uint8Array(0)),e.encrypted){i=await e.encrypt.append(i);const n=e.encrypt.flush();t=n.signature;const r=new Uint8Array(i.length+n.data.length);r.set(i,0),r.set(n.data,i.length),i=r}return e.encrypted&&!e.zipCrypto||!e.signed||(t=e.crc32.get()),{data:i,signature:t}}}const $a="init",Ya="append",Qa="flush";let el=!0;const tl=(e,t,i,n,r,o,s)=>(Object.assign(e,{busy:!0,codecConstructor:t,options:Object.assign({},i),scripts:s,terminate(){e.worker&&!e.busy&&(e.worker.terminate(),e.interface=null)},onTaskFinished(){e.busy=!1,r(e)}}),o?function(e,t){let i;const n={type:"module"};if(!e.interface){if(el)try{e.worker=r({},t.baseURL)}catch(i){el=!1,e.worker=r(n,t.baseURL)}else e.worker=r(n,t.baseURL);e.worker.addEventListener("message",function(t){const n=t.data;if(i){const t=n.error,r=n.type;if(t){const n=new Error(t.message);n.stack=t.stack,i.reject(n),i=null,e.onTaskFinished()}else if(r==$a||r==Qa||r==Ya){const t=n.data;r==Qa?(i.resolve({data:new Uint8Array(t),signature:n.signature}),i=null,e.onTaskFinished()):i.resolve(t&&new Uint8Array(t))}}},!1),e.interface={append:e=>o({type:Ya,data:e}),flush:()=>o({type:Qa}),abort(){e.onTaskFinished()}}}return e.interface;function r(t,i){let n,r;n=e.scripts[0],"function"==typeof n&&(n=n());try{r=new URL(n,i)}catch(e){r=n}return new Worker(r,t)}async function o(n){if(!i){const i=e.options,n=e.scripts.slice(1);await s({scripts:n,type:$a,options:i,config:{chunkSize:t.chunkSize}})}return s(n)}function s(t){const n=e.worker,r=new Promise((e,t)=>i={resolve:e,reject:t});try{if(t.data)try{t.data=t.data.buffer,n.postMessage(t,[t.data])}catch(e){n.postMessage(t)}else n.postMessage(t)}catch(t){i.reject(t),i=null,e.onTaskFinished()}return r}}(e,n):function(e,t){const i=function(e,t,i){return t.codecType.startsWith(Ha)?new Xa(e,t,i):t.codecType.startsWith(Wa)?new Ja(e,t,i):void 0}(e.codecConstructor,e.options,t);return{async append(t){try{return await i.append(t)}catch(t){throw e.onTaskFinished(),t}},async flush(){try{return await i.flush()}finally{e.onTaskFinished()}},abort(){e.onTaskFinished()}}}(e,n));let il=[];const nl=[];function rl(e,t,i){const n=!(!t.compressed&&!t.signed&&!t.encrypted)&&(t.useWebWorkers||void 0===t.useWebWorkers&&i.useWebWorkers),r=n&&i.workerScripts?i.workerScripts[t.codecType]:[];if(il.length<i.maxWorkers){const s={};return il.push(s),tl(s,e,t,i,o,n,r)}{const s=il.find(e=>!e.busy);return s?(ol(s),tl(s,e,t,i,o,n,r)):new Promise(i=>nl.push({resolve:i,codecConstructor:e,options:t,webWorker:n,scripts:r}))}function o(e){if(nl.length){const[{resolve:t,codecConstructor:n,options:r,webWorker:s,scripts:a}]=nl.splice(0,1);t(tl(e,n,r,i,o,s,a))}else e.worker?(ol(e),Number.isFinite(i.terminateWorkerTimeout)&&i.terminateWorkerTimeout>=0&&(e.terminateTimeout=setTimeout(()=>{il=il.filter(t=>t!=e),e.terminate()},i.terminateWorkerTimeout))):il=il.filter(t=>t!=e)}}function ol(e){e.terminateTimeout&&(clearTimeout(e.terminateTimeout),e.terminateTimeout=null)}const sl="text/plain";class al{constructor(){this.size=0}init(){this.initialized=!0}}class ll extends al{}class cl extends al{writeUint8Array(e){this.size+=e.length}}class ul extends ll{constructor(e){super(),this.blobReader=new pl(new Blob([e],{type:sl}))}init(){super.init(),this.blobReader.init(),this.size=this.blobReader.size}readUint8Array(e,t){return this.blobReader.readUint8Array(e,t)}}class dl extends cl{constructor(e){super(),this.encoding=e,this.blob=new Blob([],{type:sl})}writeUint8Array(e){super.writeUint8Array(e),this.blob=new Blob([this.blob,e.buffer],{type:sl})}getData(){if(this.blob.text)return this.blob.text();{const e=new FileReader;return new Promise((t,i)=>{e.onload=e=>t(e.target.result),e.onerror=()=>i(e.error),e.readAsText(this.blob,this.encoding)})}}}class hl extends cl{constructor(e){super(),this.data="data:"+(e||"")+";base64,",this.pending=[]}writeUint8Array(e){super.writeUint8Array(e);let t=0,i=this.pending;const n=this.pending.length;for(this.pending="",t=0;t<3*Math.floor((n+e.length)/3)-n;t++)i+=String.fromCharCode(e[t]);for(;t<e.length;t++)this.pending+=String.fromCharCode(e[t]);i.length>2?this.data+=btoa(i):this.pending=i}getData(){return this.data+btoa(this.pending)}}class pl extends ll{constructor(e){super(),this.blob=e,this.size=e.size}async readUint8Array(e,t){if(this.blob.arrayBuffer)return new Uint8Array(await this.blob.slice(e,e+t).arrayBuffer());{const i=new FileReader;return new Promise((n,r)=>{i.onload=e=>n(new Uint8Array(e.target.result)),i.onerror=()=>r(i.error),i.readAsArrayBuffer(this.blob.slice(e,e+t))})}}}class fl extends cl{constructor(e){super(),this.contentType=e,this.arrayBuffersMaxlength=8,ml(this)}writeUint8Array(e){super.writeUint8Array(e),this.arrayBuffers.length==this.arrayBuffersMaxlength&&gl(this),this.arrayBuffers.push(e.buffer)}getData(){return this.blob||(this.arrayBuffers.length&&gl(this),this.blob=this.pendingBlob,ml(this)),this.blob}}function ml(e){e.pendingBlob=new Blob([],{type:e.contentType}),e.arrayBuffers=[]}function gl(e){e.pendingBlob=new Blob([e.pendingBlob,...e.arrayBuffers],{type:e.contentType}),e.arrayBuffers=[]}const _l=4294967295,yl=65535,Zl=67324752,vl=33639248,bl=101010256,wl=101075792,xl=117853008,Cl=21589,Sl=2048,Tl="/",Pl=new Date(2107,11,31),Ml=new Date(1980,0,1),Al="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),El=function(e,t){if(t&&"cp437"==t.trim().toLowerCase())return(e=>{let t="";for(let i=0;i<e.length;i++)t+=Al[e[i]];return t})(e);if("undefined"==typeof TextDecoder){const t=new FileReader;return new Promise((i,n)=>{t.onload=e=>i(e.target.result),t.onerror=()=>n(t.error),t.readAsText(new Blob([e]))})}return new TextDecoder(t).decode(e)};async function kl(e,t,i,n,r,o,s){const a=Math.max(o.chunkSize,64);return async function o(l=0,c=0){const u=s.signal,d=r();if(l<d){Il(u,e);const r=await t.readUint8Array(l+n,Math.min(a,d-l)),h=r.length;Il(u,e);const p=await e.append(r);if(Il(u,e),c+=await Ol(i,p),s.onprogress)try{s.onprogress(l+h,d)}catch(e){}return o(l+a,c)}{const t=await e.flush();return c+=await Ol(i,t.data),{signature:t.signature,length:c}}}()}function Il(e,t){if(e&&e.aborted)throw t.abort(),new Error("Abort error")}async function Ol(e,t){return t.length&&await e.writeUint8Array(t),t.length}const Rl=["filename","rawFilename","directory","encrypted","compressedSize","uncompressedSize","lastModDate","rawLastModDate","comment","rawComment","signature","extraField","rawExtraField","bitFlag","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","filenameUTF8","commentUTF8","offset","zip64","compressionMethod","extraFieldNTFS","lastAccessDate","creationDate","extraFieldExtendedTimestamp","version","versionMadeBy","msDosCompatible","internalFileAttribute","externalFileAttribute"];class Bl{constructor(e){Rl.forEach(t=>this[t]=e[t])}}const Dl="File format is not recognized",Fl="Compression method not supported",Ll="utf-8",Vl="cp437",Nl=["uncompressedSize","compressedSize","offset"];class Ul{constructor(e,t={}){Object.assign(this,{reader:e,options:t,config:na()})}async*getEntriesGenerator(e={}){const t=this,i=t.reader;if(i.initialized||await i.init(),i.size<22)throw new Error(Dl);const n=await async function(e,t,i){const n=new Uint8Array(4);var r,o;r=Ql(n),o=t,r.setUint32(0,o,!0);return await s(22)||await s(Math.min(1048582,i));async function s(t){const r=i-t,o=await ec(e,r,t);for(let e=o.length-22;e>=0;e--)if(o[e]==n[0]&&o[e+1]==n[1]&&o[e+2]==n[2]&&o[e+3]==n[3])return{offset:r+e,buffer:o.slice(e,e+22).buffer}}}(i,bl,i.size);if(!n)throw new Error("End of central directory not found");const r=Ql(n);let o=$l(r,12),s=$l(r,16),a=Xl(r,8),l=0;if(s==_l||o==_l||a==yl){const e=Ql(await ec(i,n.offset-20,20));if($l(e,0)!=xl)throw new Error("End of Zip64 central directory not found");s=Yl(e,8);let t=await ec(i,s,56),r=Ql(t);const c=n.offset-20-56;if($l(r,0)!=wl&&s!=c){const e=s;s=c,l=s-e,t=await ec(i,s,56),r=Ql(t)}if($l(r,0)!=wl)throw new Error("End of Zip64 central directory locator not found");a=Yl(r,32),o=Yl(r,40),s-=o}if(s<0||s>=i.size)throw new Error(Dl);let c=0,u=await ec(i,s,o),d=Ql(u);if(o){const e=n.offset-o;if($l(d,c)!=vl&&s!=e){const t=s;s=e,l=s-t,u=await ec(i,s,o),d=Ql(u)}}if(s<0||s>=i.size)throw new Error(Dl);for(let n=0;n<a;n++){const r=new Gl(i,t.config,t.options);if($l(d,c)!=vl)throw new Error("Central directory header not found");zl(r,d,c+6);const o=Boolean(r.bitFlag.languageEncodingFlag),s=c+46,h=s+r.filenameLength,p=h+r.extraFieldLength,f=Xl(d,c+4),m=!(0&f);Object.assign(r,{versionMadeBy:f,msDosCompatible:m,compressedSize:0,uncompressedSize:0,commentLength:Xl(d,c+32),directory:m&&!(16&~Jl(d,c+38)),offset:$l(d,c+42)+l,internalFileAttribute:$l(d,c+34),externalFileAttribute:$l(d,c+38),rawFilename:u.subarray(s,h),filenameUTF8:o,commentUTF8:o,rawExtraField:u.subarray(h,p)});const g=p+r.commentLength;r.rawComment=u.subarray(p,g);const _=Hl(t,e,"filenameEncoding"),y=Hl(t,e,"commentEncoding"),[Z,v]=await Promise.all([El(r.rawFilename,r.filenameUTF8?Ll:_||Vl),El(r.rawComment,r.commentUTF8?Ll:y||Vl)]);r.filename=Z,r.comment=v,!r.directory&&r.filename.endsWith(Tl)&&(r.directory=!0),await Kl(r,r,d,c+6);const b=new Bl(r);if(b.getData=(e,t)=>r.getData(e,b,t),c=g,e.onprogress)try{e.onprogress(n+1,a,new Bl(r))}catch(e){}yield b}return!0}async getEntries(e={}){const t=[],i=this.getEntriesGenerator(e);let n=i.next();for(;!(await n).done;)t.push((await n).value),n=i.next();return t}async close(){}}class Gl{constructor(e,t,i){Object.assign(this,{reader:e,config:t,options:i})}async getData(e,t,i={}){const n=this,{reader:r,offset:o,extraFieldAES:s,compressionMethod:a,config:l,bitFlag:c,signature:u,rawLastModDate:d,compressedSize:h}=n,p=n.localDirectory={};r.initialized||await r.init();let f=await ec(r,o,30);const m=Ql(f);let g=Hl(n,i,"password");if(g=g&&g.length&&g,s&&99!=s.originalCompressionMethod)throw new Error(Fl);if(0!=a&&8!=a)throw new Error(Fl);if($l(m,0)!=Zl)throw new Error("Local file header not found");zl(p,m,4),f=await ec(r,o,30+p.filenameLength+p.extraFieldLength),p.rawExtraField=f.subarray(30+p.filenameLength),await Kl(n,p,m,4),t.lastAccessDate=p.lastAccessDate,t.creationDate=p.creationDate;const _=n.encrypted&&p.encrypted,y=_&&!s;if(_){if(!y&&void 0===s.strength)throw new Error("Encryption method not supported");if(!g)throw new Error("File contains encrypted entry")}const Z=await rl(l.Inflate,{codecType:Wa,password:g,zipCrypto:y,encryptionStrength:s&&s.strength,signed:Hl(n,i,"checkSignature"),passwordVerification:y&&(c.dataDescriptor?d>>>8&255:u>>>24&255),signature:u,compressed:0!=a,encrypted:_,useWebWorkers:Hl(n,i,"useWebWorkers")},l);e.initialized||await e.init();const v=Hl(n,i,"signal"),b=o+30+p.filenameLength+p.extraFieldLength;return await kl(Z,r,e,b,()=>h,l,{onprogress:i.onprogress,signal:v}),e.getData()}}function zl(e,t,i){const n=e.rawBitFlag=Xl(t,i+2),r=!(1&~n),o=$l(t,i+6);Object.assign(e,{encrypted:r,version:Xl(t,i),bitFlag:{level:(6&n)>>1,dataDescriptor:!(8&~n),languageEncodingFlag:(n&Sl)==Sl},rawLastModDate:o,lastModDate:Wl(o),filenameLength:Xl(t,i+22),extraFieldLength:Xl(t,i+24)})}async function Kl(e,t,i,n){const r=t.rawExtraField,o=t.extraField=new Map,s=Ql(new Uint8Array(r));let a=0;try{for(;a<r.length;){const e=Xl(s,a),t=Xl(s,a+2);o.set(e,{type:e,data:r.slice(a+4,a+4+t)}),a+=4+t}}catch(e){}const l=Xl(i,n+4);t.signature=$l(i,n+10),t.uncompressedSize=$l(i,n+18),t.compressedSize=$l(i,n+14);const c=o.get(1);c&&(function(e,t){t.zip64=!0;const i=Ql(e.data);e.values=[];for(let t=0;t<Math.floor(e.data.length/8);t++)e.values.push(Yl(i,0+8*t));const n=Nl.filter(e=>t[e]==_l);for(let t=0;t<n.length;t++)e[n[t]]=e.values[t];Nl.forEach(i=>{if(t[i]==_l){if(void 0===e[i])throw new Error("Zip64 extra field not found");t[i]=e[i]}})}(c,t),t.extraFieldZip64=c);const u=o.get(28789);u&&(await ql(u,"filename","rawFilename",t,e),t.extraFieldUnicodePath=u);const d=o.get(25461);d&&(await ql(d,"comment","rawComment",t,e),t.extraFieldUnicodeComment=d);const h=o.get(39169);h?(function(e,t,i){const n=Ql(e.data);e.vendorVersion=Jl(n,0),e.vendorId=Jl(n,2);const r=Jl(n,4);e.strength=r,e.originalCompressionMethod=i,t.compressionMethod=e.compressionMethod=Xl(n,5)}(h,t,l),t.extraFieldAES=h):t.compressionMethod=l;const p=o.get(10);p&&(function(e,t){const i=Ql(e.data);let n,r=4;try{for(;r<e.data.length&&!n;){const t=Xl(i,r),o=Xl(i,r+2);1==t&&(n=e.data.slice(r+4,r+4+o)),r+=4+o}}catch(e){}try{if(n&&24==n.length){const i=Ql(n),r=i.getBigUint64(0,!0),o=i.getBigUint64(8,!0),s=i.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:r,rawLastAccessDate:o,rawCreationDate:s});const a=jl(r),l={lastModDate:a,lastAccessDate:jl(o),creationDate:jl(s)};Object.assign(e,l),Object.assign(t,l)}}catch(e){}}(p,t),t.extraFieldNTFS=p);const f=o.get(Cl);f&&(function(e,t){const i=Ql(e.data),n=Jl(i,0),r=[],o=[];1&~n||(r.push("lastModDate"),o.push("rawLastModDate")),2&~n||(r.push("lastAccessDate"),o.push("rawLastAccessDate")),4&~n||(r.push("creationDate"),o.push("rawCreationDate"));let s=1;r.forEach((n,r)=>{if(e.data.length>=s+4){const a=$l(i,s);t[n]=e[n]=new Date(1e3*a);const l=o[r];e[l]=a}s+=4})}(f,t),t.extraFieldExtendedTimestamp=f)}async function ql(e,t,i,n,r){const o=Ql(e.data);e.version=Jl(o,0),e.signature=$l(o,1);const s=new sa;s.append(r[i]);const a=Ql(new Uint8Array(4));a.setUint32(0,s.get(),!0),e[t]=await El(e.data.subarray(5)),e.valid=!r.bitFlag.languageEncodingFlag&&e.signature==$l(a,0),e.valid&&(n[t]=e[t],n[t+"UTF8"]=!0)}function Hl(e,t,i){return void 0===t[i]?e.options[i]:t[i]}function Wl(e){const t=(4294901760&e)>>16,i=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&i)>>11,(2016&i)>>5,2*(31&i),0)}catch(e){}}function jl(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function Jl(e,t){return e.getUint8(t)}function Xl(e,t){return e.getUint16(t,!0)}function $l(e,t){return e.getUint32(t,!0)}function Yl(e,t){return Number(e.getBigUint64(t,!0))}function Ql(e){return new DataView(e.buffer)}function ec(e,t,i){return e.readUint8Array(t,i)}const tc="Version exceeds 65535",ic="Zip64 is not supported",nc=new Uint8Array([7,0,2,0,65,69,3,0,0]);let rc=0;class oc{constructor(e,t={}){Object.assign(this,{writer:e,options:t,config:na(),files:new Map,offset:e.size,pendingCompressedSize:0,pendingEntries:[],pendingAddFileCalls:new Set})}async add(e="",t,i={}){const n=this;if(!(rc<n.config.maxWorkers))return new Promise((r,o)=>n.pendingEntries.push({name:e,reader:t,options:i,resolve:r,reject:o}));{let r;rc++;try{return r=async function(e,t,i,n){if(t=t.trim(),n.directory&&!t.endsWith(Tl)?t+=Tl:n.directory=t.endsWith(Tl),e.files.has(t))throw new Error("File already exists");const r=aa(t);if(r.length>yl)throw new Error("File entry name exceeds 64KB");const o=n.comment||"",s=aa(o);if(s.length>yl)throw new Error("File entry comment exceeds 64KB");const a=e.options.version||n.version||0;if(a>yl)throw new Error(tc);const l=e.options.versionMadeBy||n.versionMadeBy||20;if(l>yl)throw new Error(tc);const c=lc(e,n,"lastModDate")||new Date,u=lc(e,n,"lastAccessDate"),d=lc(e,n,"creationDate"),h=lc(e,n,"password"),p=lc(e,n,"encryptionStrength")||3,f=lc(e,n,"zipCrypto");if(void 0!==h&&void 0!==p&&(p<1||p>3))throw new Error("The strength must equal 1, 2, or 3");let m=new Uint8Array(0);const g=n.extraField;if(g){let e=0,t=0;g.forEach(t=>e+=4+t.length),m=new Uint8Array(e),g.forEach((e,i)=>{if(i>yl)throw new Error("Extra field type exceeds 65535");if(e.length>yl)throw new Error("Extra field data exceeds 64KB");pc(m,new Uint16Array([i]),t),pc(m,new Uint16Array([e.length]),t+2),pc(m,e,t+4),t+=4+e.length})}let _=lc(e,n,"extendedTimestamp");void 0===_&&(_=!0);let y=0,Z=lc(e,n,"keepOrder");void 0===Z&&(Z=!0);let v=0,b=lc(e,n,"msDosCompatible");void 0===b&&(b=!0);const w=lc(e,n,"internalFileAttribute")||0,x=lc(e,n,"externalFileAttribute")||0;i&&(i.initialized||await i.init(),v=i.size,y=function(e){return e+5*(Math.floor(e/16383)+1)}(v));let C=n.zip64||e.options.zip64||!1;if(e.offset+e.pendingCompressedSize>=_l||v>=_l||y>=_l){if(!1===n.zip64||!1===e.options.zip64||!Z)throw new Error(ic);C=!0}e.pendingCompressedSize+=y,await Promise.resolve();const S=lc(e,n,"level"),T=lc(e,n,"useWebWorkers"),P=lc(e,n,"bufferedWrite");let M=lc(e,n,"dataDescriptor"),A=lc(e,n,"dataDescriptorSignature");const E=lc(e,n,"signal");void 0===M&&(M=!0),M&&void 0===A&&(A=!1);const k=await async function(e,t,i,n){const r=e.files,o=e.writer,s=Array.from(r.values()).pop();let a,l,c,u={};r.set(t,u);try{let d,h,p;if(n.keepOrder&&(d=s&&s.lock),u.lock=p=new Promise(e=>c=e),n.bufferedWrite||e.lockWrite||!n.dataDescriptor?(h=new fl,h.init(),a=!0):(e.lockWrite=new Promise(e=>l=e),o.initialized||await o.init(),h=o),u=await async function(e,t,i,n){const{rawFilename:r,lastAccessDate:o,creationDate:s,password:a,level:l,zip64:c,zipCrypto:u,dataDescriptor:d,dataDescriptorSignature:h,directory:p,version:f,versionMadeBy:m,rawComment:g,rawExtraField:_,useWebWorkers:y,onprogress:Z,signal:v,encryptionStrength:b,extendedTimestamp:w,msDosCompatible:x,internalFileAttribute:C,externalFileAttribute:S}=n,T=Boolean(a&&a.length),P=0!==l&&!p;let M,A,E;if(T&&!u){M=new Uint8Array(nc.length+2);const e=fc(M);uc(e,0,39169),pc(M,nc,2),cc(e,8,b)}else M=new Uint8Array(0);if(w){E=new Uint8Array(9+(o?4:0)+(s?4:0));const e=fc(E);uc(e,0,Cl),uc(e,2,E.length-4),cc(e,4,1+(o?2:0)+(s?4:0)),dc(e,5,Math.floor(n.lastModDate.getTime()/1e3)),o&&dc(e,9,Math.floor(o.getTime()/1e3)),s&&dc(e,13,Math.floor(s.getTime()/1e3));try{A=new Uint8Array(36);const e=fc(A),t=ac(n.lastModDate);uc(e,0,10),uc(e,2,32),uc(e,8,1),uc(e,10,24),hc(e,12,t),hc(e,20,ac(o)||t),hc(e,28,ac(s)||t)}catch(e){A=new Uint8Array(0)}}else A=E=new Uint8Array(0);const k={version:f||20,versionMadeBy:m,zip64:c,directory:Boolean(p),filenameUTF8:!0,rawFilename:r,commentUTF8:!0,rawComment:g,rawExtraFieldZip64:c?new Uint8Array(28):new Uint8Array(0),rawExtraFieldExtendedTimestamp:E,rawExtraFieldNTFS:A,rawExtraFieldAES:M,rawExtraField:_,extendedTimestamp:w,msDosCompatible:x,internalFileAttribute:C,externalFileAttribute:S};let I=k.uncompressedSize=0,O=Sl;d&&(O|=8);let R=0;P&&(R=8),c&&(k.version=k.version>45?k.version:45),T&&(O|=1,u||(k.version=k.version>51?k.version:51,R=99,P&&(k.rawExtraFieldAES[9]=8))),k.compressionMethod=R;const B=k.headerArray=new Uint8Array(26),D=fc(B);uc(D,0,k.version),uc(D,2,O),uc(D,4,R);const F=new Uint32Array(1),L=fc(F);let V;V=n.lastModDate<Ml?Ml:n.lastModDate>Pl?Pl:n.lastModDate,uc(L,0,(V.getHours()<<6|V.getMinutes())<<5|V.getSeconds()/2),uc(L,2,(V.getFullYear()-1980<<4|V.getMonth()+1)<<5|V.getDate());const N=F[0];dc(D,6,N),uc(D,22,r.length);const U=M.length+E.length+A.length+k.rawExtraField.length;uc(D,24,U);const G=new Uint8Array(30+r.length+U);let z;dc(fc(G),0,Zl),pc(G,B,4),pc(G,r,30),pc(G,M,30+r.length),pc(G,E,30+r.length+M.length),pc(G,A,30+r.length+M.length+E.length),pc(G,k.rawExtraField,30+r.length+M.length+E.length+A.length);let K=0;if(e){const n=await rl(i.Deflate,{codecType:Ha,level:l,password:a,encryptionStrength:b,zipCrypto:T&&u,passwordVerification:T&&u&&N>>8&255,signed:!0,compressed:P,encrypted:T,useWebWorkers:y},i);await t.writeUint8Array(G),k.dataWritten=!0,z=await kl(n,e,t,0,()=>e.size,i,{onprogress:Z,signal:v}),I=k.uncompressedSize=e.size,K=z.length}else await t.writeUint8Array(G),k.dataWritten=!0;let q,H=new Uint8Array(0),W=0;if(d&&(H=new Uint8Array(c?h?24:20:h?16:12),q=fc(H),h&&(W=4,dc(q,0,134695760))),e){const e=z.signature;if(T&&!u||void 0===e||(dc(D,10,e),k.signature=e,d&&dc(q,W,e)),c){const e=fc(k.rawExtraFieldZip64);uc(e,0,1),uc(e,2,24),dc(D,14,_l),hc(e,12,BigInt(K)),dc(D,18,_l),hc(e,4,BigInt(I)),d&&(hc(q,W+4,BigInt(K)),hc(q,W+12,BigInt(I)))}else dc(D,14,K),dc(D,18,I),d&&(dc(q,W+4,K),dc(q,W+8,I))}d&&await t.writeUint8Array(H);const j=G.length+K+H.length;return Object.assign(k,{compressedSize:K,lastModDate:V,rawLastModDate:N,creationDate:s,lastAccessDate:o,encrypted:T,length:j}),k}(i,h,e.config,n),u.lock=p,r.set(t,u),u.filename=t,a){let t=0;const i=h.getData();let s;await Promise.all([e.lockWrite,d]);do{s=Array.from(r.values()).find(e=>e.writingBufferedData),s&&await s.lock}while(s&&s.lock);if(u.writingBufferedData=!0,!n.dataDescriptor){const e=26,r=await sc(i,0,e),s=new DataView(r);u.encrypted&&!n.zipCrypto||dc(s,14,u.signature),u.zip64?(dc(s,18,_l),dc(s,22,_l)):(dc(s,18,u.compressedSize),dc(s,22,u.uncompressedSize)),await o.writeUint8Array(new Uint8Array(r)),t=e}await async function(e,t,i=0){const n=536870912;await async function r(){if(i<t.size){const o=await sc(t,i,i+n);await e.writeUint8Array(new Uint8Array(o)),i+=n,await r()}}()}(o,i,t),delete u.writingBufferedData}if(u.offset=e.offset,u.zip64)hc(fc(u.rawExtraFieldZip64),20,BigInt(u.offset));else if(u.offset>=_l)throw new Error(ic);return e.offset+=u.length,u}catch(i){throw(a&&u.writingBufferedData||!a&&u.dataWritten)&&(i.corruptedEntry=e.hasCorruptedEntries=!0,u.uncompressedSize&&(e.offset+=u.uncompressedSize)),r.delete(t),i}finally{c(),l&&l()}}(e,t,i,Object.assign({},n,{rawFilename:r,rawComment:s,version:a,versionMadeBy:l,lastModDate:c,lastAccessDate:u,creationDate:d,rawExtraField:m,zip64:C,password:h,level:S,useWebWorkers:T,encryptionStrength:p,extendedTimestamp:_,zipCrypto:f,bufferedWrite:P,keepOrder:Z,dataDescriptor:M,dataDescriptorSignature:A,signal:E,msDosCompatible:b,internalFileAttribute:w,externalFileAttribute:x}));return y&&(e.pendingCompressedSize-=y),Object.assign(k,{name:t,comment:o,extraField:g}),new Bl(k)}(n,e,t,i),this.pendingAddFileCalls.add(r),await r}finally{this.pendingAddFileCalls.delete(r),rc--;const e=n.pendingEntries.shift();e&&n.add(e.name,e.reader,e.options).then(e.resolve).catch(e.reject)}}}async close(e=new Uint8Array(0),t={}){for(;this.pendingAddFileCalls.size;)await Promise.all(Array.from(this.pendingAddFileCalls));return await async function(e,t,i){const n=e.writer,r=e.files;let o=0,s=0,a=e.offset,l=r.size;for(const[,e]of r)s+=46+e.rawFilename.length+e.rawComment.length+e.rawExtraFieldZip64.length+e.rawExtraFieldAES.length+e.rawExtraFieldExtendedTimestamp.length+e.rawExtraFieldNTFS.length+e.rawExtraField.length;let c=i.zip64||e.options.zip64||!1;if(a>=_l||s>=_l||l>=yl){if(!1===i.zip64||!1===e.options.zip64)throw new Error(ic);c=!0}const u=new Uint8Array(s+(c?98:22)),d=fc(u);if(t&&t.length){if(!(t.length<=yl))throw new Error("Zip file comment exceeds 64KB");uc(d,o+20,t.length)}for(const[e,t]of Array.from(r.values()).entries()){const{rawFilename:n,rawExtraFieldZip64:s,rawExtraFieldAES:a,rawExtraField:l,rawComment:c,versionMadeBy:h,headerArray:p,directory:f,zip64:m,msDosCompatible:g,internalFileAttribute:_,externalFileAttribute:y}=t;let Z,v;if(t.extendedTimestamp){v=t.rawExtraFieldNTFS,Z=new Uint8Array(9);const e=fc(Z);uc(e,0,Cl),uc(e,2,Z.length-4),cc(e,4,1),dc(e,5,Math.floor(t.lastModDate.getTime()/1e3))}else v=Z=new Uint8Array(0);const b=s.length+a.length+Z.length+v.length+l.length;if(dc(d,o,vl),uc(d,o+4,h),pc(u,p,o+6),uc(d,o+30,b),uc(d,o+32,c.length),dc(d,o+34,_),y?dc(d,o+38,y):f&&g&&cc(d,o+38,16),dc(d,o+42,m?_l:t.offset),pc(u,n,o+46),pc(u,s,o+46+n.length),pc(u,a,o+46+n.length+s.length),pc(u,Z,o+46+n.length+s.length+a.length),pc(u,v,o+46+n.length+s.length+a.length+Z.length),pc(u,l,o+46+n.length+s.length+a.length+Z.length+v.length),pc(u,c,o+46+n.length+b),o+=46+n.length+b+c.length,i.onprogress)try{i.onprogress(e+1,r.size,new Bl(t))}catch(e){}}c&&(dc(d,o,wl),hc(d,o+4,BigInt(44)),uc(d,o+12,45),uc(d,o+14,45),hc(d,o+24,BigInt(l)),hc(d,o+32,BigInt(l)),hc(d,o+40,BigInt(s)),hc(d,o+48,BigInt(a)),dc(d,o+56,xl),hc(d,o+64,BigInt(a)+BigInt(s)),dc(d,o+72,1),l=yl,a=_l,s=_l,o+=76),dc(d,o,bl),uc(d,o+8,l),uc(d,o+10,l),dc(d,o+12,s),dc(d,o+16,a),await n.writeUint8Array(u),t&&t.length&&await n.writeUint8Array(t)}(this,e,t),this.writer.getData()}}function sc(e,t,i){if(e.arrayBuffer)return t||i?e.slice(t,i).arrayBuffer():e.arrayBuffer();{const n=new FileReader;return new Promise((r,o)=>{n.onload=e=>r(e.target.result),n.onerror=()=>o(n.error),n.readAsArrayBuffer(t||i?e.slice(t,i):e)})}}function ac(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function lc(e,t,i){return void 0===t[i]?e.options[i]:t[i]}function cc(e,t,i){e.setUint8(t,i)}function uc(e,t,i){e.setUint16(t,i,!0)}function dc(e,t,i){e.setUint32(t,i,!0)}function hc(e,t,i){e.setBigUint64(t,i,!0)}function pc(e,t,i){e.set(t,i)}function fc(e){return new DataView(e.buffer)}ra({Deflate:function(e){const t=new Ds,i=(n=e&&e.chunkSize?e.chunkSize:65536)+5*(Math.floor(n/16383)+1);var n;const r=new Uint8Array(i);let o=e?e.level:-1;void 0===o&&(o=-1),t.deflateInit(o),t.next_out=r,this.append=function(e,n){let o,s,a=0,l=0,c=0;const u=[];if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=i,o=t.deflate(0),0!=o)throw new Error("deflating: "+t.msg);t.next_out_index&&(t.next_out_index==i?u.push(new Uint8Array(r)):u.push(r.slice(0,t.next_out_index))),c+=t.next_out_index,n&&t.next_in_index>0&&t.next_in_index!=a&&(n(t.next_in_index),a=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return u.length>1?(s=new Uint8Array(c),u.forEach(function(e){s.set(e,l),l+=e.length})):s=u[0]||new Uint8Array(0),s}},this.flush=function(){let e,n,o=0,s=0;const a=[];do{if(t.next_out_index=0,t.avail_out=i,e=t.deflate(4),1!=e&&0!=e)throw new Error("deflating: "+t.msg);i-t.avail_out>0&&a.push(r.slice(0,t.next_out_index)),s+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),n=new Uint8Array(s),a.forEach(function(e){n.set(e,o),o+=e.length}),n}},Inflate:function(e){const t=new ea,i=e&&e.chunkSize?Math.floor(2*e.chunkSize):131072,n=new Uint8Array(i);let r=!1;t.inflateInit(),t.next_out=n,this.append=function(e,o){const s=[];let a,l,c=0,u=0,d=0;if(0!==e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=i,0!==t.avail_in||r||(t.next_in_index=0,r=!0),a=t.inflate(0),r&&a===Vs){if(0!==t.avail_in)throw new Error("inflating: bad input")}else if(0!==a&&1!==a)throw new Error("inflating: "+t.msg);if((r||1===a)&&t.avail_in===e.length)throw new Error("inflating: bad input");t.next_out_index&&(t.next_out_index===i?s.push(new Uint8Array(n)):s.push(n.slice(0,t.next_out_index))),d+=t.next_out_index,o&&t.next_in_index>0&&t.next_in_index!=c&&(o(t.next_in_index),c=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return s.length>1?(l=new Uint8Array(d),s.forEach(function(e){l.set(e,u),u+=e.length})):l=s[0]||new Uint8Array(0),l}},this.flush=function(){t.inflateEnd()}}});var mc=i(354630);const gc=function(e,t){this.position=e,this.headingPitchRange=t};var _c=i(763834);function yc(e,t){this.id=t,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new m.Z,this.tourEnd=new m.Z,this.entryStart=new m.Z,this.entryEnd=new m.Z,this._activeEntries=[]}function Zc(e){for(let t=e.pop();void 0!==t;t=e.pop())t.stop()}function vc(e,t,i){const n=this.playlist[this.playlistIndex];if(n){const r=bc.bind(this,e,t,i);if(this._activeEntries.push(n),this.entryStart.raiseEvent(n),n.blocking)n.play(r,e.scene.camera,t);else{const o=this;n.play(function(){o.entryEnd.raiseEvent(n);const e=o._activeEntries.indexOf(n);e>=0&&o._activeEntries.splice(e,1)}),r(e,t,i)}}else(0,f.Z)(i)&&i(!1)}function bc(e,t,i,n){const r=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(r,n),n)i(n);else{const n=this._activeEntries.indexOf(r);n>=0&&this._activeEntries.splice(n,1),this.playlistIndex++,vc.call(this,e,t,i)}}yc.prototype.addPlaylistEntry=function(e){this.playlist.push(e)},yc.prototype.play=function(e,t){(0,f.Z)(e.cesiumWidget)&&(0,_c.Z)("viewer","The viewer parameter has been deprecated in Cesium 1.99. It will be removed in 1.100. Instead of a Viewer, pass a CesiumWidget instead."),this.tourStart.raiseEvent();const i=this;vc.call(this,e,t,function(e){i.playlistIndex=0,e||Zc(i._activeEntries),i.tourEnd.raiseEvent(e)})},yc.prototype.stop=function(){Zc(this._activeEntries)};const wc=yc;var xc=i(229809),Cc=i(898053),Sc=i(83827);function Tc(e,t,i){this.type="KmlTourFlyTo",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=i,this.flyToMode=t}Tc.prototype.play=function(e,t,i){if(this.activeCamera=t,(0,f.Z)(e)&&null!==e){const t=this;this.activeCallback=function(i){delete t.activeCallback,delete t.activeCamera,e(!(0,f.Z)(i)&&i)}}const n=this.getCameraOptions(i);if(this.view.headingPitchRoll)t.flyTo(n);else if(this.view.headingPitchRange){const e=new xc.Z(this.view.position);t.flyToBoundingSphere(e,n)}},Tc.prototype.stop=function(){(0,f.Z)(this.activeCamera)&&this.activeCamera.cancelFlight(),(0,f.Z)(this.activeCallback)&&this.activeCallback(!0)},Tc.prototype.getCameraOptions=function(e){let t={duration:this.duration};return(0,f.Z)(this.activeCallback)&&(t.complete=this.activeCallback),"smooth"===this.flyToMode&&(t.easingFunction=Sc.Z.LINEAR_NONE),this.view.headingPitchRoll?(t.destination=this.view.position,t.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(t.offset=this.view.headingPitchRange),(0,f.Z)(e)&&(t=(0,Cc.Z)(t,e)),t};const Pc=Tc;function Mc(e){this.type="KmlTourWait",this.blocking=!0,this.duration=e,this.timeout=null}Mc.prototype.play=function(e){const t=this;this.activeCallback=e,this.timeout=setTimeout(function(){delete t.activeCallback,e(!1)},1e3*this.duration)},Mc.prototype.stop=function(){clearTimeout(this.timeout),(0,f.Z)(this.activeCallback)&&this.activeCallback(!0)};const Ac=Mc;var Ec=i(965138);const kc={avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",chm:"application/vnd.ms-htmlhelp",css:"text/css",csv:"text/csv",doc:"application/msword",dvi:"application/x-dvi",eps:"application/postscript",flv:"video/x-flv",gif:"image/gif",gz:"application/x-gzip",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",m3u:"audio/x-mpegurl",m4v:"video/mp4",mathml:"application/mathml+xml",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",qt:"video/quicktime",rdf:"application/rdf+xml",rss:"application/rss+xml",rtf:"application/rtf",svg:"image/svg+xml",swf:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"application/xml",zip:"application/zip",detectFromFilename:function(e){let t=e.toLowerCase();return t=(0,hs.Z)(t),kc[t]}};let Ic;"undefined"!=typeof DOMParser&&(Ic=new DOMParser);const Oc=new Eo({stripPrefix:!1,email:!1,replaceFn:function(e){return"scheme"===e.urlMatchType||"www"===e.urlMatchType}}),Rc=32,Bc=2414016,Dc=16093e3,Fc=[null,void 0,"http://www.opengis.net/kml/2.2","http://earth.google.com/kml/2.2","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.0"],Lc=["http://www.google.com/kml/ext/2.2"],Vc={kml:Fc,gx:Lc,atom:["http://www.w3.org/2005/Atom"],kmlgx:Fc.concat(Lc)},Nc={Document:Pu,Folder:function(e,t,i,n){const r=Tu(e,t,i),o=(0,us.Z)(i);o.parentEntity=r.entity,Pu(0,t,o,n)},Placemark:function(e,t,i,n){const r=Tu(e,t,i),o=r.entity,s=r.styleEntity;let a=!1;const l=t.childNodes;for(let t=0,n=l.length;t<n&&!a;t++){const n=l.item(t),r=Cu[n.localName];(0,f.Z)(r)&&(r(e,i.entityCollection,n,o,s,o.id),a=!0)}a||(o.merge(s),vu(e,o,s))},NetworkLink:function(e,t,i,n){const r=Tu(e,t,i).entity,o=i.sourceResource,s=i.uriResolver;let a=Qc(t,"Link",Vc.kml);if((0,f.Z)(a)||(a=Qc(t,"Url",Vc.kml)),(0,f.Z)(a)){let t,l,c=nu(a,"href",Vc.kml);if((0,f.Z)(c)){let u=c;if(c=ou(c,o,i.uriResolver),/^data:/.test(c.getUrlComponent()))/\.kmz/i.test(o.getUrlComponent())||(u=o.getDerivedResource({url:u}));else{if(u=c.clone(),t=nu(a,"viewRefreshMode",Vc.kml),"onRegion"===t)return void(0,_s.Z)("kml-refrehMode-onRegion","KML - Unsupported viewRefreshMode: onRegion");l=(0,p.Z)(nu(a,"viewBoundScale",Vc.kml),1);const i="onStop"===t?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",n=(0,p.Z)(nu(a,"viewFormat",Vc.kml),i),r=nu(a,"httpQuery",Vc.kml);(0,f.Z)(n)&&c.setQueryParameters((0,ys.Z)(Ru(n))),(0,f.Z)(r)&&c.setQueryParameters((0,ys.Z)(Ru(r)));const o=e._ellipsoid;Vu(c,e.camera,e.canvas,l,e._lastCameraView.bbox,o)}const d={sourceUri:u,uriResolver:s,context:r.id,screenOverlayContainer:i.screenOverlayContainer},h=new M.Z,m=Uu(e,h,c,d).then(function(i){const n=e._entityCollection,o=h.values;n.suspendEvents();for(let e=0;e<o.length;e++){const t=o[e];(0,f.Z)(t.parent)||(t.parent=r,zu(t)),n.add(t)}n.resumeEvents();const s=nu(a,"refreshMode",Vc.kml);let u=(0,p.Z)(iu(a,"refreshInterval",Vc.kml),0);if("onInterval"===s&&u>0||"onExpire"===s||"onStop"===t){const t=Qc(i,"NetworkLinkControl",Vc.kml),n=(0,f.Z)(t),o=fe.Z.now(),d={id:(0,C.Z)(),href:c,cookie:{},lastUpdated:o,updating:!1,entity:r,viewBoundScale:l,needsUpdate:!1,cameraUpdateTime:o};let h=0;if(n&&(d.cookie=(0,ys.Z)((0,p.Z)(nu(t,"cookie",Vc.kml),"")),h=(0,p.Z)(iu(t,"minRefreshPeriod",Vc.kml),0)),"onInterval"===s)n&&(u=Math.max(h,u)),d.refreshMode=Ou.INTERVAL,d.time=u;else if("onExpire"===s){let e;if(n&&(e=nu(t,"expires",Vc.kml)),(0,f.Z)(e))try{const t=fe.Z.fromIso8601(e),i=fe.Z.secondsDifference(t,o);i>0&&i<h&&fe.Z.addSeconds(o,h,t),d.refreshMode=Ou.EXPIRE,d.time=t}catch(e){(0,_s.Z)("kml-refreshMode-onInterval-onExpire","KML - NetworkLinkControl expires is not a valid date")}else(0,_s.Z)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element")}else(0,f.Z)(e.camera)?(d.refreshMode=Ou.STOP,d.time=(0,p.Z)(iu(a,"viewRefreshTime",Vc.kml),0)):(0,_s.Z)("kml-refrehMode-onStop-noCamera","A NetworkLink with viewRefreshMode=onStop requires the `camera` property to be defined.");(0,f.Z)(d.refreshMode)&&e._networkLinks.set(d.id,d)}}).catch(function(t){(0,_s.Z)(`An error occured during loading ${c.url}`),e._error.raiseEvent(e,t)});n.addPromise(m)}}},GroundOverlay:function(e,t,i,n){const r=Tu(e,t,i).entity;let o,s=!1;const a=e._ellipsoid,l=Xc(Qc(t,"LatLonQuad",Vc.gx),a),c=iu(t,"drawOrder",Vc.kml);if((0,f.Z)(l))o=uu(),o.hierarchy=new ye.Z(l),o.zIndex=c,r.polygon=o,s=!0;else{o=new wt.Z,o.zIndex=c,r.rectangle=o;const e=Qc(t,"LatLonBox",Vc.kml);if((0,f.Z)(e)){let t=iu(e,"west",Vc.kml),i=iu(e,"south",Vc.kml),n=iu(e,"east",Vc.kml),r=iu(e,"north",Vc.kml);(0,f.Z)(t)&&(t=T.Z.negativePiToPi(T.Z.toRadians(t))),(0,f.Z)(i)&&(i=T.Z.clampToLatitudeRange(T.Z.toRadians(i))),(0,f.Z)(n)&&(n=T.Z.negativePiToPi(T.Z.toRadians(n))),(0,f.Z)(r)&&(r=T.Z.clampToLatitudeRange(T.Z.toRadians(r))),o.coordinates=new ve.Z(t,i,n,r);const s=iu(e,"rotation",Vc.kml);if((0,f.Z)(s)){const e=T.Z.toRadians(s);o.rotation=e,o.stRotation=e}}}const u=Qc(t,"Icon",Vc.kml),d=hu(u,e,i.sourceResource,i.uriResolver,!0);if((0,f.Z)(d)){s&&(0,_s.Z)("kml-gx:LatLonQuad","KML - gx:LatLonQuad Icon does not support texture projection.");const e=iu(u,"x",Vc.gx),i=iu(u,"y",Vc.gx),n=iu(u,"w",Vc.gx),r=iu(u,"h",Vc.gx);((0,f.Z)(e)||(0,f.Z)(i)||(0,f.Z)(n)||(0,f.Z)(r))&&(0,_s.Z)("kml-groundOverlay-xywh","KML - gx:x, gx:y, gx:w, gx:h aren't supported for GroundOverlays"),o.material=d,o.material.color=lu(t,"color",Vc.kml),o.material.transparent=!0}else o.material=lu(t,"color",Vc.kml);let h=nu(t,"altitudeMode",Vc.kml);(0,f.Z)(h)?"absolute"===h?(o.height=iu(t,"altitude",Vc.kml),o.zIndex=void 0):"clampToGround"!==h&&(0,_s.Z)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${h}`):(h=nu(t,"altitudeMode",Vc.gx),"relativeToSeaFloor"===h?((0,_s.Z)("kml-altitudeMode-relativeToSeaFloor","KML - altitudeMode relativeToSeaFloor is currently not supported, treating as absolute."),o.height=iu(t,"altitude",Vc.kml),o.zIndex=void 0):"clampToSeaFloor"===h?(0,_s.Z)("kml-altitudeMode-clampToSeaFloor","KML - altitudeMode clampToSeaFloor is currently not supported, treating as clampToGround."):(0,f.Z)(h)&&(0,_s.Z)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${h}`))},PhotoOverlay:Iu,ScreenOverlay:function(e,t,i,n){const r=i.screenOverlayContainer;if(!(0,f.Z)(r))return;const o=i.sourceResource,s=i.uriResolver,a=hu(Qc(t,"Icon",Vc.kml),e,o,s,!1);if(!(0,f.Z)(a))return;const l=document.createElement("img");e._screenOverlays.push(l),l.src=a.url,l.onload=function(){const e=["position: absolute"],i=Qc(t,"screenXY",Vc.kml),n=Qc(t,"overlayXY",Vc.kml),r=Qc(t,"size",Vc.kml);let o,s,a,c,u,d;(0,f.Z)(r)&&(o=$c(r,"x"),s=$c(r,"y"),a=Yc(r,"xunits"),c=Yc(r,"yunits"),(0,f.Z)(o)&&-1!==o&&0!==o&&("fraction"===a?u=`width: ${Math.floor(100*o)}%`:"pixels"===a&&(u=`width: ${o}px`),e.push(u)),(0,f.Z)(s)&&-1!==s&&0!==s&&("fraction"===c?d=`height: ${Math.floor(100*s)}%`:"pixels"===c&&(d=`height: ${s}px`),e.push(d))),l.style=e.join(";");let h=0,p=l.height;(0,f.Z)(n)&&(o=$c(n,"x"),s=$c(n,"y"),a=Yc(n,"xunits"),c=Yc(n,"yunits"),(0,f.Z)(o)&&("fraction"===a?h=o*l.width:("pixels"===a||"insetPixels"===a)&&(h=o)),(0,f.Z)(s)&&("fraction"===c?p=s*l.height:("pixels"===c||"insetPixels"===c)&&(p=s))),(0,f.Z)(i)&&(o=$c(i,"x"),s=$c(i,"y"),a=Yc(i,"xunits"),c=Yc(i,"yunits"),(0,f.Z)(o)&&("fraction"===a?u=`left: calc(${Math.floor(100*o)}% - ${h}px)`:"pixels"===a?u=`left: ${o-h}px`:"insetPixels"===a&&(u=`right: ${o-h}px`),e.push(u)),(0,f.Z)(s)&&("fraction"===c?d=`bottom: calc(${Math.floor(100*s)}% - ${p}px)`:"pixels"===c?d=`bottom: ${s-p}px`:"insetPixels"===c&&(d=`top: ${s-p}px`),e.push(d))),l.style=e.join(";")},r.appendChild(l)},Tour:function(e,t,i,n){const r=nu(t,"name",Vc.kml),o=Yc(t,"id"),s=new wc(r,o),a=Qc(t,"Playlist",Vc.gx);if(a){const t=e._ellipsoid,i=a.childNodes;for(let e=0;e<i.length;e++){const n=i[e];if(n.localName){const e=Mu[n.localName];e?e(s,n,t):console.log(`Unknown KML Tour playlist entry type ${n.localName}`)}}}e._kmlTours.push(s)}};function Uc(e){this._dataSource=e,this._deferred=(0,ds.Z)(),this._stack=[],this._promises=[],this._timeoutSet=!1,this._used=!1,this._started=0,this._timeThreshold=1e3}function Gc(e){const t={xsi:"http://www.w3.org/2001/XMLSchema-instance"};let i,n,r,o;for(const s in t)t.hasOwnProperty(s)&&(r=RegExp(`[< ]${s}:`),o=`xmlns:${s}=`,r.test(e)&&-1===e.indexOf(o)&&((0,f.Z)(i)||(i=e.substr(0,e.indexOf("<kml")+4),n=e.substr(i.length)),i+=` ${o}"${t[s]}"`));return(0,f.Z)(i)&&(e=i+n),e}function zc(e){let t=e.indexOf("xmlns:");const i=e.indexOf(">",t);let n,r,o;for(;-1!==t&&t<i;)n=e.slice(t,e.indexOf('"',t)),r=t,t=e.indexOf(n,t+1),-1!==t?(o=e.indexOf('"',e.indexOf('"',t)+1),t=(e=e.slice(0,t-1)+e.slice(o+1,e.length)).indexOf("xmlns:",r-1)):t=e.indexOf("xmlns:",r+1);return e}function Kc(e,t){const i=(0,p.Z)(kc.detectFromFilename(e.filename),"application/octet-stream");return Promise.resolve(e.getData(new hl(i))).then(function(i){t[e.filename]=i})}function qc(e,t,i,n){const r=n.keys,o=new De("."),s=e.querySelectorAll(t);for(let e=0;e<s.length;e++){const a=s[e],l=a.getAttribute(i);if((0,f.Z)(l)){const e=new De(l).absoluteTo(o).toString(),s=r.indexOf(e);if(-1!==s){const e=r[s];a.setAttribute(i,n[e]),"a"===t&&null===a.getAttribute("download")&&a.setAttribute("download",e)}}}}function Hc(e,t,i,n){const r=e.querySelectorAll(t);for(let e=0;e<r.length;e++){const t=r[e],o=ou(t.getAttribute(i),n);(0,f.Z)(o)&&t.setAttribute(i,o.url)}}function Wc(e,t,i){let n=Yc(e,"id");n=(0,f.Z)(n)&&0!==n.length?n:(0,C.Z)(),(0,f.Z)(i)&&(n=i+n);let r=t.getById(n);return(0,f.Z)(r)&&(n=(0,C.Z)(),(0,f.Z)(i)&&(n=i+n)),r=t.add(new P.Z({id:n})),(0,f.Z)(r.kml)||(r.addProperty("kml"),r.kml=new qu),r}function jc(e,t){return"absolute"===e||"relativeToGround"===e||"relativeToSeaFloor"===t}function Jc(e,t){if(!(0,f.Z)(e))return Y.Z.fromDegrees(0,0,0,t);const i=e.match(/[^\s,\n]+/g);if(!(0,f.Z)(i))return Y.Z.fromDegrees(0,0,0,t);let n=parseFloat(i[0]),r=parseFloat(i[1]),o=parseFloat(i[2]);return n=isNaN(n)?0:n,r=isNaN(r)?0:r,o=isNaN(o)?0:o,Y.Z.fromDegrees(n,r,o,t)}function Xc(e,t){if(!(0,f.Z)(e))return;const i=e.textContent.match(/[^\s\n]+/g);if(!(0,f.Z)(i))return;const n=i.length,r=new Array(n);let o=0;for(let e=0;e<n;e++)r[o++]=Jc(i[e],t);return r}function $c(e,t){if(!(0,f.Z)(e))return;const i=e.getAttribute(t);if(null!==i){const e=parseFloat(i);return isNaN(e)?void 0:e}}function Yc(e,t){if(!(0,f.Z)(e))return;const i=e.getAttribute(t);return null!==i?i:void 0}function Qc(e,t,i){if(!(0,f.Z)(e))return;const n=e.childNodes,r=n.length;for(let e=0;e<r;e++){const r=n[e];if(r.localName===t&&-1!==i.indexOf(r.namespaceURI))return r}}function eu(e,t,i){if(!(0,f.Z)(e))return;const n=[],r=e.getElementsByTagNameNS("*",t),o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function tu(e,t,i){if(!(0,f.Z)(e))return[];const n=[],r=e.childNodes,o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function iu(e,t,i){const n=Qc(e,t,i);if((0,f.Z)(n)){const e=parseFloat(n.textContent);return isNaN(e)?void 0:e}}function nu(e,t,i){const n=Qc(e,t,i);if((0,f.Z)(n))return n.textContent.trim()}function ru(e,t,i){const n=Qc(e,t,i);if((0,f.Z)(n)){const e=n.textContent.trim();return"1"===e||/^true$/i.test(e)}}function ou(e,t,i){if(!(0,f.Z)(e))return;let n;if((0,f.Z)(i)){let r=i[e=e.replace(/\\/g,"/")];if((0,f.Z)(r))n=new we.Z({url:r});else{const o=new De(t.getUrlComponent());r=i[new De(e).absoluteTo(o)],(0,f.Z)(r)&&(n=new we.Z({url:r}))}}return(0,f.Z)(n)||(n=t.getDerivedResource({url:e})),n}Object.defineProperties(Uc.prototype,{dataSource:{get:function(){return this._dataSource}}}),Uc.prototype.addNodes=function(e,t){this._stack.push({nodes:e,index:0,processingData:t}),this._used=!0},Uc.prototype.addPromise=function(e){this._promises.push(e)},Uc.prototype.wait=function(){const e=this._deferred;return this._used||e.resolve(),Promise.all([e.promise,Promise.all(this._promises)])},Uc.prototype.process=function(){const e=1===this._stack.length;return e&&(this._started=Gu._getTimestamp()),this._process(e)},Uc.prototype._giveUpTime=function(){if(this._timeoutSet)return;this._timeoutSet=!0,this._timeThreshold=50;const e=this;setTimeout(function(){e._timeoutSet=!1,e._started=Gu._getTimestamp(),e._process(!0)},0)},Uc.prototype._nextNode=function(){const e=this._stack,t=e[e.length-1],i=t.index,n=t.nodes;if(i!==n.length)return++t.index,n[i]},Uc.prototype._pop=function(){const e=this._stack;return e.pop(),0!==e.length||(this._deferred.resolve(),!1)},Uc.prototype._process=function(e){const t=this.dataSource,i=this._stack[this._stack.length-1].processingData;let n=this._nextNode();for(;(0,f.Z)(n);){const e=Nc[n.localName];if((0,f.Z)(e)&&(-1!==Vc.kml.indexOf(n.namespaceURI)||-1!==Vc.gx.indexOf(n.namespaceURI))&&(e(t,n,i,this),this._timeoutSet||Gu._getTimestamp()>this._started+this._timeThreshold))return void this._giveUpTime();n=this._nextNode()}this._pop()&&e&&this._process(!0)};const su={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0};function au(e,t){if(!(0,f.Z)(e)||/^\s*$/gm.test(e))return;"#"===e[0]&&(e=e.substring(1));const i=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,o=parseInt(e.substring(6,8),16)/255;return t?(o>0?(su.maximumRed=o,su.red=void 0):(su.maximumRed=void 0,su.red=0),r>0?(su.maximumGreen=r,su.green=void 0):(su.maximumGreen=void 0,su.green=0),n>0?(su.maximumBlue=n,su.blue=void 0):(su.maximumBlue=void 0,su.blue=0),su.alpha=i,h.Z.fromRandom(su)):new h.Z(o,r,n,i)}function lu(e,t,i){const n=nu(e,t,i);if((0,f.Z)(n))return au(n,"random"===nu(e,"colorMode",i))}function cu(){const e=new n.Z;return e.width=Rc,e.height=Rc,e.scaleByDistance=new _e.Z(Bc,1,Dc,.1),e.pixelOffsetScaleByDistance=new _e.Z(Bc,1,Dc,.1),e}function uu(){const e=new nt.Z;return e.outline=!0,e.outlineColor=h.Z.WHITE,e}function du(){const e=new Ye.Z;return e.translucencyByDistance=new _e.Z(3e6,1,5e6,0),e.pixelOffset=new d.Z(17,0),e.horizontalOrigin=Ie.Z.LEFT,e.font="16px sans-serif",e.style=Oe.Z.FILL_AND_OUTLINE,e}function hu(e,t,i,n,r){let o=nu(e,"href",Vc.kml);if(!(0,f.Z)(o)||0===o.length)return;if(0===o.indexOf("root://icons/palette-")){const t=o.charAt(21);let i=(0,p.Z)(iu(e,"x",Vc.gx),0),n=(0,p.Z)(iu(e,"y",Vc.gx),0);i=Math.min(i/32,7),n=7-Math.min(n/32,7),o=`https://maps.google.com/mapfiles/kml/pal${t}/icon${8*n+i}.png`}const s=ou(o,i,n);if(r){const i=nu(e,"refreshMode",Vc.kml),n=nu(e,"viewRefreshMode",Vc.kml);"onInterval"===i||"onExpire"===i?(0,_s.Z)(`kml-refreshMode-${i}`,`KML - Unsupported Icon refreshMode: ${i}`):"onStop"!==n&&"onRegion"!==n||(0,_s.Z)(`kml-refreshMode-${n}`,`KML - Unsupported Icon viewRefreshMode: ${n}`);const r=(0,p.Z)(nu(e,"viewBoundScale",Vc.kml),1),o="onStop"===n?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",a=(0,p.Z)(nu(e,"viewFormat",Vc.kml),o),l=nu(e,"httpQuery",Vc.kml);(0,f.Z)(a)&&s.setQueryParameters((0,ys.Z)(Ru(a))),(0,f.Z)(l)&&s.setQueryParameters((0,ys.Z)(Ru(l)));const c=t._ellipsoid;return Vu(s,t.camera,t.canvas,r,t._lastCameraView.bbox,c),s}return s}function pu(e,t,i,n,r){let o=iu(t,"scale",Vc.kml);const s=iu(t,"heading",Vc.kml),a=lu(t,"color",Vc.kml),l=Qc(t,"Icon",Vc.kml);let c=hu(l,e,n,r,!1);(0,f.Z)(l)&&!(0,f.Z)(c)&&(c=!1);const u=iu(l,"x",Vc.gx),h=iu(l,"y",Vc.gx),m=iu(l,"w",Vc.gx),g=iu(l,"h",Vc.gx),_=Qc(t,"hotSpot",Vc.kml),y=$c(_,"x"),Z=$c(_,"y"),v=Yc(_,"xunits"),b=Yc(_,"yunits");let w,x,C=i.billboard;(0,f.Z)(C)||(C=cu(),i.billboard=C),C.image=c,C.scale=o,C.color=a,((0,f.Z)(u)||(0,f.Z)(h)||(0,f.Z)(m)||(0,f.Z)(g))&&(C.imageSubRegion=new $.Z(u,h,m,g)),(0,f.Z)(s)&&0!==s&&(C.rotation=T.Z.toRadians(-s),C.alignedAxis=Y.Z.UNIT_Z),o=(0,p.Z)(o,1),(0,f.Z)(y)&&("pixels"===v?w=-y*o:"insetPixels"===v?w=(y-Rc)*o:"fraction"===v&&(w=-y*Rc*o),w+=16*o),(0,f.Z)(Z)&&("pixels"===b?x=Z*o:"insetPixels"===b?x=(-Z+Rc)*o:"fraction"===b&&(x=Z*Rc*o),x-=16*o),((0,f.Z)(w)||(0,f.Z)(x))&&(C.pixelOffset=new d.Z(w,x))}function fu(e,t,i,n,r){for(let o=0,s=t.childNodes.length;o<s;o++){const s=t.childNodes.item(o);if("IconStyle"===s.localName)pu(e,s,i,n,r);else if("LabelStyle"===s.localName){let e=i.label;(0,f.Z)(e)||(e=du(),i.label=e),e.scale=(0,p.Z)(iu(s,"scale",Vc.kml),e.scale),e.fillColor=(0,p.Z)(lu(s,"color",Vc.kml),e.fillColor),e.text=i.name}else if("LineStyle"===s.localName){let e=i.polyline;(0,f.Z)(e)||(e=new ut.Z,i.polyline=e),e.width=iu(s,"width",Vc.kml),e.material=lu(s,"color",Vc.kml),(0,f.Z)(lu(s,"outerColor",Vc.gx))&&(0,_s.Z)("kml-gx:outerColor","KML - gx:outerColor is not supported in a LineStyle"),(0,f.Z)(iu(s,"outerWidth",Vc.gx))&&(0,_s.Z)("kml-gx:outerWidth","KML - gx:outerWidth is not supported in a LineStyle"),(0,f.Z)(iu(s,"physicalWidth",Vc.gx))&&(0,_s.Z)("kml-gx:physicalWidth","KML - gx:physicalWidth is not supported in a LineStyle"),(0,f.Z)(ru(s,"labelVisibility",Vc.gx))&&(0,_s.Z)("kml-gx:labelVisibility","KML - gx:labelVisibility is not supported in a LineStyle")}else if("PolyStyle"===s.localName){let e=i.polygon;(0,f.Z)(e)||(e=uu(),i.polygon=e),e.material=(0,p.Z)(lu(s,"color",Vc.kml),e.material),e.fill=(0,p.Z)(ru(s,"fill",Vc.kml),e.fill),e.outline=(0,p.Z)(ru(s,"outline",Vc.kml),e.outline)}else if("BalloonStyle"===s.localName){const e=(0,p.Z)(au(nu(s,"bgColor",Vc.kml)),h.Z.WHITE),t=(0,p.Z)(au(nu(s,"textColor",Vc.kml)),h.Z.BLACK),n=nu(s,"text",Vc.kml);i.addProperty("balloonStyle"),i.balloonStyle={bgColor:e,textColor:t,text:n}}else if("ListStyle"===s.localName){const e=nu(s,"listItemType",Vc.kml);"radioFolder"!==e&&"checkOffOnly"!==e||(0,_s.Z)(`kml-listStyle-${e}`,`KML - Unsupported ListStyle with listItemType: ${e}`)}}}function mu(e,t,i){return t.fetchXML().then(function(n){return gu(e,n,i,t,!0)})}function gu(e,t,i,n,r,o){let s,a,l,c;const u=eu(t,"Style",Vc.kml);if((0,f.Z)(u)){const t=u.length;for(s=0;s<t;s++)c=u[s],a=Yc(c,"id"),(0,f.Z)(a)&&(a=`#${a}`,r&&(0,f.Z)(n)&&(a=n.getUrlComponent()+a),(0,f.Z)(i.getById(a))||(l=new P.Z({id:a}),i.add(l),fu(e,c,l,n,o)))}const d=eu(t,"StyleMap",Vc.kml);if((0,f.Z)(d)){const t=d.length;for(s=0;s<t;s++){const t=d[s];if(a=Yc(t,"id"),(0,f.Z)(a)){const s=tu(t,"Pair",Vc.kml);for(let t=0;t<s.length;t++){const u=s[t],d=nu(u,"key",Vc.kml);if("normal"===d){if(a=`#${a}`,r&&(0,f.Z)(n)&&(a=n.getUrlComponent()+a),!(0,f.Z)(i.getById(a))){l=i.getOrCreateEntity(a);let t=nu(u,"styleUrl",Vc.kml);if((0,f.Z)(t)){"#"!==t[0]&&(t=`#${t}`),r&&(0,f.Z)(n)&&(t=n.getUrlComponent()+t);const e=i.getById(t);(0,f.Z)(e)&&l.merge(e)}else c=Qc(u,"Style",Vc.kml),fu(e,c,l,n,o)}}else(0,_s.Z)(`kml-styleMap-${d}`,`KML - Unsupported StyleMap key: ${d}`)}}}}const h=[],p=t.getElementsByTagName("styleUrl"),m=p.length;for(s=0;s<m;s++){const t=p[s].textContent;if("#"!==t[0]){const r=t.split("#");if(2===r.length){const t=r[0],o=n.getDerivedResource({url:t});h.push(mu(e,o,i))}}}return h}function _u(e,t,i){const n=new xt.Z(e,t.id,["position"]),r=new Ec.Z(t.position);t.polyline=(0,f.Z)(i.polyline)?i.polyline.clone():new ut.Z,t.polyline.positions=new yt([n,r])}function yu(e,t){return!(0,f.Z)(e)&&!(0,f.Z)(t)||"clampToGround"===e?ke.Z.CLAMP_TO_GROUND:"relativeToGround"===e?ke.Z.RELATIVE_TO_GROUND:"absolute"===e?ke.Z.NONE:"clampToSeaFloor"===t?((0,_s.Z)("kml-gx:altitudeMode-clampToSeaFloor","KML - <gx:altitudeMode>:clampToSeaFloor is currently not supported, using <kml:altitudeMode>:clampToGround."),ke.Z.CLAMP_TO_GROUND):"relativeToSeaFloor"===t?((0,_s.Z)("kml-gx:altitudeMode-relativeToSeaFloor","KML - <gx:altitudeMode>:relativeToSeaFloor is currently not supported, using <kml:altitudeMode>:relativeToGround."),ke.Z.RELATIVE_TO_GROUND):((0,f.Z)(e)?(0,_s.Z)("kml-altitudeMode-unknown",`KML - Unknown <kml:altitudeMode>:${e}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`):(0,_s.Z)("kml-gx:altitudeMode-unknown",`KML - Unknown <gx:altitudeMode>:${t}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`),ke.Z.CLAMP_TO_GROUND)}function Zu(e,t,i){return"relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t?e:(((0,f.Z)(t)&&"clampToGround"!==t||(0,f.Z)(i)&&"clampToSeaFloor"!==i)&&(0,_s.Z)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${(0,p.Z)(t,i)}`),new Ec.Z(e))}function vu(e,t,i,n){let r=t.label;(0,f.Z)(r)||(r=(0,f.Z)(i.label)?i.label.clone():du(),t.label=r),r.text=t.name;let o=t.billboard;(0,f.Z)(o)||(o=(0,f.Z)(i.billboard)?i.billboard.clone():cu(),t.billboard=o),(0,f.Z)(o.image)?o.image.getValue()||(o.image=void 0):o.image=e._pinBuilder.fromColor(h.Z.YELLOW,64);let s=1;(0,f.Z)(o.scale)&&(s=o.scale.getValue(),0!==s?r.pixelOffset=new d.Z(16*s+1,0):(r.pixelOffset=void 0,r.horizontalOrigin=void 0)),(0,f.Z)(n)&&e._clampToGround&&(o.heightReference=n,r.heightReference=n)}function bu(e,t){let i=e.path;(0,f.Z)(i)||(i=new tt.Z,i.leadTime=0,e.path=i);const n=t.polyline;(0,f.Z)(n)&&(i.material=n.material,i.width=n.width)}function wu(e,t,i,n,r){const o=Qc(i,"coordinates",Vc.kml),s=nu(i,"altitudeMode",Vc.kml),a=nu(i,"altitudeMode",Vc.gx),l=ru(i,"extrude",Vc.kml),c=ru(i,"tessellate",Vc.kml),u=jc(s,a),d=iu(i,"drawOrder",Vc.gx),m=e._ellipsoid,g=Xc(o,m);let _=r.polyline;if(u&&l){const e=new Jt.Z;n.wall=e,e.positions=g;const t=r.polygon;(0,f.Z)(t)&&(e.fill=t.fill,e.material=t.material),e.outline=!0,(0,f.Z)(_)?(e.outlineColor=(0,f.Z)(_.material)?_.material.color:h.Z.WHITE,e.outlineWidth=_.width):(0,f.Z)(t)&&(e.outlineColor=(0,f.Z)(t.material)?t.material.color:h.Z.WHITE)}else if(e._clampToGround&&!u&&c){const e=new ut.Z;e.clampToGround=!0,n.polyline=e,e.positions=g,(0,f.Z)(_)?(e.material=(0,f.Z)(_.material)?_.material.color.getValue(pe.Z.MINIMUM_VALUE):h.Z.WHITE,e.width=(0,p.Z)(_.width,1)):(e.material=h.Z.WHITE,e.width=1),e.zIndex=d}else(0,f.Z)(d)&&(0,_s.Z)("kml-gx:drawOrder","KML - gx:drawOrder is not supported in LineStrings when clampToGround is false"),e._clampToGround&&!c&&(0,_s.Z)("kml-line-tesselate","Ignoring clampToGround for KML lines without the tessellate flag."),_=(0,f.Z)(_)?_.clone():new ut.Z,n.polyline=_,_.positions=function(e,t,i,n){if(!(0,f.Z)(e))return;if("relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t)return e;((0,f.Z)(t)&&"clampToGround"!==t||(0,f.Z)(i)&&"clampToSeaFloor"!==i)&&(0,_s.Z)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${(0,p.Z)(t,i)}`);const r=e.length;for(let t=0;t<r;t++){const i=e[t];n.scaleToGeodeticSurface(i,i)}return e}(g,s,a,m),c&&!u||(_.arcType=X.Z.NONE);return!0}function xu(e,t,i,n,r,o,s,a,l){const c=e[0],u=e[e.length-1],d=new St.Z;d.addSamples(e,t),i.intervals.addInterval(new Pe.Z({start:c,stop:u,isStartIncluded:l,isStopIncluded:l,data:Zu(d,s,a)})),n.addInterval(new Pe.Z({start:c,stop:u,isStartIncluded:l,isStopIncluded:l})),r.intervals.addInterval(new Pe.Z({start:c,stop:u,isStartIncluded:l,isStopIncluded:l,data:o}))}const Cu={Point:function(e,t,i,n,r){const o=nu(i,"coordinates",Vc.kml),s=nu(i,"altitudeMode",Vc.kml),a=nu(i,"altitudeMode",Vc.gx),l=ru(i,"extrude",Vc.kml),c=Jc(o,e._ellipsoid);return n.position=c,vu(e,n,r,yu(s,a)),l&&jc(s,a)&&_u(t,n,r),!0},LineString:wu,LinearRing:wu,Polygon:function(e,t,i,n,r){const o=Qc(i,"outerBoundaryIs",Vc.kml);let s=Qc(o,"LinearRing",Vc.kml),a=Qc(s,"coordinates",Vc.kml);const l=e._ellipsoid;let c=Xc(a,l);const u=ru(i,"extrude",Vc.kml),d=jc(nu(i,"altitudeMode",Vc.kml),nu(i,"altitudeMode",Vc.gx)),p=(0,f.Z)(r.polygon)?r.polygon.clone():uu(),m=r.polyline;if((0,f.Z)(m)&&(p.outlineColor=(0,f.Z)(m.material)?m.material.color:h.Z.WHITE,p.outlineWidth=m.width),n.polygon=p,d?(p.perPositionHeight=!0,p.extrudedHeight=u?0:void 0):e._clampToGround||(p.height=0),(0,f.Z)(c)){const e=new ye.Z(c),t=tu(i,"innerBoundaryIs",Vc.kml);for(let i=0;i<t.length;i++){s=tu(t[i],"LinearRing",Vc.kml);for(let t=0;t<s.length;t++)a=Qc(s[t],"coordinates",Vc.kml),c=Xc(a,l),(0,f.Z)(c)&&e.holes.push(new ye.Z(c))}p.hierarchy=e}return!0},Track:function(e,t,i,n,r){const o=nu(i,"altitudeMode",Vc.kml),s=nu(i,"altitudeMode",Vc.gx),a=tu(i,"coord",Vc.gx),l=tu(i,"angles",Vc.gx),c=tu(i,"when",Vc.kml),u=ru(i,"extrude",Vc.kml),d=jc(o,s),h=e._ellipsoid;l.length>0&&(0,_s.Z)("kml-gx:angles","KML - gx:angles are not supported in gx:Tracks");const p=Math.min(a.length,c.length),f=[],m=[];for(let e=0;e<p;e++){const t=Jc(a[e].textContent,h);f.push(t),m.push(fe.Z.fromIso8601(c[e].textContent))}const g=new St.Z;return g.addSamples(m,f),n.position=g,vu(e,n,r,yu(o,s)),bu(n,r),n.availability=new Me.Z,c.length>0&&n.availability.addInterval(new Pe.Z({start:m[0],stop:m[m.length-1]})),d&&u&&_u(t,n,r),!0},MultiTrack:function(e,t,i,n,r){const o=ru(i,"interpolate",Vc.gx),s=tu(i,"Track",Vc.gx);let a,l,c,u=!1;const d=new Bt,h=new Me.Z,p=new G.Z,m=e._ellipsoid;for(let e=0,t=s.length;e<t;e++){const t=s[e],i=tu(t,"when",Vc.kml),n=tu(t,"coord",Vc.gx),r=nu(t,"altitudeMode",Vc.kml),g=nu(t,"altitudeMode",Vc.gx),_=jc(r,g),y=ru(t,"extrude",Vc.kml),Z=Math.min(n.length,i.length),v=[];a=[];for(let e=0;e<Z;e++){const t=Jc(n[e].textContent,m);v.push(t),a.push(fe.Z.fromIso8601(i[e].textContent))}o&&((0,f.Z)(l)&&xu([l,a[0]],[c,v[0]],p,h,d,!1,"absolute",void 0,!1),l=a[Z-1],c=v[v.length-1]),xu(a,v,p,h,d,_&&y,r,g,!0),u=u||_&&y}return n.availability=h,n.position=p,vu(e,n,r),bu(n,r),u&&(_u(t,n,r),n.polyline.show=d),!0},MultiGeometry:function(e,t,i,n,r,o){const s=i.childNodes;let a=!1;for(let i=0,l=s.length;i<l;i++){const l=s.item(i),c=Cu[l.localName];if((0,f.Z)(c)){const i=Wc(l,t,o);i.parent=n,i.name=n.name,i.availability=n.availability,i.description=n.description,i.kml=n.kml,c(e,t,l,i,r)&&(a=!0)}}return a},Model:function(e,t,i,n,r){return(0,_s.Z)("kml-unsupportedGeometry",`KML - Unsupported geometry: ${i.localName}`),!1}};let Su;function Tu(e,t,i){const n=i.entityCollection,r=i.parentEntity,o=i.sourceResource,s=i.uriResolver,a=Wc(t,n,i.context),l=a.kml,c=function(e,t,i,n,r){const o=new P.Z;let s,a=-1;const l=t.childNodes,c=l.length;for(let e=0;e<c;e++){const t=l[e];"Style"!==t.localName&&"StyleMap"!==t.localName||(a=e)}if(-1!==a){const t=l[a];if("Style"===t.localName)fu(e,t,o,n,r);else{const a=tu(t,"Pair",Vc.kml);for(let t=0;t<a.length;t++){const l=a[t],c=nu(l,"key",Vc.kml);if("normal"===c){const t=nu(l,"styleUrl",Vc.kml);(0,f.Z)(t)?(s=i.getById(t),(0,f.Z)(s)||(s=i.getById(`#${t}`)),(0,f.Z)(s)&&o.merge(s)):fu(e,Qc(l,"Style",Vc.kml),o,n,r)}else(0,_s.Z)(`kml-styleMap-${c}`,`KML - Unsupported StyleMap key: ${c}`)}}}const u=nu(t,"styleUrl",Vc.kml);if((0,f.Z)(u)){let e=u;if("#"!==u[0]&&-1!==u.indexOf("#")){const t=u.split("#"),i=t[0];e=`${n.getDerivedResource({url:i}).getUrlComponent()}#${t[1]}`}s=i.getById(e),(0,f.Z)(s)||(s=i.getById(`#${e}`)),(0,f.Z)(s)&&o.merge(s)}return o}(e,t,i.styleCollection,o,s),u=nu(t,"name",Vc.kml);a.name=u,a.parent=r;let d=function(e){const t=Qc(e,"TimeSpan",Vc.kmlgx);if(!(0,f.Z)(t))return;let i;const n=Qc(t,"begin",Vc.kmlgx);let r=(0,f.Z)(n)?fe.Z.fromIso8601(n.textContent):void 0;const o=Qc(t,"end",Vc.kmlgx);let s=(0,f.Z)(o)?fe.Z.fromIso8601(o.textContent):void 0;if((0,f.Z)(r)&&(0,f.Z)(s)){if(fe.Z.lessThan(s,r)){const e=r;r=s,s=e}i=new Me.Z,i.addInterval(new Pe.Z({start:r,stop:s}))}else(0,f.Z)(r)?(i=new Me.Z,i.addInterval(new Pe.Z({start:r,stop:pe.Z.MAXIMUM_VALUE}))):(0,f.Z)(s)&&(i=new Me.Z,i.addInterval(new Pe.Z({start:pe.Z.MINIMUM_VALUE,stop:s})));return i}(t);(0,f.Z)(d)||(d=function(e){const t=Qc(e,"TimeStamp",Vc.kmlgx),i=nu(t,"when",Vc.kmlgx);if(!(0,f.Z)(t)||!(0,f.Z)(i)||0===i.length)return;const n=fe.Z.fromIso8601(i),r=new Me.Z;return r.addInterval(new Pe.Z({start:n,stop:pe.Z.MAXIMUM_VALUE})),r}(t)),a.availability=d,zu(a);const m=ru(t,"visibility",Vc.kml);a.show=function e(t){return!t||t.show&&e(t.parent)}(r)&&(0,p.Z)(m,!0);const g=Qc(t,"author",Vc.atom),_=l.author;_.name=nu(g,"name",Vc.atom),_.uri=nu(g,"uri",Vc.atom),_.email=nu(g,"email",Vc.atom);const y=Qc(t,"link",Vc.atom),Z=l.link;Z.href=Yc(y,"href"),Z.hreflang=Yc(y,"hreflang"),Z.rel=Yc(y,"rel"),Z.type=Yc(y,"type"),Z.title=Yc(y,"title"),Z.length=Yc(y,"length"),l.address=nu(t,"address",Vc.kml),l.phoneNumber=nu(t,"phoneNumber",Vc.kml),l.snippet=nu(t,"Snippet",Vc.kml),function(e,t){const i=Qc(e,"ExtendedData",Vc.kml);if(!(0,f.Z)(i))return;(0,f.Z)(Qc(i,"SchemaData",Vc.kml))&&(0,_s.Z)("kml-schemaData","KML - SchemaData is unsupported"),(0,f.Z)(Yc(i,"xmlns:prefix"))&&(0,_s.Z)("kml-extendedData","KML - ExtendedData with xmlns:prefix is unsupported");const n={},r=tu(i,"Data",Vc.kml);if((0,f.Z)(r)){const e=r.length;for(let t=0;t<e;t++){const e=r[t],i=Yc(e,"name");(0,f.Z)(i)&&(n[i]={displayName:nu(e,"displayName",Vc.kml),value:nu(e,"value",Vc.kml)})}}t.kml.extendedData=n}(t,a),function(e,t,i,n,r){let o,s,a;const l=t.kml,c=l.extendedData,u=nu(e,"description",Vc.kml),d=(0,p.Z)(t.balloonStyle,i.balloonStyle);let m,g=h.Z.WHITE,_=h.Z.BLACK,y=u;if((0,f.Z)(d)&&(g=(0,p.Z)(d.bgColor,h.Z.WHITE),_=(0,p.Z)(d.textColor,h.Z.BLACK),y=(0,p.Z)(d.text,u)),(0,f.Z)(y)){if(y=y.replace("$[name]",(0,p.Z)(t.name,"")),y=y.replace("$[description]",(0,p.Z)(u,"")),y=y.replace("$[address]",(0,p.Z)(l.address,"")),y=y.replace("$[Snippet]",(0,p.Z)(l.snippet,"")),y=y.replace("$[id]",t.id),y=y.replace("$[geDirections]",""),(0,f.Z)(c)){const e=y.match(/\$\[.+?\]/g);if(null!==e)for(o=0;o<e.length;o++){const t=e[o];let i=t.substr(2,t.length-3);const n=/\/displayName$/.test(i);i=i.replace(/\/displayName$/,""),m=c[i],(0,f.Z)(m)&&(m=n?m.displayName:m.value),(0,f.Z)(m)&&(y=y.replace(t,(0,p.Z)(m,"")))}}}else if((0,f.Z)(c)&&(a=Object.keys(c),a.length>0)){for(y='<table class="cesium-infoBox-defaultTable cesium-infoBox-defaultTable-lighter"><tbody>',o=0;o<a.length;o++)s=a[o],m=c[s],y+=`<tr><th>${(0,p.Z)(m.displayName,s)}</th><td>${(0,p.Z)(m.value,"")}</td></tr>`;y+="</tbody></table>"}if(!(0,f.Z)(y))return;y=Oc.link(y),Su.innerHTML=y;const Z=Su.querySelectorAll("a");for(o=0;o<Z.length;o++)Z[o].setAttribute("target","_blank");(0,f.Z)(n)&&n.keys.length>1&&(qc(Su,"a","href",n),qc(Su,"link","href",n),qc(Su,"area","href",n),qc(Su,"img","src",n),qc(Su,"iframe","src",n),qc(Su,"video","src",n),qc(Su,"audio","src",n),qc(Su,"source","src",n),qc(Su,"track","src",n),qc(Su,"input","src",n),qc(Su,"embed","src",n),qc(Su,"script","src",n),qc(Su,"video","poster",n)),Hc(Su,"a","href",r),Hc(Su,"link","href",r),Hc(Su,"area","href",r),Hc(Su,"img","src",r),Hc(Su,"iframe","src",r),Hc(Su,"video","src",r),Hc(Su,"audio","src",r),Hc(Su,"source","src",r),Hc(Su,"track","src",r),Hc(Su,"input","src",r),Hc(Su,"embed","src",r),Hc(Su,"script","src",r),Hc(Su,"video","poster",r);let v='<div class="cesium-infoBox-description-lighter" style="';v+="overflow:auto;",v+="word-wrap:break-word;",v+=`background-color:${g.toCssColorString()};`,v+=`color:${_.toCssColorString()};`,v+='">',v+=`${Su.innerHTML}</div>`,Su.innerHTML="",t.description=v}(t,a,c,s,o);const v=e._ellipsoid;return ku(t,a,v),Eu(t,a,v),(0,f.Z)(Qc(t,"Region",Vc.kml))&&(0,_s.Z)("kml-region","KML - Placemark Regions are unsupported"),{entity:a,styleEntity:c}}function Pu(e,t,i,n){n.addNodes(t.childNodes,i),n.process()}"undefined"!=typeof document&&(Su=document.createElement("div"));const Mu={FlyTo:function(e,t,i){const n=iu(t,"duration",Vc.gx),r=nu(t,"flyToMode",Vc.gx),o={kml:{}};ku(t,o,i),Eu(t,o,i);const s=o.kml.lookAt||o.kml.camera,a=new Pc(n,r,s);e.addPlaylistEntry(a)},Wait:function(e,t){const i=iu(t,"duration",Vc.gx);e.addPlaylistEntry(new Ac(i))},SoundCue:Au,AnimatedUpdate:Au,TourControl:Au};function Au(e,t){(0,_s.Z)(`KML Tour unsupported node ${t.localName}`)}function Eu(e,t,i){const n=Qc(e,"Camera",Vc.kml);if((0,f.Z)(n)){const e=(0,p.Z)(iu(n,"longitude",Vc.kml),0),r=(0,p.Z)(iu(n,"latitude",Vc.kml),0),o=(0,p.Z)(iu(n,"altitude",Vc.kml),0),s=(0,p.Z)(iu(n,"heading",Vc.kml),0),a=(0,p.Z)(iu(n,"tilt",Vc.kml),0),l=(0,p.Z)(iu(n,"roll",Vc.kml),0),c=Y.Z.fromDegrees(e,r,o,i),u=ms.Z.fromDegrees(s,a-90,l);t.kml.camera=new as(c,u)}}function ku(e,t,i){const n=Qc(e,"LookAt",Vc.kml);if((0,f.Z)(n)){const e=(0,p.Z)(iu(n,"longitude",Vc.kml),0),r=(0,p.Z)(iu(n,"latitude",Vc.kml),0),o=(0,p.Z)(iu(n,"altitude",Vc.kml),0);let s=iu(n,"heading",Vc.kml),a=iu(n,"tilt",Vc.kml);const l=(0,p.Z)(iu(n,"range",Vc.kml),0);a=T.Z.toRadians((0,p.Z)(a,0)),s=T.Z.toRadians((0,p.Z)(s,0));const c=new fs.Z(s,a-T.Z.PI_OVER_TWO,l),u=Y.Z.fromDegrees(e,r,o,i);t.kml.lookAt=new gc(u,c)}}function Iu(e,t,i,n){e._unsupportedNode.raiseEvent(e,i.parentEntity,t,i.entityCollection,i.styleCollection,i.sourceResource,i.uriResolver),(0,_s.Z)(`kml-unsupportedFeature-${t.nodeName}`,`KML - Unsupported feature: ${t.nodeName}`)}const Ou={INTERVAL:0,EXPIRE:1,STOP:2};function Ru(e){if(!(0,f.Z)(e)||0===e.length)return"";const t=e[0];return"&"!==t&&"?"!==t||(e=e.substring(1)),e}const Bu=new ve.Z,Du=new Q.Z,Fu=new d.Z,Lu=new Y.Z;function Vu(e,t,i,n,r,o){function s(e){return e<-T.Z.PI_OVER_TWO?-T.Z.PI_OVER_TWO:e>T.Z.PI_OVER_TWO?T.Z.PI_OVER_TWO:e}function a(e){return e>T.Z.PI?e-T.Z.TWO_PI:e<-T.Z.PI?e+T.Z.TWO_PI:e}let l=(0,gs.Z)(e.queryParameters);if(l=l.replace(/%5B/g,"[").replace(/%5D/g,"]"),(0,f.Z)(t)&&t._mode!==Zs.Z.MORPHING){let e,c;if(r=(0,p.Z)(r,Bu),(0,f.Z)(i)&&(Fu.x=.5*i.clientWidth,Fu.y=.5*i.clientHeight,e=t.pickEllipsoid(Fu,o,Lu)),(0,f.Z)(e)?c=o.cartesianToCartographic(e,Du):(c=ve.Z.center(r,Du),e=o.cartographicToCartesian(c)),(0,f.Z)(n)&&!T.Z.equalsEpsilon(n,1,T.Z.EPSILON9)){const e=r.width*n*.5,t=r.height*n*.5;r=new ve.Z(a(c.longitude-e),s(c.latitude-t),a(c.longitude+e),s(c.latitude+t))}l=l.replace("[bboxWest]",T.Z.toDegrees(r.west).toString()),l=l.replace("[bboxSouth]",T.Z.toDegrees(r.south).toString()),l=l.replace("[bboxEast]",T.Z.toDegrees(r.east).toString()),l=l.replace("[bboxNorth]",T.Z.toDegrees(r.north).toString());const u=T.Z.toDegrees(c.longitude).toString(),d=T.Z.toDegrees(c.latitude).toString();l=l.replace("[lookatLon]",u),l=l.replace("[lookatLat]",d),l=l.replace("[lookatTilt]",T.Z.toDegrees(t.pitch).toString()),l=l.replace("[lookatHeading]",T.Z.toDegrees(t.heading).toString()),l=l.replace("[lookatRange]",Y.Z.distance(t.positionWC,e)),l=l.replace("[lookatTerrainLon]",u),l=l.replace("[lookatTerrainLat]",d),l=l.replace("[lookatTerrainAlt]",c.height.toString()),o.cartesianToCartographic(t.positionWC,Du),l=l.replace("[cameraLon]",T.Z.toDegrees(Du.longitude).toString()),l=l.replace("[cameraLat]",T.Z.toDegrees(Du.latitude).toString()),l=l.replace("[cameraAlt]",T.Z.toDegrees(Du.height).toString());const h=t.frustum,m=h.aspectRatio;let g="",_="";if((0,f.Z)(m)){const e=T.Z.toDegrees(h.fov);m>1?(g=e,_=e/m):(_=e,g=e*m)}l=l.replace("[horizFov]",g.toString()),l=l.replace("[vertFov]",_.toString())}else l=l.replace("[bboxWest]","-180"),l=l.replace("[bboxSouth]","-90"),l=l.replace("[bboxEast]","180"),l=l.replace("[bboxNorth]","90"),l=l.replace("[lookatLon]",""),l=l.replace("[lookatLat]",""),l=l.replace("[lookatRange]",""),l=l.replace("[lookatTilt]",""),l=l.replace("[lookatHeading]",""),l=l.replace("[lookatTerrainLon]",""),l=l.replace("[lookatTerrainLat]",""),l=l.replace("[lookatTerrainAlt]",""),l=l.replace("[cameraLon]",""),l=l.replace("[cameraLat]",""),l=l.replace("[cameraAlt]",""),l=l.replace("[horizFov]",""),l=l.replace("[vertFov]","");(0,f.Z)(i)?(l=l.replace("[horizPixels]",i.clientWidth),l=l.replace("[vertPixels]",i.clientHeight)):(l=l.replace("[horizPixels]",""),l=l.replace("[vertPixels]","")),l=l.replace("[terrainEnabled]","1"),l=l.replace("[clientVersion]","1"),l=l.replace("[kmlVersion]","2.2"),l=l.replace("[clientName]","Cesium"),l=l.replace("[language]","English"),e.setQueryParameters((0,ys.Z)(l))}function Nu(e,t,i,n,r,o,s){t.removeAll();const a=i.documentElement;let l=nu("Document"===a.localName?a:Qc(a,"Document",Vc.kml),"name",Vc.kml);(0,f.Z)(l)||(l=(0,ae.Z)(n.getUrlComponent())),(0,f.Z)(e._name)||(e._name=l);const c=new Gu._DeferredLoading(e),u=new M.Z(e);return Promise.all(gu(e,i,u,n,!1,r)).then(function(){let a=i.documentElement;if("kml"===a.localName){const e=a.childNodes;for(let t=0;t<e.length;t++){const i=e[t];if((0,f.Z)(Nc[i.localName])){a=i;break}}}const l={parentEntity:void 0,entityCollection:t,styleCollection:u,sourceResource:n,uriResolver:r,context:s,screenOverlayContainer:o};return t.suspendEvents(),function(e,t,i,n){const r=Nc[t.localName];(0,f.Z)(r)?r(e,t,i,n):Iu(e,t,i)}(e,a,l,c),t.resumeEvents(),c.wait().then(function(){return i.documentElement})})}function Uu(e,t,i,n){let r=(n=(0,p.Z)(n,p.Z.EMPTY_OBJECT)).sourceUri;const o=n.uriResolver,s=n.context;let a=n.screenOverlayContainer,l=i;if("string"==typeof i||i instanceof we.Z){l=(i=we.Z.createIfNeeded(i)).fetchBlob(),r=(0,p.Z)(r,i.clone());const t=e._resourceCredits,n=i.credits;if((0,f.Z)(n)){const e=n.length;for(let i=0;i<e;i++)t.push(n[i])}}else r=(0,p.Z)(r,we.Z.DEFAULT.clone());return r=we.Z.createIfNeeded(r),(0,f.Z)(a)&&(a=(0,mc.Z)(a)),Promise.resolve(l).then(function(i){return i instanceof Blob?function(e){const t=e.slice(0,Math.min(4,e.size)),i=(0,ds.Z)(),n=new FileReader;return n.addEventListener("load",function(){i.resolve(1347093252===new DataView(n.result).getUint32(0,!1))}),n.addEventListener("error",function(){i.reject(n.error)}),n.readAsArrayBuffer(t),i.promise}(i).then(function(n){return n?function(e,t,i,n,r){const o=(0,cs.Z)("ThirdParty/Workers/z-worker-pako.js");ra({workerScripts:{deflate:[o,"./pako_deflate.min.js"],inflate:[o,"./pako_inflate.min.js"]}});const s=new Ul(new pl(i));return Promise.resolve(s.getEntries()).then(function(i){const o=[],a={};let l;for(let e=0;e<i.length;e++){const t=i[e];t.directory||(/\.kml$/i.test(t.filename)?(0,f.Z)(l)&&/\//i.test(t.filename)?o.push(Kc(t,a)):((0,f.Z)(l)&&o.push(Kc(l,a)),l=t):o.push(Kc(t,a)))}return(0,f.Z)(l)&&o.push(function(e,t){return Promise.resolve(e.getData(new dl)).then(function(e){e=zc(e=Gc(e)),t.kml=Ic.parseFromString(e,"application/xml")})}(l,a)),Promise.all(o).then(function(){if(s.close(),!(0,f.Z)(a.kml))throw new xe.Z("KMZ file does not contain a KML document.");return a.keys=Object.keys(a),Nu(e,t,a.kml,n,a,r)})})}(e,t,i,r,a):function(e){const t=(0,ds.Z)(),i=new FileReader;return i.addEventListener("load",function(){t.resolve(i.result)}),i.addEventListener("error",function(){t.reject(i.error)}),i.readAsText(e),t.promise}(i).then(function(i){let n,l;i=zc(i=Gc(i));try{n=Ic.parseFromString(i,"application/xml")}catch(e){l=e.toString()}if((0,f.Z)(l)||n.body||"parsererror"===n.documentElement.tagName){let e=(0,f.Z)(l)?l:n.documentElement.firstChild.nodeValue;throw e||(e=n.body.innerText),new xe.Z(e)}return Nu(e,t,n,r,o,a,s)})}):Nu(e,t,i,r,o,a,s)}).catch(function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)})}function Gu(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).camera,i=e.canvas;this._changed=new m.Z,this._error=new m.Z,this._loading=new m.Z,this._refresh=new m.Z,this._unsupportedNode=new m.Z,this._clock=void 0,this._entityCollection=new M.Z(this),this._name=void 0,this._isLoading=!1,this._pinBuilder=new en.Z,this._networkLinks=new ls.Z,this._entityCluster=new Ke.Z,this.canvas=i,this.camera=t,this._lastCameraView={position:(0,f.Z)(t)?Y.Z.clone(t.positionWC):void 0,direction:(0,f.Z)(t)?Y.Z.clone(t.directionWC):void 0,up:(0,f.Z)(t)?Y.Z.clone(t.upWC):void 0,bbox:(0,f.Z)(t)?t.computeViewRectangle():ve.Z.clone(ve.Z.MAX_VALUE)},this._ellipsoid=(0,p.Z)(e.ellipsoid,oe.Z.WGS84);let n=e.credit;"string"==typeof n&&(n=new ne.Z(n)),this._credit=n,this._resourceCredits=[],this._kmlTours=[],this._screenOverlays=[]}function zu(e){const t=e.parent;if((0,f.Z)(t)){const i=t.availability;if((0,f.Z)(i)){const t=e.availability;(0,f.Z)(t)?t.intersect(i):e.availability=i}}}Gu.load=function(e,t){return new Gu(t=(0,p.Z)(t,p.Z.EMPTY_OBJECT)).load(e,t)},Object.defineProperties(Gu.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},refreshEvent:{get:function(){return this._refresh}},unsupportedNodeEvent:{get:function(){return this._unsupportedNode}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,f.Z)(e))throw new S.Z("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}},kmlTours:{get:function(){return this._kmlTours}}}),Gu.prototype.load=function(e,t){if(!(0,f.Z)(e))throw new S.Z("data is required.");t=(0,p.Z)(t,p.Z.EMPTY_OBJECT),Fe.Z.setLoading(this,!0);const i=this._name;this._name=void 0,this._clampToGround=(0,p.Z)(t.clampToGround,!1);const n=this;return Uu(this,this._entityCollection,e,t).then(function(){let e;const t=n._entityCollection.computeAvailability();let r=t.start,o=t.stop;const s=fe.Z.equals(r,pe.Z.MINIMUM_VALUE),a=fe.Z.equals(o,pe.Z.MAXIMUM_VALUE);if(!s||!a){let t;s&&(t=new Date,t.setHours(0,0,0,0),r=fe.Z.fromDate(t)),a&&(t=new Date,t.setHours(24,0,0,0),o=fe.Z.fromDate(t)),e=new Ue,e.startTime=r,e.stopTime=o,e.currentTime=fe.Z.clone(r),e.clockRange=ee.Z.LOOP_STOP,e.clockStep=te.Z.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(fe.Z.secondsDifference(o,r)/60,1),31556900))}let l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),Fe.Z.setLoading(n,!1),n}).catch(function(e){return Fe.Z.setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),Promise.reject(e)})},Gu.prototype.destroy=function(){for(;this._screenOverlays.length>0;)this._screenOverlays.pop().remove()};const Ku=new ls.Z;function qu(){this.author={name:void 0,uri:void 0,email:void 0},this.link={href:void 0,hreflang:void 0,rel:void 0,type:void 0,title:void 0,length:void 0},this.address=void 0,this.phoneNumber=void 0,this.snippet=void 0,this.extendedData=void 0}Gu.prototype.update=function(e){const t=this._networkLinks;if(0===t.length)return!0;const i=fe.Z.now(),n=this;function r(e){const t=e._children,i=t.length;for(let e=0;e<i;++e){const i=t[e];Ku.set(i.id,i),r(i)}}Ku.removeAll();let o=!1;const s=this._lastCameraView,a=this.camera;!(0,f.Z)(a)||a.positionWC.equalsEpsilon(s.position,T.Z.EPSILON7)&&a.directionWC.equalsEpsilon(s.direction,T.Z.EPSILON7)&&a.upWC.equalsEpsilon(s.up,T.Z.EPSILON7)||(s.position=Y.Z.clone(a.positionWC),s.direction=Y.Z.clone(a.directionWC),s.up=Y.Z.clone(a.upWC),s.bbox=a.computeViewRectangle(),o=!0);const l=new ls.Z;let c=!1;return t.values.forEach(function(e){const t=e.entity;if(!Ku.contains(t.id)){if(!e.updating){let a=!1;if(e.refreshMode===Ou.INTERVAL?fe.Z.secondsDifference(i,e.lastUpdated)>e.time&&(a=!0):e.refreshMode===Ou.EXPIRE?fe.Z.greaterThan(i,e.time)&&(a=!0):e.refreshMode===Ou.STOP&&(o&&(e.needsUpdate=!0,e.cameraUpdateTime=i),e.needsUpdate&&fe.Z.secondsDifference(i,e.cameraUpdateTime)>=e.time&&(a=!0)),a){r(t),e.updating=!0;const i=new M.Z,o=e.href.clone();o.setQueryParameters(e.cookie);const a=(0,p.Z)(n._ellipsoid,oe.Z.WGS84);Vu(o,n.camera,n.canvas,e.viewBoundScale,s.bbox,a),Uu(n,i,o,{context:t.id}).then(function(e,t,i,n,r){return function(o){if(!n.contains(t.id))return;let s=!1;const a=Qc(o,"NetworkLinkControl",Vc.kml);let l=0;if((0,f.Z)(a)){if((0,f.Z)(Qc(a,"Update",Vc.kml)))return(0,_s.Z)("kml-networkLinkControl-update","KML - NetworkLinkControl updates aren't supported."),t.updating=!1,void n.remove(t.id);t.cookie=(0,ys.Z)((0,p.Z)(nu(a,"cookie",Vc.kml),"")),l=(0,p.Z)(iu(a,"minRefreshPeriod",Vc.kml),0)}const c=fe.Z.now(),u=t.refreshMode;if(u===Ou.INTERVAL)(0,f.Z)(a)&&(t.time=Math.max(l,t.time));else if(u===Ou.EXPIRE){let e;if((0,f.Z)(a)&&(e=nu(a,"expires",Vc.kml)),(0,f.Z)(e))try{const i=fe.Z.fromIso8601(e),n=fe.Z.secondsDifference(i,c);n>0&&n<l&&fe.Z.addSeconds(c,l,i),t.time=i}catch(e){(0,_s.Z)("kml-networkLinkControl-expires","KML - NetworkLinkControl expires is not a valid date"),s=!0}else(0,_s.Z)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element"),s=!0}const d=t.entity,h=e._entityCollection,m=i.values;function g(e){h.remove(e);const t=e._children,i=t.length;for(let e=0;e<i;++e)g(t[e])}h.suspendEvents();const _=h.values.slice();let y;for(y=0;y<_.length;++y){const e=_[y];e.parent===d&&(e.parent=void 0,g(e))}for(h.resumeEvents(),h.suspendEvents(),y=0;y<m.length;y++){const e=m[y];(0,f.Z)(e.parent)||(e.parent=d,zu(e)),h.add(e)}h.resumeEvents(),s?n.remove(t.id):t.lastUpdated=c;const Z=h.computeAvailability(),v=Z.start,b=Z.stop,w=fe.Z.equals(v,pe.Z.MINIMUM_VALUE),x=fe.Z.equals(b,pe.Z.MAXIMUM_VALUE);if(!w||!x){const t=e._clock;t.startTime===v&&t.stopTime===b||(t.startTime=v,t.stopTime=b,e._changed.raiseEvent(e))}t.updating=!1,t.needsUpdate=!1,e._refresh.raiseEvent(e,r.getUrlComponent(!0))}}(n,e,i,l,o)).catch(function(t){const i=`NetworkLink ${e.href} refresh failed: ${t}`;console.log(i),n._error.raiseEvent(n,i)}),c=!0}}l.set(e.id,e)}}),c&&(this._networkLinks=l,this._changed.raiseEvent(this)),!0},Gu._DeferredLoading=Uc,Gu._getTimestamp=ps.Z;const Hu=Gu;var Wu=i(375948),ju=i(292124),Ju=i(484850),Xu=i(990635),$u=i(857209),Yu=i(744858),Qu=i(906208),ed=i(474756),td=i(935782),id=i(715883),nd=i(832406),rd=i(950912),od=i(760758),sd=i(521418),ad=i(154872),ld=i(119313),cd=i(188800),ud=i(386181),dd=i(524524),hd=i(284669);function pd(){S.Z.throwInstantiationError()}pd.prototype.update=S.Z.throwInstantiationError,pd.prototype.getBoundingSphere=S.Z.throwInstantiationError,pd.prototype.isDestroyed=S.Z.throwInstantiationError,pd.prototype.destroy=S.Z.throwInstantiationError;const fd=pd;var md=i(946229),gd=i(463920);const _d="http://www.google.com/kml/ext/2.2";function yd(e){this._files={},this._promises=[],this._count=0,this._modelCallback=e}const Zd=/^data:image\/([^,;]+)/;function vd(e,t){return function(i){e._files[t]=i}}function bd(e){this._time=e}function wd(){this._ids={},this._styles={},this._count=0}function xd(){this._ids={}}function Cd(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).entities,i=(0,p.Z)(e.kmz,!1);if(!(0,f.Z)(t))throw new S.Z("entities is required.");const n=Cd._createState(e),r=t.values.filter(function(e){return!(0,f.Z)(e.parent)}),o=n.kmlDoc,s=o.documentElement;s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",_d);const a=o.createElement("Document");s.appendChild(a),Td(n,a,r),n.styleCache.save(a);const l=n.externalFileHandler;return l.promise.then(function(){const e=(new XMLSerializer).serializeToString(n.kmlDoc);return i?function(e,t){const i=(0,cs.Z)("ThirdParty/Workers/z-worker-pako.js");ra({workerScripts:{deflate:[i,"./pako_deflate.min.js"],inflate:[i,"./pako_inflate.min.js"]}});const n=new fl,r=new oc(n);return r.add("doc.kml",new ul(e)).then(function(){const e=Object.keys(t);return Sd(r,e,t,0)}).then(function(){return r.close()}).then(function(e){return{kmz:e}})}(e,l.files):{kml:e,externalFiles:l.files}})}function Sd(e,t,i,n){if(t.length===n)return;const r=t[n];return e.add(r,new pl(i[r])).then(function(){return Sd(e,t,i,n+1)})}function Td(e,t,i){const n=e.kmlDoc,r=e.styleCache,o=e.valueGetter,s=e.idManager,a=i.length;let l,c,u;for(let d=0;d<a;++d){const a=i[d];let h;l=[],c=[],u=[],Ed(e,a,c,u),Rd(e,a.polyline,c,u),Dd(e,a.rectangle,c,u,l),Dd(e,a.polygon,c,u,l),Ld(e,a,a.model,c,u);const p=a.availability;(0,f.Z)(p)&&(h=n.createElement("TimeSpan"),fe.Z.equals(p.start,pe.Z.MINIMUM_VALUE)||h.appendChild(Gd(n,"begin",fe.Z.toIso8601(p.start))),fe.Z.equals(p.stop,pe.Z.MAXIMUM_VALUE)||h.appendChild(Gd(n,"end",fe.Z.toIso8601(p.stop))));for(let e=0;e<l.length;++e){const i=l[e];i.setAttribute("id",s.get(a.id)),i.appendChild(Gd(n,"name",a.name)),i.appendChild(Gd(n,"visibility",a.show)),i.appendChild(Gd(n,"description",a.description)),(0,f.Z)(h)&&i.appendChild(h),t.appendChild(i)}const m=c.length;if(m>0){const e=n.createElement("Placemark");e.setAttribute("id",s.get(a.id));let i=a.name;const l=a.label;if((0,f.Z)(l)){const e=n.createElement("LabelStyle"),t=o.get(l.text);i=(0,f.Z)(t)&&t.length>0?t:i;const r=o.getColor(l.fillColor);(0,f.Z)(r)&&(e.appendChild(Gd(n,"color",r)),e.appendChild(Gd(n,"colorMode","normal")));const s=o.get(l.scale);(0,f.Z)(s)&&e.appendChild(Gd(n,"scale",s)),u.push(e)}e.appendChild(Gd(n,"name",i)),e.appendChild(Gd(n,"visibility",a.show)),e.appendChild(Gd(n,"description",a.description)),(0,f.Z)(h)&&e.appendChild(h),t.appendChild(e);const d=u.length;if(d>0){const t=n.createElement("Style");for(let e=0;e<d;++e)t.appendChild(u[e]);e.appendChild(Gd(n,"styleUrl",r.get(t)))}if(1===c.length)e.appendChild(c[0]);else if(c.length>1){const t=n.createElement("MultiGeometry");for(let e=0;e<m;++e)t.appendChild(c[e]);e.appendChild(t)}}const g=a._children;if(g.length>0){const i=n.createElement("Folder");i.setAttribute("id",s.get(a.id)),i.appendChild(Gd(n,"name",a.name)),i.appendChild(Gd(n,"visibility",a.show)),i.appendChild(Gd(n,"description",a.description)),t.appendChild(i),Td(e,i,g)}}}yd.prototype.texture=function(e){const t=this;let i;if("string"==typeof e||e instanceof we.Z){if(!(e=we.Z.createIfNeeded(e)).isDataUri)return e.url;const n=e.url.match(Zd);i="texture_"+ ++this._count,(0,f.Z)(n)&&(i+=`.${n[1]}`);const r=e.fetchBlob().then(function(e){t._files[i]=e});return this._promises.push(r),i}if(e instanceof HTMLCanvasElement){i=`texture_${++this._count}.png`;const n=new Promise(n=>{e.toBlob(function(e){t._files[i]=e,n()})});return this._promises.push(n),i}return""},yd.prototype.model=function(e,t){const i=this._modelCallback;if(!(0,f.Z)(i))throw new xe.Z("Encountered a model entity while exporting to KML, but no model callback was supplied.");const n={},r=i(e,t,n);for(const e in n)if(n.hasOwnProperty(e)){const t=Promise.resolve(n[e]);this._promises.push(t),t.then(vd(this,e))}return r},Object.defineProperties(yd.prototype,{promise:{get:function(){return Promise.all(this._promises)}},files:{get:function(){return this._files}}}),bd.prototype.get=function(e,t,i){let n;return(0,f.Z)(e)&&(n=(0,f.Z)(e.getValue)?e.getValue(this._time,i):e),(0,p.Z)(n,t)},bd.prototype.getColor=function(e,t){const i=this.get(e,t);if((0,f.Z)(i))return zd(i)},bd.prototype.getMaterialType=function(e){if((0,f.Z)(e))return e.getType(this._time)},wd.prototype.get=function(e){const t=this._ids,i=e.innerHTML;if((0,f.Z)(t[i]))return t[i];let n="style-"+ ++this._count;return e.setAttribute("id",n),n=`#${n}`,t[i]=n,this._styles[i]=e,n},wd.prototype.save=function(e){const t=this._styles,i=e.childNodes[0];for(const n in t)t.hasOwnProperty(n)&&e.insertBefore(t[n],i)},xd.prototype.get=function(e){if(!(0,f.Z)(e))return this.get((0,C.Z)());const t=this._ids;return(0,f.Z)(t[e])?`${e.toString()}-${++t[e]}`:(t[e]=0,e)},Cd._createState=function(e){const t=e.entities,i=new wd,n=t.computeAvailability(),r=(0,f.Z)(e.time)?e.time:n.start;let o=(0,p.Z)(e.defaultAvailability,n);const s=(0,p.Z)(e.sampleDuration,60);o.start===pe.Z.MINIMUM_VALUE?o.stop===pe.Z.MAXIMUM_VALUE?o=new Pe.Z:fe.Z.addSeconds(o.stop,-10*s,o.start):o.stop===pe.Z.MAXIMUM_VALUE&&fe.Z.addSeconds(o.start,10*s,o.stop);const a=new yd(e.modelCallback);return{kmlDoc:document.implementation.createDocument("http://www.opengis.net/kml/2.2","kml"),ellipsoid:(0,p.Z)(e.ellipsoid,oe.Z.WGS84),idManager:new xd,styleCache:i,externalFileHandler:a,time:r,valueGetter:new bd(r),sampleDuration:s,defaultAvailability:new Me.Z([o])}};const Pd=new Y.Z,Md=new Q.Z,Ad=new fe.Z;function Ed(e,t,i,r){const o=e.kmlDoc,s=e.ellipsoid,a=e.valueGetter,l=(0,p.Z)(t.billboard,t.point);if(!(0,f.Z)(l)&&!(0,f.Z)(t.path))return;const c=t.position;if(!c.isConstant)return void kd(e,t,l,i,r);a.get(c,void 0,Pd);const u=Gd(o,"coordinates",Ud(Pd,s)),d=o.createElement("Point"),h=o.createElement("altitudeMode");h.appendChild(Nd(e,l.heightReference)),d.appendChild(h),d.appendChild(u),i.push(d);const m=l instanceof n.Z?Od(e,l):Id(e,l);r.push(m)}function kd(e,t,i,r,o){const s=e.kmlDoc,a=e.ellipsoid,l=e.valueGetter;let c;const u=t.position;let d=!0;u instanceof G.Z?(c=u.intervals,d=!1):c=(0,p.Z)(t.availability,e.defaultAvailability);const h=i instanceof Qe.Z;let m,g,_;const y=[];for(m=0;m<c.length;++m){const t=c.get(m);let n=d?u:t.data;const r=s.createElement("altitudeMode");n instanceof Ec.Z?(n=n._value,r.appendChild(Nd(e,ke.Z.CLAMP_TO_GROUND))):(0,f.Z)(i)?r.appendChild(Nd(e,i.heightReference)):r.appendChild(Nd(e,ke.Z.NONE));const o=[],p=[];if(n.isConstant){l.get(n,void 0,Pd);const e=Gd(s,"coordinates",Ud(Pd,a));o.push(fe.Z.toIso8601(t.start)),p.push(e),o.push(fe.Z.toIso8601(t.stop)),p.push(e)}else if(n instanceof St.Z)for(_=n._property._times,g=0;g<_.length;++g)o.push(fe.Z.toIso8601(_[g])),n.getValueInReferenceFrame(_[g],be.Z.FIXED,Pd),p.push(Ud(Pd,a));else if(n instanceof Tt.Z){_=n._times;const e=n._values;for(g=0;g<_.length;++g)o.push(fe.Z.toIso8601(_[g])),Y.Z.fromArray(e,3*g,Pd),p.push(Ud(Pd,a))}else{const i=e.sampleDuration;t.start.clone(Ad),t.isStartIncluded||fe.Z.addSeconds(Ad,i,Ad);const r=t.stop;for(;fe.Z.lessThan(Ad,r);)n.getValue(Ad,Pd),o.push(fe.Z.toIso8601(Ad)),p.push(Ud(Pd,a)),fe.Z.addSeconds(Ad,i,Ad);t.isStopIncluded&&fe.Z.equals(Ad,r)&&(n.getValue(Ad,Pd),o.push(fe.Z.toIso8601(Ad)),p.push(Ud(Pd,a)))}const Z=s.createElementNS(_d,"Track");Z.appendChild(r);for(let e=0;e<o.length;++e){const t=Gd(s,"when",o[e]),i=Gd(s,"coord",p[e],_d);Z.appendChild(t),Z.appendChild(i)}h&&Z.appendChild(Fd(e,i)),y.push(Z)}if(1===y.length)r.push(y[0]);else if(y.length>1){const e=s.createElementNS(_d,"MultiTrack");for(m=0;m<y.length;++m)e.appendChild(y[m]);r.push(e)}if((0,f.Z)(i)&&!h){const t=i instanceof n.Z?Od(e,i):Id(e,i);o.push(t)}const Z=t.path;if((0,f.Z)(Z)){const t=l.get(Z.width),i=Z.material;if((0,f.Z)(i)||(0,f.Z)(t)){const n=s.createElement("LineStyle");(0,f.Z)(t)&&n.appendChild(Gd(s,"width",t)),Vd(e,i,n),o.push(n)}}}function Id(e,t){const i=e.kmlDoc,n=e.valueGetter,r=i.createElement("IconStyle"),o=n.getColor(t.color);(0,f.Z)(o)&&(r.appendChild(Gd(i,"color",o)),r.appendChild(Gd(i,"colorMode","normal")));const s=n.get(t.pixelSize);return(0,f.Z)(s)&&r.appendChild(Gd(i,"scale",s/32)),r}function Od(e,t){const i=e.kmlDoc,n=e.valueGetter,r=e.externalFileHandler,o=i.createElement("IconStyle");let s=n.get(t.image);if((0,f.Z)(s)){s=r.texture(s);const e=i.createElement("Icon");e.appendChild(Gd(i,"href",s));const a=n.get(t.imageSubRegion);(0,f.Z)(a)&&(e.appendChild(Gd(i,"x",a.x,_d)),e.appendChild(Gd(i,"y",a.y,_d)),e.appendChild(Gd(i,"w",a.width,_d)),e.appendChild(Gd(i,"h",a.height,_d))),o.appendChild(e)}const a=n.getColor(t.color);(0,f.Z)(a)&&(o.appendChild(Gd(i,"color",a)),o.appendChild(Gd(i,"colorMode","normal")));let l=n.get(t.scale);(0,f.Z)(l)&&o.appendChild(Gd(i,"scale",l));const c=n.get(t.pixelOffset);if((0,f.Z)(c)){l=(0,p.Z)(l,1),d.Z.divideByScalar(c,l,c);const e=n.get(t.width,32),r=n.get(t.height,32),s=n.get(t.horizontalOrigin,Ie.Z.CENTER);s===Ie.Z.CENTER?c.x-=.5*e:s===Ie.Z.RIGHT&&(c.x-=e);const a=n.get(t.verticalOrigin,Be.Z.CENTER);a===Be.Z.TOP?c.y+=r:a===Be.Z.CENTER&&(c.y+=.5*r);const u=i.createElement("hotSpot");u.setAttribute("x",-c.x),u.setAttribute("y",c.y),u.setAttribute("xunits","pixels"),u.setAttribute("yunits","pixels"),o.appendChild(u)}let u=n.get(t.rotation);const h=n.get(t.alignedAxis);return(0,f.Z)(u)&&Y.Z.equals(Y.Z.UNIT_Z,h)&&(u=T.Z.toDegrees(-u),0===u&&(u=360),o.appendChild(Gd(i,"heading",u))),o}function Rd(e,t,i,n){const r=e.kmlDoc,o=e.ellipsoid,s=e.valueGetter;if(!(0,f.Z)(t))return;const a=r.createElement("LineString"),l=r.createElement("altitudeMode"),c=s.get(t.clampToGround,!1);let u;c?(a.appendChild(Gd(r,"tessellate",!0)),u=r.createTextNode("clampToGround")):u=r.createTextNode("absolute"),l.appendChild(u),a.appendChild(l);const d=t.positions,h=Gd(r,"coordinates",Ud(s.get(d),o));a.appendChild(h);const p=s.get(t.zIndex);c&&(0,f.Z)(p)&&a.appendChild(Gd(r,"drawOrder",p,_d)),i.push(a);const m=r.createElement("LineStyle"),g=s.get(t.width);(0,f.Z)(g)&&m.appendChild(Gd(r,"width",g)),Vd(e,t.material,m),n.push(m)}function Bd(e,t,i,n){const r=e.kmlDoc,o=e.ellipsoid,s=[],a=t.length;for(let e=0;e<a;++e)Q.Z.fromCartesian(t[e],o,Md),s.push(`${T.Z.toDegrees(Md.longitude)},${T.Z.toDegrees(Md.latitude)},${n?Md.height:i}`);const l=Gd(r,"coordinates",s.join(" ")),c=r.createElement("LinearRing");return c.appendChild(l),c}function Dd(e,t,i,n,r){const o=e.kmlDoc,s=e.valueGetter;if(!(0,f.Z)(t))return;const a=t instanceof wt.Z;if(a&&"Image"===s.getMaterialType(t.material))return void function(e,t,i){const n=e.kmlDoc,r=e.valueGetter,o=e.externalFileHandler,s=n.createElement("GroundOverlay"),a=n.createElement("altitudeMode");a.appendChild(Nd(e,t.heightReference)),s.appendChild(a);const l=r.get(t.height);(0,f.Z)(l)&&s.appendChild(Gd(n,"altitude",l));const c=r.get(t.coordinates),u=n.createElement("LatLonBox");u.appendChild(Gd(n,"north",T.Z.toDegrees(c.north))),u.appendChild(Gd(n,"south",T.Z.toDegrees(c.south))),u.appendChild(Gd(n,"east",T.Z.toDegrees(c.east))),u.appendChild(Gd(n,"west",T.Z.toDegrees(c.west))),s.appendChild(u);const d=r.get(t.material),h=o.texture(d.image),p=n.createElement("Icon");p.appendChild(Gd(n,"href",h)),s.appendChild(p);const m=d.color;(0,f.Z)(m)&&s.appendChild(Gd(n,"color",zd(d.color))),i.push(s)}(e,t,r);const l=o.createElement("Polygon"),c=s.get(t.extrudedHeight,0);c>0&&l.appendChild(Gd(o,"extrude",!0));const u=a?function(e,t,i){const n=e.kmlDoc,r=e.valueGetter;let o=r.get(t.height,0);i>0&&(o=i);const s=t.coordinates,a=r.get(s),l=[],c=[ve.Z.northeast,ve.Z.southeast,ve.Z.southwest,ve.Z.northwest];for(let e=0;e<4;++e)c[e](a,Md),l.push(`${T.Z.toDegrees(Md.longitude)},${T.Z.toDegrees(Md.latitude)},${o}`);const u=Gd(n,"coordinates",l.join(" ")),d=n.createElement("outerBoundaryIs"),h=n.createElement("LinearRing");return h.appendChild(u),d.appendChild(h),[d]}(e,t,c):function(e,t,i){const n=e.kmlDoc,r=e.valueGetter;let o=r.get(t.height,0);const s=r.get(t.perPositionHeight,!1);!s&&i>0&&(o=i);const a=[],l=t.hierarchy,c=r.get(l),u=Array.isArray(c)?c:c.positions,d=n.createElement("outerBoundaryIs");d.appendChild(Bd(e,u,o,s)),a.push(d);const h=c.holes;if((0,f.Z)(h)){const t=h.length;for(let i=0;i<t;++i){const t=n.createElement("innerBoundaryIs");t.appendChild(Bd(e,h[i].positions,o,s)),a.push(t)}}return a}(e,t,c),d=u.length;for(let e=0;e<d;++e)l.appendChild(u[e]);const p=o.createElement("altitudeMode");p.appendChild(Nd(e,t.heightReference)),l.appendChild(p),i.push(l);const m=o.createElement("PolyStyle"),g=s.get(t.fill,!1);g&&m.appendChild(Gd(o,"fill",g)),Vd(e,t.material,m);const _=s.get(t.outline,!1);if(_){m.appendChild(Gd(o,"outline",_));const e=o.createElement("LineStyle"),i=s.get(t.outlineWidth,1);e.appendChild(Gd(o,"width",i));const r=s.getColor(t.outlineColor,h.Z.BLACK);e.appendChild(Gd(o,"color",r)),e.appendChild(Gd(o,"colorMode","normal")),n.push(e)}n.push(m)}function Fd(e,t){const i=e.kmlDoc,n=e.valueGetter,r=e.externalFileHandler,o=i.createElement("Model"),s=n.get(t.scale);if((0,f.Z)(s)){const e=i.createElement("scale");e.appendChild(Gd(i,"x",s)),e.appendChild(Gd(i,"y",s)),e.appendChild(Gd(i,"z",s)),o.appendChild(e)}const a=i.createElement("Link"),l=r.model(t,e.time);return a.appendChild(Gd(i,"href",l)),o.appendChild(a),o}function Ld(e,t,i,n,r){const o=e.kmlDoc,s=e.ellipsoid,a=e.valueGetter;if(!(0,f.Z)(i))return;const l=t.position;if(!l.isConstant)return void kd(e,t,i,n,r);const c=Fd(e,i),u=o.createElement("altitudeMode");u.appendChild(Nd(e,i.heightReference)),c.appendChild(u),a.get(l,void 0,Pd),Q.Z.fromCartesian(Pd,s,Md);const d=o.createElement("Location");d.appendChild(Gd(o,"longitude",T.Z.toDegrees(Md.longitude))),d.appendChild(Gd(o,"latitude",T.Z.toDegrees(Md.latitude))),d.appendChild(Gd(o,"altitude",Md.height)),c.appendChild(d),n.push(c)}function Vd(e,t,i){const n=e.kmlDoc,r=e.valueGetter;if(!(0,f.Z)(t))return;const o=r.get(t);if(!(0,f.Z)(o))return;let s,a,l;switch(r.getMaterialType(t)){case"Image":s=zd(h.Z.WHITE);break;case"Color":case"Grid":case"PolylineGlow":case"PolylineArrow":case"PolylineDash":s=zd(o.color);break;case"PolylineOutline":s=zd(o.color),a=zd(o.outlineColor),l=o.outlineWidth,i.appendChild(Gd(n,"outerColor",a,_d)),i.appendChild(Gd(n,"outerWidth",l,_d));break;case"Stripe":s=zd(o.oddColor)}(0,f.Z)(s)&&(i.appendChild(Gd(n,"color",s)),i.appendChild(Gd(n,"colorMode","normal")))}function Nd(e,t){const i=e.kmlDoc;let n;switch(e.valueGetter.get(t,ke.Z.NONE)){case ke.Z.NONE:n=i.createTextNode("absolute");break;case ke.Z.CLAMP_TO_GROUND:n=i.createTextNode("clampToGround");break;case ke.Z.RELATIVE_TO_GROUND:n=i.createTextNode("relativeToGround")}return n}function Ud(e,t){Array.isArray(e)||(e=[e]);const i=e.length,n=[];for(let r=0;r<i;++r)Q.Z.fromCartesian(e[r],t,Md),n.push(`${T.Z.toDegrees(Md.longitude)},${T.Z.toDegrees(Md.latitude)},${Md.height}`);return n.join(" ")}function Gd(e,t,i,n){"boolean"==typeof(i=(0,p.Z)(i,""))&&(i=i?"1":"0");const r=(0,f.Z)(n)?e.createElementNS(n,t):e.createElement(t),o="string"===i&&-1!==i.indexOf("<")?e.createCDATASection(i):e.createTextNode(i);return r.appendChild(o),r}function zd(e){let t="";const i=e.toBytes();for(let e=3;e>=0;--e)t+=i[e]<16?`0${i[e].toString(16)}`:i[e].toString(16);return t}const Kd=Cd;var qd=i(805306),Hd=i(468032),Wd=i(393874),jd=i(372937),Jd=i(573300),Xd=i(973089),$d=i(177269),Yd=i(766250),Qd=i(410348),eh=i(66892),th=i(450922),ih=i(704795),nh=i(715122),rh=i(407702),oh=i(761488),sh=i(563921),ah=i(408712),lh=i(353089),ch=i(282895),uh=i(328695),dh=i(852315),hh=i(956516),ph=i(650828),fh=i(278313),mh=i(885191),gh=i(578851),_h=i(696199),yh=i(552099),Zh=i(174156),vh=i(458331),bh=i(176390),wh=i(481474),xh=i(644473),Ch=i(486519),Sh=i(186991),Th=i(390833),Ph=i(776709),Mh=i(737809),Ah=i(748895),Eh=i(43057),kh=i(892126),Ih=i(109465),Oh=i(210190),Rh=i(33968),Bh=i(269946),Dh=i(450865),Fh=i(80645),Lh=i(375376),Vh=i(74213),Nh=i(439842),Uh=i(212353),Gh=i(626344),zh=i(956960),Kh=i(229412);function qh(e){this.ellipsoid=(0,p.Z)(e.ellipsoid,oe.Z.WGS84),this.credit=void 0,this.tilingScheme=void 0,this.height=void 0,this.width=void 0,this.encoding=void 0,this.lodCount=void 0,this.hasAvailability=!1,this.tilesAvailable=void 0,this.tilesAvailabilityLoaded=void 0,this.levelZeroMaximumGeometricError=void 0,this.terrainDataStructure=void 0}async function Hh(e,t,i){try{!function(e,t){const i=t.copyrightText;(0,f.Z)(i)&&(e.credit=new ne.Z(i));const n=t.spatialReference,r=(0,p.Z)(n.latestWkid,n.wkid),o=t.extent,s={ellipsoid:e.ellipsoid};if(4326===r)s.rectangle=ve.Z.fromDegrees(o.xmin,o.ymin,o.xmax,o.ymax),e.tilingScheme=new Bh.Z(s);else{if(3857!==r)throw new xe.Z("Invalid spatial reference");{const i=Math.PI*e.ellipsoid.maximumRadius;t.extent.xmax>i&&(t.extent.xmax=i),t.extent.ymax>i&&(t.extent.ymax=i),t.extent.xmin<-i&&(t.extent.xmin=-i),t.extent.ymin<-i&&(t.extent.ymin=-i),s.rectangleSouthwestInMeters=new d.Z(o.xmin,o.ymin),s.rectangleNortheastInMeters=new d.Z(o.xmax,o.ymax),e.tilingScheme=new Kh.Z(s)}}const a=t.tileInfo;if(!(0,f.Z)(a))throw new xe.Z("tileInfo is required");e.width=a.rows+1,e.height=a.cols+1,e.encoding="LERC"===a.format?Dh.Z.LERC:Dh.Z.NONE,e.lodCount=a.lods.length-1,(e.hasAvailability=-1!==t.capabilities.indexOf("Tilemap"))&&(e.tilesAvailable=new Gh.Z(e.tilingScheme,e.lodCount),e.tilesAvailable.addAvailableTileRange(0,0,0,e.tilingScheme.getNumberOfXTilesAtLevel(0),e.tilingScheme.getNumberOfYTilesAtLevel(0)),e.tilesAvailabilityLoaded=new Gh.Z(e.tilingScheme,e.lodCount)),e.levelZeroMaximumGeometricError=Uh.Z.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.tilingScheme.ellipsoid,e.width,e.tilingScheme.getNumberOfXTilesAtLevel(0)),t.bandCount>1&&console.log("ArcGISTiledElevationTerrainProvider: Terrain data has more than 1 band. Using the first one."),(0,f.Z)(t.minValues)&&(0,f.Z)(t.maxValues)?e.terrainDataStructure={elementMultiplier:1,lowestEncodedHeight:t.minValues[0],highestEncodedHeight:t.maxValues[0]}:e.terrainDataStructure={elementMultiplier:1}}(e,await t.fetchJson())}catch(e){const n=`An error occurred while accessing ${t}.`;throw zh.Z.reportError(void 0,i,(0,f.Z)(i)?i._errorEvent:void 0,n),e}}function Wh(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._resource=void 0,this._credit=void 0,this._tilingScheme=void 0,this._levelZeroMaximumGeometricError=void 0,this._maxLevel=void 0,this._terrainDataStructure=void 0,this._width=void 0,this._height=void 0,this._encoding=void 0,this._lodCount=void 0;const t=e.token;if(this._hasAvailability=!1,this._tilesAvailable=void 0,this._tilesAvailabilityLoaded=void 0,this._availableCache={},this._ready=!1,this._errorEvent=new m.Z,(0,f.Z)(e.url)){(0,_c.Z)("ArcGISTiledElevationTerrainProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ArcGISTiledElevationTerrainProvider.fromUrl instead.");const i=this,n=new qh(e);this._readyPromise=Promise.resolve(e.url).then(async function(e){let r=we.Z.createIfNeeded(e);r.appendForwardSlash(),(0,f.Z)(t)&&(r=r.getDerivedResource({queryParameters:{token:t}})),i._resource=r;const o=r.getDerivedResource({queryParameters:{f:"pjson"}});return await Hh(n,o,i),n.build(i),!0})}}function jh(e,t,i,n){if(!e._hasAvailability)return;const r=e._tilesAvailabilityLoaded,o=e._tilesAvailable;return!(t>e._lodCount)&&(!!o.isTileAvailable(t,i,n)||!r.isTileAvailable(t,i,n)&&void 0)}function Jh(e,t,i,n){const r=t-1,o=i-1,s=n[e.y*t+e.x],a=[],l={startX:e.x,startY:e.y,endX:0,endY:0},c=new d.Z(e.x+1,e.y+1);let u=!1,h=!1;for(;!u||!h;){let i=c.x;const p=h?c.y+1:c.y;if(!u){for(let i=e.y;i<p;++i)if(n[i*t+c.x]!==s){u=!0;break}u?(a.push(new d.Z(c.x,e.y)),--c.x,--i,l.endX=c.x):c.x===r?(l.endX=c.x,u=!0):++c.x}if(!h){const r=c.y*t;for(let t=e.x;t<=i;++t)if(n[r+t]!==s){h=!0;break}h?(a.push(new d.Z(e.x,c.y)),--c.y,l.endY=c.y):c.y===o?(l.endY=c.y,h=!0):++c.y}}return{endingIndices:a,range:l,value:s}}function Xh(e,t,i,n){if(!e._hasAvailability)return{};const r=128*Math.floor(i/128),o=128*Math.floor(n/128),s=Math.min(1<<t,128),a=`tilemap/${t}/${o}/${r}/${s}/${s}`,l=e._availableCache;if((0,f.Z)(l[a]))return l[a];const c=new Lh.Z({throttle:!1,throttleByServer:!0,type:Nh.Z.TERRAIN});let u=e._resource.getDerivedResource({url:a,request:c}).fetchJson();return(0,f.Z)(u)?(u=u.then(function(a){const l=function(e,t,i,n,r){const o=[];if(r.every(function(e){return e===r[0]}))return 1===r[0]&&o.push({startX:e,startY:t,endX:e+i-1,endY:t+n-1}),o;let s=[new d.Z(0,0)];for(;s.length>0;){const a=Jh(s.pop(),i,n,r);if(1===a.value){const i=a.range;i.startX+=e,i.endX+=e,i.startY+=t,i.endY+=t,o.push(i)}const l=a.endingIndices;l.length>0&&(s=s.concat(l))}return o}(r,o,s,s,a.data);e._tilesAvailabilityLoaded.addAvailableTileRange(t,r,o,r+s,o+s);const c=e._tilesAvailable;for(let e=0;e<l.length;++e){const i=l[e];c.addAvailableTileRange(t,i.startX,i.startY,i.endX,i.endY)}return jh(e,t,i,n)}),l[a]={promise:u,request:c},u=u.finally(function(e){return delete l[a],e}),{promise:u,request:c}):{}}qh.prototype.build=function(e){e._credit=this.credit,e._tilingScheme=this.tilingScheme,e._height=this.height,e._width=this.width,e._encoding=this.encoding,e._lodCount=this.lodCount,e._hasAvailability=this.hasAvailability,e._tilesAvailable=this.tilesAvailable,e._tilesAvailabilityLoaded=this.tilesAvailabilityLoaded,e._levelZeroMaximumGeometricError=this.levelZeroMaximumGeometricError,e._terrainDataStructure=this.terrainDataStructure,e._ready=!0},Object.defineProperties(Wh.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return(0,_c.Z)("ArcGISTiledElevationTerrainProvider.ready","ArcGISTiledElevationTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ArcGISTiledElevationTerrainProvider.fromUrl instead."),this._ready}},readyPromise:{get:function(){return(0,_c.Z)("ArcGISTiledElevationTerrainProvider.readyPromise","ArcGISTiledElevationTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ArcGISTiledElevationTerrainProvider.fromUrl instead."),this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){return this._tilesAvailable}}}),Wh.fromUrl=async function(e,t){Ce.Z.defined("url",e),t=(0,p.Z)(t,p.Z.EMPTY_OBJECT),e=await Promise.resolve(e);let i=we.Z.createIfNeeded(e);i.appendForwardSlash(),(0,f.Z)(t.token)&&(i=i.getDerivedResource({queryParameters:{token:t.token}}));const n=i.getDerivedResource({queryParameters:{f:"pjson"}}),r=new qh(t);await Hh(r,n);const o=new Wh(t);return r.build(o),o._resource=i,o},Wh.prototype.requestTileGeometry=function(e,t,i,n){const r=this._resource.getDerivedResource({url:`tile/${i}/${t}/${e}`,request:n}),o=this._hasAvailability;let s,a=Promise.resolve(!0);if(o&&!(0,f.Z)(jh(this,i+1,2*e,2*t))){const n=Xh(this,i+1,2*e,2*t);a=n.promise,s=n.request}const l=r.fetchArrayBuffer();if(!(0,f.Z)(l)||!(0,f.Z)(a))return;const c=this,u=this._tilesAvailable;return Promise.all([l,a]).then(function(n){return new Fh.Z({buffer:n[0],width:c._width,height:c._height,childTileMask:o?u.computeChildMaskForTile(i,e,t):15,structure:c._terrainDataStructure,encoding:c._encoding})}).catch(function(e){return(0,f.Z)(s)&&s.state===Vh.Z.CANCELLED?(n.cancel(),n.deferred.promise.finally(function(){return n.state=Vh.Z.CANCELLED,Promise.reject(e)})):Promise.reject(e)})},Wh.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},Wh.prototype.getTileDataAvailable=function(e,t,i){if(!this._hasAvailability)return;const n=jh(this,i,e,t);if((0,f.Z)(n))return n;Xh(this,i,e,t)},Wh.prototype.loadTileDataAvailability=function(e,t,i){};const $h=Wh;var Yh=i(734909),Qh=i(898102),ep=i(593235);const tp="https://dev.virtualearth.net/REST/v1/Locations";function ip(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).key;if(!(0,f.Z)(t))throw new S.Z("options.key is required.");this._key=t;const i={key:t};(0,f.Z)(e.culture)&&(i.culture=e.culture),this._resource=new we.Z({url:tp,queryParameters:i}),this._credit=new ne.Z('<img src="http://dev.virtualearth.net/Branding/logo_powered_by.png"/>',!1)}Object.defineProperties(ip.prototype,{url:{get:function(){return tp}},key:{get:function(){return this._key}},credit:{get:function(){return this._credit}}}),ip.prototype.geocode=async function(e){return Ce.Z.typeOf.string("query",e),this._resource.getDerivedResource({queryParameters:{query:e}}).fetchJsonp("jsonp").then(function(e){return 0===e.resourceSets.length?[]:e.resourceSets[0].resources.map(function(e){const t=e.bbox,i=t[0],n=t[1],r=t[2],o=t[3];return{displayName:e.name,destination:ve.Z.fromDegrees(n,i,o,r)}})})};const np=ip;var rp=i(710251),op=i(985175),sp=i(819973),ap=i(359073),lp=i(198269),cp=i(354779),up=i(448414);const dp=new sp.Z,hp=new Y.Z,pp=new Y.Z,fp=new Y.Z,mp=new Y.Z;function gp(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).points,i=e.times;let n=e.firstTangent,r=e.lastTangent;if(Ce.Z.defined("points",t),Ce.Z.defined("times",i),Ce.Z.typeOf.number.greaterThanOrEquals("points.length",t.length,2),Ce.Z.typeOf.number.equals("times.length","points.length",i.length,t.length),t.length>2&&((0,f.Z)(n)||(n=fp,Y.Z.multiplyByScalar(t[1],2,n),Y.Z.subtract(n,t[2],n),Y.Z.subtract(n,t[0],n),Y.Z.multiplyByScalar(n,.5,n)),!(0,f.Z)(r))){const e=t.length-1;r=mp,Y.Z.multiplyByScalar(t[e-1],2,r),Y.Z.subtract(t[e],r,r),Y.Z.add(r,t[e-2],r),Y.Z.multiplyByScalar(r,.5,r)}this._times=i,this._points=t,this._firstTangent=Y.Z.clone(n),this._lastTangent=Y.Z.clone(r),this._evaluateFunction=function(e){const t=e.points,i=e.times;if(t.length<3){const e=i[0],n=1/(i[1]-e),r=t[0],o=t[1];return function(t,i){(0,f.Z)(i)||(i=new Y.Z);const s=(t-e)*n;return Y.Z.lerp(r,o,s,i)}}return function(n,r){(0,f.Z)(r)||(r=new Y.Z);const o=e._lastTimeIndex=e.findTimeInterval(n,e._lastTimeIndex),s=(n-i[o])/(i[o+1]-i[o]),a=dp;let l,c,u,d,h;return a.z=s,a.y=s*s,a.x=a.y*s,a.w=1,0===o?(l=t[0],c=t[1],u=e.firstTangent,d=Y.Z.subtract(t[2],l,hp),Y.Z.multiplyByScalar(d,.5,d),h=cp.Z.multiplyByVector(lp.Z.hermiteCoefficientMatrix,a,a)):o===t.length-2?(l=t[o],c=t[o+1],d=e.lastTangent,u=Y.Z.subtract(c,t[o-1],hp),Y.Z.multiplyByScalar(u,.5,u),h=cp.Z.multiplyByVector(lp.Z.hermiteCoefficientMatrix,a,a)):(l=t[o-1],c=t[o],u=t[o+1],d=t[o+2],h=cp.Z.multiplyByVector(gp.catmullRomCoefficientMatrix,a,a)),r=Y.Z.multiplyByScalar(l,h.x,r),Y.Z.multiplyByScalar(c,h.y,pp),Y.Z.add(r,pp,r),Y.Z.multiplyByScalar(u,h.z,pp),Y.Z.add(r,pp,r),Y.Z.multiplyByScalar(d,h.w,pp),Y.Z.add(r,pp,r)}}(this),this._lastTimeIndex=0}Object.defineProperties(gp.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},firstTangent:{get:function(){return this._firstTangent}},lastTangent:{get:function(){return this._lastTangent}}}),gp.catmullRomCoefficientMatrix=new cp.Z(-.5,1,-.5,0,1.5,-2.5,0,1,-1.5,2,.5,0,.5,-.5,0,0),gp.prototype.findTimeInterval=up.Z.prototype.findTimeInterval,gp.prototype.wrapTime=up.Z.prototype.wrapTime,gp.prototype.clampTime=up.Z.prototype.clampTime,gp.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)};const _p=gp;var yp=i(452351),Zp=i(372258),vp=i(303153);function bp(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).radius;Ce.Z.typeOf.number("radius",t);const i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation,shadowVolume:e.shadowVolume};this._ellipseGeometry=new Zp.Z(i),this._workerName="createCircleGeometry"}bp.packedLength=Zp.Z.packedLength,bp.pack=function(e,t,i){return Ce.Z.typeOf.object("value",e),Zp.Z.pack(e._ellipseGeometry,t,i)};const wp=new Zp.Z({center:new Y.Z,semiMajorAxis:1,semiMinorAxis:1}),xp={center:new Y.Z,radius:void 0,ellipsoid:oe.Z.clone(oe.Z.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new vp.Z,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0,shadowVolume:void 0};bp.unpack=function(e,t,i){const n=Zp.Z.unpack(e,t,wp);return xp.center=Y.Z.clone(n._center,xp.center),xp.ellipsoid=oe.Z.clone(n._ellipsoid,xp.ellipsoid),xp.height=n._height,xp.extrudedHeight=n._extrudedHeight,xp.granularity=n._granularity,xp.vertexFormat=vp.Z.clone(n._vertexFormat,xp.vertexFormat),xp.stRotation=n._stRotation,xp.shadowVolume=n._shadowVolume,(0,f.Z)(i)?(xp.semiMajorAxis=n._semiMajorAxis,xp.semiMinorAxis=n._semiMinorAxis,i._ellipseGeometry=new Zp.Z(xp),i):(xp.radius=n._semiMajorAxis,new bp(xp))},bp.createGeometry=function(e){return Zp.Z.createGeometry(e._ellipseGeometry)},bp.createShadowVolume=function(e,t,i){const n=e._ellipseGeometry._granularity,r=e._ellipseGeometry._ellipsoid,o=t(n,r),s=i(n,r);return new bp({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:r,stRotation:e._ellipseGeometry._stRotation,granularity:n,extrudedHeight:o,height:s,vertexFormat:vp.Z.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(bp.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}},textureCoordinateRotationPoints:{get:function(){return this._ellipseGeometry.textureCoordinateRotationPoints}}});const Cp=bp;var Sp=i(129028);function Tp(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).radius;Ce.Z.typeOf.number("radius",t);const i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new Sp.Z(i),this._workerName="createCircleOutlineGeometry"}Tp.packedLength=Sp.Z.packedLength,Tp.pack=function(e,t,i){return Ce.Z.typeOf.object("value",e),Sp.Z.pack(e._ellipseGeometry,t,i)};const Pp=new Sp.Z({center:new Y.Z,semiMajorAxis:1,semiMinorAxis:1}),Mp={center:new Y.Z,radius:void 0,ellipsoid:oe.Z.clone(oe.Z.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};Tp.unpack=function(e,t,i){const n=Sp.Z.unpack(e,t,Pp);return Mp.center=Y.Z.clone(n._center,Mp.center),Mp.ellipsoid=oe.Z.clone(n._ellipsoid,Mp.ellipsoid),Mp.height=n._height,Mp.extrudedHeight=n._extrudedHeight,Mp.granularity=n._granularity,Mp.numberOfVerticalLines=n._numberOfVerticalLines,(0,f.Z)(i)?(Mp.semiMajorAxis=n._semiMajorAxis,Mp.semiMinorAxis=n._semiMinorAxis,i._ellipseGeometry=new Sp.Z(Mp),i):(Mp.radius=n._semiMajorAxis,new Tp(Mp))},Tp.createGeometry=function(e){return Sp.Z.createGeometry(e._ellipseGeometry)};const Ap=Tp;var Ep=i(794938),kp=i(622834),Ip=i(711940),Op=i(468170),Rp=i(663738),Bp=i(549639),Dp=i(602068),Fp=i(874985),Lp=i(397244),Vp=i(745031),Np=i(437077),Up=i(149743);function Gp(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),Ce.Z.defined("options.callback",e.callback),Ce.Z.defined("options.width",e.width),Ce.Z.defined("options.height",e.height),this._callback=e.callback,this._tilingScheme=e.tilingScheme,(0,f.Z)(this._tilingScheme)||(this._tilingScheme=new Bh.Z({ellipsoid:(0,p.Z)(e.ellipsoid,oe.Z.WGS84)})),this._width=e.width,this._height=e.height;const t=Math.max(this._width,this._height);this._levelZeroMaximumGeometricError=Uh.Z.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,t,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new m.Z;let i=e.credit;"string"==typeof i&&(i=new ne.Z(i)),this._credit=i,this._ready=!0,this._readyPromise=Promise.resolve(!0)}Object.defineProperties(Gp.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return(0,_c.Z)("CustomHeightmapTerrainProvider.ready","CustomHeightmapTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),!0}},readyPromise:{get:function(){return(0,_c.Z)("CustomHeightmapTerrainProvider.readyPromise","CustomHeightmapTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},width:{get:function(){return this._width}},height:{get:function(){return this._height}}}),Gp.prototype.requestTileGeometry=function(e,t,i,n){const r=this._callback(e,t,i);if(!(0,f.Z)(r))return;const o=this._width,s=this._height;return Promise.resolve(r).then(function(e){let t=e;return Array.isArray(t)&&(t=new Float64Array(t)),new Fh.Z({buffer:t,width:o,height:s})})},Gp.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},Gp.prototype.getTileDataAvailable=function(e,t,i){},Gp.prototype.loadTileDataAvailability=function(e,t,i){};const zp=Gp;var Kp=i(470131),qp=i(690871),Hp=i(180345),Wp=i(194922),jp=i(477637),Jp=i(750200),Xp=i(145993),$p=i(82834),Yp=i(877270),Qp=i(740774),ef=i(525183),tf=i(389012),nf=i(237865),rf=i(523867),of=i(879647),sf=i(365516),af=i(929203),lf=i(844468),cf=i(686849),uf=i(628077),df=i(975040),hf=i(710088),pf=i(711099),ff=i(931027),mf=i(596509),gf=i(756523),_f=i(839669),yf=i(417180);function Zf(){S.Z.throwInstantiationError()}Zf.createGeometry=function(e){S.Z.throwInstantiationError()};const vf=Zf;var bf=i(852280),wf=i(618607),xf=i(159037),Cf=i(27585),Sf=i(761476),Tf=i(364047),Pf=i.t(Tf,2);const Mf=function(e,t){return 0!==(e&t)},Af=[1,2,4,8];function Ef(e,t,i,n,r,o){this._bits=e,this.cnodeVersion=t,this.imageryVersion=i,this.terrainVersion=n,this.imageryProvider=r,this.terrainProvider=o,this.ancestorHasTerrain=!1,this.terrainState=void 0}Ef.clone=function(e,t){return(0,f.Z)(t)?(t._bits=e._bits,t.cnodeVersion=e.cnodeVersion,t.imageryVersion=e.imageryVersion,t.terrainVersion=e.terrainVersion,t.imageryProvider=e.imageryProvider,t.terrainProvider=e.terrainProvider):t=new Ef(e._bits,e.cnodeVersion,e.imageryVersion,e.terrainVersion,e.imageryProvider,e.terrainProvider),t.ancestorHasTerrain=e.ancestorHasTerrain,t.terrainState=e.terrainState,t},Ef.prototype.setParent=function(e){this.ancestorHasTerrain=e.ancestorHasTerrain||this.hasTerrain()},Ef.prototype.hasSubtree=function(){return Mf(this._bits,16)},Ef.prototype.hasImagery=function(){return Mf(this._bits,64)},Ef.prototype.hasTerrain=function(){return Mf(this._bits,128)},Ef.prototype.hasChildren=function(){return Mf(this._bits,15)},Ef.prototype.hasChild=function(e){return Mf(this._bits,Af[e])},Ef.prototype.getChildBitmask=function(){return 15&this._bits};const kf=Ef;var If=i(237169),Of=i(612027);const Rf=function(e){const t=new ArrayBuffer(1016),i=new Uint8Array(t);for(let t=0;t<1016;++t)i[t]=e.charCodeAt(t);return t}('Eô½\vyâjE",ÍqøIFgQ\0B%Æèa,f)\bÆ4Üjb%y\nwmiÖðk¡½NuàA[ß@V\fÙ»r|3SîOlÔq°{ÀEVZ­wUe\v3*¬l5Å0sø3>mF8J´Ýð.ÝuÚDt"úa"\f3"So¯9D\v9Ù9L¹¿«\\P_"uxéqh;ÁÄð<VqH\'UfYNeu£aF}a?A\0×´4MÎF°Õ¸\'{Ü+»Mg0ÈÑö\\Pú[/Fn5/\'C.ë\n\f^¥se4ål.jC\'c#U©?q{gC}:¯ÍâTUýKÆâ/(íË\\Æ-f§;/*"N°k.Ý\r}}GºC²²+>Mª>}æÎIÆæx\fa1-¤O¥~q ì\r1èN\v\0nPh}=\b\r¦n£h$[kó#ó¶s³\r\v@ÀØQ]ú".jßI\0¹ wUÆïj¿{GLîÜÜF©­S+S4ÿYä8è1N¹XFkË-#p\x005"Ï1²&/çÃu-6,rt°#G·ÓÑ&7râ\0DÏÚ3-Þ`i#i*|ÍKQ\rT9w.)ê¦P¢joP\\>TûïP[\vEm(w7ÛJfJo åpâ¹q~\fmI-zþrÇòY0»]såÉ êxì ðB|G`°½&·q¶ÇÑ3=Ó«îcÈ+S D\\qÆÌD2O<ÊÀ)=RÓaX©}e´ÜÏ\rô=ñ\b©BÚ#\tØ¿^PIøMÀËGLO÷{+ØÅ1;µoÜl\rÑÛ?âéÚ_ÔâFaZÞUÏ¤\0¾ýÎgñJiæ HØ]~®q N®ÀV©<rçvì)IÖ]-ãÛ6©;fjÕ¶=P^R¹KÇsWxÉô.YoÐKW>\'\'Ç`Û;íSD>?mw¢\në?R¨ÆU^1I7ôÅ&-©¿\'TÚÃj å*x°Öprªh½÷_H±~ÀXL?fù>áeÀp§Ï8i¯ðVldI\'­xtOÂÞV9\0Úw\vË-û5Oõ\bQ`Á\nZGM&30xÚÀFGâ[y`In7gS\n>éìF9²ñ4\rÆSuná\fYÙÞ){II¥wy¾IV.6ç\v:»Ob{ÒM1/½8{¨O!áìFpv})"x\nÝ\\ÚÞQÏðüYRe|3ßóHÚ»*uÛ`²Ôüíì5¨ÿ(1-ÈÜF|["');function Bf(e){if(this.imageryPresent=!0,this.protoImagery=void 0,this.terrainPresent=!0,this.negativeAltitudeExponentBias=32,this.negativeAltitudeThreshold=T.Z.EPSILON12,this.providers={},this.key=void 0,this._resource=void 0,this._quadPacketVersion=1,this._tileInfo={},this._subtreePromises={},this._readyPromise=Promise.resolve(!0),(0,f.Z)(e)){(0,_c.Z)("GoogleEarthEnterpriseMetadata options.url","GoogleEarthEnterpriseMetadata constructor parmeter resourceOrUrl was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseMetadata.fromUrl instead.");let t=e;"string"==typeof t||t instanceof we.Z||(t=e.url);const i=we.Z.createIfNeeded(t);i.appendForwardSlash(),this._resource=i;const n=this;this._readyPromise=Uf(this).then(function(){return n.getQuadTreePacket("",n._quadPacketVersion)}).then(function(){return!0}).catch(function(e){const t=`An error occurred while accessing ${Lf(n,"",1).url}.`;return Promise.reject(new xe.Z(t))})}}Object.defineProperties(Bf.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},resource:{get:function(){return this._resource}},readyPromise:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseMetadata.readyPromise","GoogleEarthEnterpriseMetadata.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseMetadata.fromUrl instead."),this._readyPromise}}}),Bf.fromUrl=async function(e){Ce.Z.defined("resourceOrUrl",e);let t=e;"string"==typeof t||t instanceof we.Z||(Ce.Z.typeOf.string("resourceOrUrl.url",e.url),t=e.url);const i=we.Z.createIfNeeded(t);i.appendForwardSlash();const n=new Bf;n._resource=i;try{await Uf(n),await n.getQuadTreePacket("",n._quadPacketVersion)}catch(e){const t=`An error occurred while accessing ${Lf(n,"",1).url}: ${e}`;throw new xe.Z(t)}return n},Bf.tileXYToQuadKey=function(e,t,i){let n="";for(let r=i;r>=0;--r){const i=1<<r;let o=0;Mf(t,i)?Mf(e,i)&&(o|=1):(o|=2,Mf(e,i)||(o|=1)),n+=o}return n},Bf.quadKeyToTileXY=function(e){let t=0,i=0;const n=e.length-1;for(let r=n;r>=0;--r){const o=1<<r,s=+e[n-r];Mf(s,2)?Mf(s,1)||(t|=o):(i|=o,Mf(s,1)&&(t|=o))}return{x:t,y:i,level:n}},Bf.prototype.isValid=function(e){let t=this.getTileInformationFromQuadKey(e);if((0,f.Z)(t))return null!==t;let i,n=!0,r=e;for(;r.length>1;){if(i=r.substring(r.length-1),r=r.substring(0,r.length-1),t=this.getTileInformationFromQuadKey(r),(0,f.Z)(t)){t.hasSubtree()||t.hasChild(parseInt(i))||(n=!1);break}if(null===t){n=!1;break}}return n};const Df=new Of.Z("decodeGoogleEarthEnterprisePacket");function Ff(e,t,i){const n=e._tileInfo;let r,o=t,s=n[o];if((0,f.Z)(s)&&(!s.hasSubtree()||s.hasChildren()))return s;for(;void 0===s&&o.length>1;)o=o.substring(0,o.length-1),s=n[o];const a=e._subtreePromises;let l=a[o];return(0,f.Z)(l)?l.then(function(){return r=new Lh.Z({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),Ff(e,t,r)}):(0,f.Z)(s)&&s.hasSubtree()?(l=e.getQuadTreePacket(o,s.cnodeVersion,i),(0,f.Z)(l)?(a[o]=l,l.then(function(){return r=new Lh.Z({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),Ff(e,t,r)}).finally(function(){delete a[o]})):void 0):Promise.reject(new xe.Z(`Couldn't load metadata for tile ${t}`))}function Lf(e,t,i,n){return e._resource.getDerivedResource({url:`flatfile?q2-0${t}-q.${i.toString()}`,request:n})}let Vf,Nf;function Uf(e){const t=e._resource.getDerivedResource({url:"dbRoot.v5",queryParameters:{output:"proto"}});if(!(0,f.Z)(Nf)){const e=(0,cs.Z)("ThirdParty/google-earth-dbroot-parser.js"),t=window.cesiumGoogleEarthDbRootParser;Nf=(0,If.Z)(e).then(function(){Vf=window.cesiumGoogleEarthDbRootParser(Pf),(0,f.Z)(t)?window.cesiumGoogleEarthDbRootParser=t:delete window.cesiumGoogleEarthDbRootParser})}return Nf.then(function(){return t.fetchArrayBuffer()}).then(function(t){const i=Vf.EncryptedDbRootProto.decode(new Uint8Array(t));let n=i.encryptionData,r=n.byteOffset,o=r+n.byteLength;const s=e.key=n.buffer.slice(r,o);n=i.dbrootData,r=n.byteOffset,o=r+n.byteLength;const a=n.buffer.slice(r,o);return Df.scheduleTask({buffer:a,type:"DbRoot",key:s},[a])}).then(function(t){const i=Vf.DbRootProto.decode(new Uint8Array(t.buffer));if(e.imageryPresent=(0,p.Z)(i.imageryPresent,e.imageryPresent),e.protoImagery=i.protoImagery,e.terrainPresent=(0,p.Z)(i.terrainPresent,e.terrainPresent),(0,f.Z)(i.endSnippet)&&(0,f.Z)(i.endSnippet.model)){const t=i.endSnippet.model;e.negativeAltitudeExponentBias=(0,p.Z)(t.negativeAltitudeExponentBias,e.negativeAltitudeExponentBias),e.negativeAltitudeThreshold=(0,p.Z)(t.compressedNegativeAltitudeThreshold,e.negativeAltitudeThreshold)}(0,f.Z)(i.databaseVersion)&&(e._quadPacketVersion=(0,p.Z)(i.databaseVersion.quadtreeVersion,e._quadPacketVersion));const n=e.providers,r=(0,p.Z)(i.providerInfo,[]),o=r.length;for(let e=0;e<o;++e){const t=r[e],i=t.copyrightString;(0,f.Z)(i)&&(n[t.providerId]=new ne.Z(i.value))}}).catch(function(){console.log(`Failed to retrieve ${t.url}. Using defaults.`),e.key=Rf})}Bf.prototype.getQuadTreePacket=function(e,t,i){t=(0,p.Z)(t,1);const n=Lf(this,e=(0,p.Z)(e,""),t,i).fetchArrayBuffer();if(!(0,f.Z)(n))return;const r=this._tileInfo,o=this.key;return n.then(function(t){return Df.scheduleTask({buffer:t,quadKey:e,type:"Metadata",key:o},[t]).then(function(t){let i,n=-1;if(""!==e){n=e.length+1;const o=t[e];i=r[e],i._bits|=o._bits,delete t[e]}const o=Object.keys(t);o.sort(function(e,t){return e.length-t.length});const s=o.length;for(let e=0;e<s;++e){const s=o[e];if(null!==t[s]){const e=kf.clone(t[s]),o=s.length;if(o===n)e.setParent(i);else if(o>1){const t=r[s.substring(0,s.length-1)];e.setParent(t)}r[s]=e}else r[s]=null}})})},Bf.prototype.populateSubtree=function(e,t,i,n){return Ff(this,Bf.tileXYToQuadKey(e,t,i),n)},Bf.prototype.getTileInformation=function(e,t,i){const n=Bf.tileXYToQuadKey(e,t,i);return this._tileInfo[n]},Bf.prototype.getTileInformationFromQuadKey=function(e){return this._tileInfo[e]};const Gf=Bf;var zf=i(680866),Kf=i(401205),qf=i(591585),Hf=i(970266),Wf=i(773994),jf=i(238559),Jf=i(859273);function Xf(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),Ce.Z.typeOf.object("options.buffer",e.buffer),Ce.Z.typeOf.number("options.negativeAltitudeExponentBias",e.negativeAltitudeExponentBias),Ce.Z.typeOf.number("options.negativeElevationThreshold",e.negativeElevationThreshold),this._buffer=e.buffer,this._credits=e.credits,this._negativeAltitudeExponentBias=e.negativeAltitudeExponentBias,this._negativeElevationThreshold=e.negativeElevationThreshold;const t=(0,p.Z)(e.childTileMask,15);let i=3&t;i|=4&t?8:0,i|=8&t?4:0,this._childTileMask=i,this._createdByUpsampling=(0,p.Z)(e.createdByUpsampling,!1),this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0,this._minimumHeight=void 0,this._maximumHeight=void 0}Object.defineProperties(Xf.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){}}});const $f="createVerticesFromGoogleEarthEnterpriseBuffer",Yf=new Of.Z($f),Qf=new Of.Z($f,Wf.Z.maximumAsynchronousTasks),em=new ve.Z,tm=new ve.Z;Xf.prototype.createMesh=function(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),Ce.Z.typeOf.object("options.tilingScheme",e.tilingScheme),Ce.Z.typeOf.number("options.x",e.x),Ce.Z.typeOf.number("options.y",e.y),Ce.Z.typeOf.number("options.level",e.level);const t=e.tilingScheme,i=e.x,n=e.y,r=e.level,o=(0,p.Z)(e.exaggeration,1),s=(0,p.Z)(e.exaggerationRelativeHeight,0),a=(0,p.Z)(e.throttle,!0),l=t.ellipsoid;t.tileXYToNativeRectangle(i,n,r,em),t.tileXYToRectangle(i,n,r,tm);const c=l.cartographicToCartesian(ve.Z.center(tm)),u=40075.16/(1<<r);this._skirtHeight=Math.min(8*u,1e3);const d=(a?Qf:Yf).scheduleTask({buffer:this._buffer,nativeRectangle:em,rectangle:tm,relativeToCenter:c,ellipsoid:l,skirtHeight:this._skirtHeight,exaggeration:o,exaggerationRelativeHeight:s,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(!(0,f.Z)(d))return;const h=this;return d.then(function(e){return h._mesh=new Jf.Z(c,new Float32Array(e.vertices),new Uint16Array(e.indices),e.indexCountWithoutSkirts,e.vertexCountWithoutSkirts,e.minimumHeight,e.maximumHeight,xc.Z.clone(e.boundingSphere3D),Y.Z.clone(e.occludeePointInScaledSpace),e.numberOfAttributes,qf.Z.clone(e.orientedBoundingBox),jf.Z.clone(e.encoding),e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),h._minimumHeight=e.minimumHeight,h._maximumHeight=e.maximumHeight,h._buffer=void 0,h._mesh})},Xf.prototype.interpolateHeight=function(e,t,i){const n=T.Z.clamp((t-e.west)/e.width,0,1),r=T.Z.clamp((i-e.south)/e.height,0,1);return(0,f.Z)(this._mesh)?function(e,t,i){const n=e._mesh,r=n.vertices,o=n.encoding,s=n.indices;for(let e=0,n=s.length;e<n;e+=3){const n=s[e],a=s[e+1],l=s[e+2],c=o.decodeTextureCoordinates(r,n,nm),u=o.decodeTextureCoordinates(r,a,rm),d=o.decodeTextureCoordinates(r,l,om),h=Kf.Z.computeBarycentricCoordinates(t,i,c.x,c.y,u.x,u.y,d.x,d.y,sm);if(h.x>=-1e-15&&h.y>=-1e-15&&h.z>=-1e-15){const e=o.decodeHeight(r,n),t=o.decodeHeight(r,a),i=o.decodeHeight(r,l);return h.x*e+h.y*t+h.z*i}}}(this,n,r):function(e,t,i,n){const r=e._buffer;let o=0,s=0,a=0;i>.5?(t>.5?(o=2,s=.5):o=3,a=.5):t>.5&&(o=1,s=.5);const l=new DataView(r);let c=0;for(let e=0;e<o;++e)c+=l.getUint32(c,!0),c+=lm;c+=lm,c+=2*dm;const u=T.Z.toRadians(180*l.getFloat64(c,!0));c+=dm;const d=T.Z.toRadians(180*l.getFloat64(c,!0));c+=dm;const h=n.width/u/2,p=n.height/d/2,f=l.getInt32(c,!0);c+=cm;const m=3*l.getInt32(c,!0);c+=cm,c+=cm;const g=new Array(f),_=new Array(f),y=new Array(f);let Z;for(Z=0;Z<f;++Z)g[Z]=s+l.getUint8(c++)*h,_[Z]=a+l.getUint8(c++)*p,y[Z]=6371010*l.getFloat32(c,!0),c+=um;const v=new Array(m);for(Z=0;Z<m;++Z)v[Z]=l.getUint16(c,!0),c+=am;for(Z=0;Z<m;Z+=3){const e=v[Z],n=v[Z+1],r=v[Z+2],o=g[e],s=g[n],a=g[r],l=_[e],c=_[n],u=_[r],d=Kf.Z.computeBarycentricCoordinates(t,i,o,l,s,c,a,u,sm);if(d.x>=-1e-15&&d.y>=-1e-15&&d.z>=-1e-15)return d.x*y[e]+d.y*y[n]+d.z*y[r]}}(this,n,r,e)};const im=new Of.Z("upsampleQuantizedTerrainMesh",Wf.Z.maximumAsynchronousTasks);Xf.prototype.upsample=function(e,t,i,n,r,o,s){if(Ce.Z.typeOf.object("tilingScheme",e),Ce.Z.typeOf.number("thisX",t),Ce.Z.typeOf.number("thisY",i),Ce.Z.typeOf.number("thisLevel",n),Ce.Z.typeOf.number("descendantX",r),Ce.Z.typeOf.number("descendantY",o),Ce.Z.typeOf.number("descendantLevel",s),s-n>1)throw new S.Z("Upsampling through more than one level at a time is not currently supported.");const a=this._mesh;if(!(0,f.Z)(this._mesh))return;const l=2*t!==r,c=2*i===o,u=e.ellipsoid,d=e.tileXYToRectangle(r,o,s),h=im.scheduleTask({vertices:a.vertices,indices:a.indices,indexCountWithoutSkirts:a.indexCountWithoutSkirts,vertexCountWithoutSkirts:a.vertexCountWithoutSkirts,encoding:a.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:l,isNorthChild:c,childRectangle:d,ellipsoid:u});if(!(0,f.Z)(h))return;const p=this;return h.then(function(e){const t=new Uint16Array(e.vertices),i=zf.Z.createTypedArray(t.length/3,e.indices),n=p._skirtHeight;return new Hf.Z({quantizedVertices:t,indices:i,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:xc.Z.clone(e.boundingSphere),orientedBoundingBox:qf.Z.clone(e.orientedBoundingBox),horizonOcclusionPoint:Y.Z.clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:n,southSkirtHeight:n,eastSkirtHeight:n,northSkirtHeight:n,childTileMask:0,createdByUpsampling:!0,credits:p._credits})})},Xf.prototype.isChildAvailable=function(e,t,i,n){Ce.Z.typeOf.number("thisX",e),Ce.Z.typeOf.number("thisY",t),Ce.Z.typeOf.number("childX",i),Ce.Z.typeOf.number("childY",n);let r=2;return i!==2*e&&++r,n!==2*t&&(r-=2),!!(this._childTileMask&1<<r)},Xf.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};const nm=new d.Z,rm=new d.Z,om=new d.Z,sm=new Y.Z,am=Uint16Array.BYTES_PER_ELEMENT,lm=Uint32Array.BYTES_PER_ELEMENT,cm=Int32Array.BYTES_PER_ELEMENT,um=Float32Array.BYTES_PER_ELEMENT,dm=Float64Array.BYTES_PER_ELEMENT,hm=Xf,pm=new fe.Z;function fm(){this._terrainCache={},this._lastTidy=fe.Z.now()}function mm(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._tilingScheme=new Bh.Z({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new ve.Z(-T.Z.PI,-T.Z.PI,T.Z.PI,T.Z.PI),ellipsoid:e.ellipsoid});let t=e.credit;if("string"==typeof t&&(t=new ne.Z(t)),this._credit=t,this._levelZeroMaximumGeometricError=40075.16,this._terrainCache=new fm,this._terrainPromises={},this._terrainRequests={},this._errorEvent=new m.Z,this._ready=!1,(0,f.Z)(e.url)){(0,_c.Z)("GoogleEarthEnterpriseTerrainProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseTerrainProvider.fromMetadata instead.");const t=we.Z.createIfNeeded(e.url),i=this;let n;this._readyPromise=Gf.fromUrl(t).then(e=>{if(!e.terrainPresent){const t=new xe.Z(`The server ${e.url} doesn't have terrain`);return Promise.reject(t)}return zh.Z.reportSuccess(n),i._metadata=e,i._ready=!0,!0}).catch(e=>{throw n=zh.Z.reportError(n,i,i._errorEvent,e.message,void 0,void 0,void 0,e),e})}else if((0,f.Z)(e.metadata)){(0,_c.Z)("GoogleEarthEnterpriseTerrainProvider options.metadata","options.metadata was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseTerrainProvider.fromMetadata instead.");const t=e.metadata;this._metadata=t;const i=this;this._readyPromise=Promise.resolve(this._metadata._readyPromise).then(()=>{if(!t.terrainPresent)throw new xe.Z(`The server ${t.url} doesn't have terrain`);i._ready=!0})}}fm.prototype.add=function(e,t){this._terrainCache[e]={buffer:t,timestamp:fe.Z.now()}},fm.prototype.get=function(e){const t=this._terrainCache[e];if((0,f.Z)(t))return delete this._terrainCache[e],t.buffer},fm.prototype.tidy=function(){if(fe.Z.now(pm),fe.Z.secondsDifference(pm,this._lastTidy)>10){const e=this._terrainCache,t=Object.keys(e),i=t.length;for(let n=0;n<i;++n){const i=t[n],r=e[i];fe.Z.secondsDifference(pm,r.timestamp)>10&&delete e[i]}fe.Z.clone(pm,this._lastTidy)}},Object.defineProperties(mm.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tilingScheme:{get:function(){return this._tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseTerrainProvider.ready","GoogleEarthEnterpriseTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._ready}},readyPromise:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseTerrainProvider.readyPromise","GoogleEarthEnterpriseTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},credit:{get:function(){return this._credit}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}}),mm.fromMetadata=function(e,t){if(Ce.Z.defined("metadata",e),!e.terrainPresent)throw new xe.Z(`The server ${e.url} doesn't have terrain`);const i=new mm(t);return i._metadata=e,i._readyPromise=Promise.resolve(!0),i._ready=!0,i};const gm=new Of.Z("decodeGoogleEarthEnterprisePacket");function _m(e,t,i){let n=t.getChildBitmask();if(3===t.terrainState){n=0;for(let t=0;t<4;++t){const r=i.getTileInformationFromQuadKey(e+t.toString());(0,f.Z)(r)&&r.hasTerrain()&&(n|=1<<t)}}return n}mm.prototype.requestTileGeometry=function(e,t,i,n){const r=Gf.tileXYToQuadKey(e,t,i),o=this._terrainCache,s=this._metadata,a=s.getTileInformationFromQuadKey(r);if(!(0,f.Z)(a))return Promise.reject(new xe.Z("Terrain tile doesn't exist"));let l=a.terrainState;(0,f.Z)(l)||(l=a.terrainState=0);const c=o.get(r);if((0,f.Z)(c)){const e=s.providers[a.terrainProvider];return Promise.resolve(new hm({buffer:c,childTileMask:_m(r,a,s),credits:(0,f.Z)(e)?[e]:void 0,negativeAltitudeExponentBias:s.negativeAltitudeExponentBias,negativeElevationThreshold:s.negativeAltitudeThreshold}))}if(o.tidy(),!a.ancestorHasTerrain)return Promise.resolve(new Fh.Z({buffer:new Uint8Array(256),width:16,height:16}));if(1===l)return Promise.reject(new xe.Z("Terrain tile doesn't exist"));let u,d=r,h=-1;switch(l){case 2:h=a.terrainVersion;break;case 3:d=d.substring(0,d.length-1),u=s.getTileInformationFromQuadKey(d),h=u.terrainVersion;break;case 0:a.hasTerrain()?h=a.terrainVersion:(d=d.substring(0,d.length-1),u=s.getTileInformationFromQuadKey(d),(0,f.Z)(u)&&u.hasTerrain()&&(h=u.terrainVersion))}if(h<0)return Promise.reject(new xe.Z("Terrain tile doesn't exist"));const p=this._terrainPromises,m=this._terrainRequests;let g,_;if((0,f.Z)(p[d]))g=p[d],_=m[d];else{_=n;const e=function(e,t,i,n){return i=(0,f.Z)(i)&&i>0?i:1,e._metadata.resource.getDerivedResource({url:`flatfile?f1c-0${t}-t.${i.toString()}`,request:n})}(this,d,h,_).fetchArrayBuffer();if(!(0,f.Z)(e))return;g=e.then(function(e){return(0,f.Z)(e)?gm.scheduleTask({buffer:e,type:"Terrain",key:s.key},[e]).then(function(e){const t=s.getTileInformationFromQuadKey(d);t.terrainState=2,o.add(d,e[0]);const i=t.terrainProvider,n=e.length-1;for(let t=0;t<n;++t){const n=d+t.toString(),r=s.getTileInformationFromQuadKey(n);(0,f.Z)(r)&&(o.add(n,e[t+1]),r.terrainState=3,0===r.terrainProvider&&(r.terrainProvider=i))}}):Promise.reject(new xe.Z("Failed to load terrain."))}),p[d]=g,m[d]=_,g=g.finally(function(){delete p[d],delete m[d]})}return g.then(function(){const e=o.get(r);if((0,f.Z)(e)){const t=s.providers[a.terrainProvider];return new hm({buffer:e,childTileMask:_m(r,a,s),credits:(0,f.Z)(t)?[t]:void 0,negativeAltitudeExponentBias:s.negativeAltitudeExponentBias,negativeElevationThreshold:s.negativeAltitudeThreshold})}return Promise.reject(new xe.Z("Failed to load terrain."))}).catch(function(e){return _.state===Vh.Z.CANCELLED?(n.state=_.state,Promise.reject(e)):(a.terrainState=1,Promise.reject(e))})},mm.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},mm.prototype.getTileDataAvailable=function(e,t,i){const n=this._metadata;let r=Gf.tileXYToQuadKey(e,t,i);const o=n.getTileInformation(e,t,i);if(null===o)return!1;if((0,f.Z)(o)){if(!o.ancestorHasTerrain)return!0;const e=o.terrainState;if(1===e)return!1;if(!((0,f.Z)(e)&&0!==e||(o.terrainState=0,o.hasTerrain()))){r=r.substring(0,r.length-1);const e=n.getTileInformationFromQuadKey(r);if(!(0,f.Z)(e)||!e.hasTerrain())return!1}return!0}if(n.isValid(r)){const r=new Lh.Z({throttle:!1,throttleByServer:!0,type:Nh.Z.TERRAIN});n.populateSubtree(e,t,i,r)}return!1},mm.prototype.loadTileDataAvailability=function(e,t,i){};const ym=mm;let Zm;const vm="AIzaSyBqCv5lozjjhtIQ_pZuj2obyAL9bTJdY28",bm={};bm.defaultApiKey=vm,bm.mapTilesApiEndpoint=new we.Z({url:"https://tile.googleapis.com/v1/"}),bm.getDefaultApiKeyCredit=function(e){if(e===vm){if(!(0,f.Z)(Zm)){const e='<b>             This application is using CesiumJS\'s default Google Maps API key. Please assign <i>Cesium.GoogleMaps.defaultApiKey</i>             with <a href="https://developers.google.com/maps/documentation/embed/get-api-key">your API key for the Google Maps Platform</a>.</b>';Zm=new ne.Z(e,!0),Zm._isDefaultToken=!0}return Zm}};const wm=bm;var xm=i(778505),Cm=i(772180),Sm=i(54742),Tm=i(915700),Pm=i(488549),Mm=i(901302),Am=i(790629),Em=i(128172),km=i(39184),Im=i(335211);const Om={type:void 0};Om.getRequiredDataPoints=S.Z.throwInstantiationError,Om.interpolateOrderZero=S.Z.throwInstantiationError,Om.interpolate=S.Z.throwInstantiationError;const Rm=Om;var Bm=i(552889),Dm=i(860385),Fm=i(605532),Lm=i(107523),Vm=i(503809),Nm=i(472931),Um=i(990814),Gm=i(435723),zm=i(518051),Km=i(538804),qm=i(819500),Hm=i(745007);function Wm(){S.Z.throwInstantiationError()}Object.defineProperties(Wm.prototype,{ellipsoid:{get:S.Z.throwInstantiationError}}),Wm.prototype.project=S.Z.throwInstantiationError,Wm.prototype.unproject=S.Z.throwInstantiationError;const jm=Wm;var Jm=i(988582);function Xm(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).weights,i=e.times;if(Ce.Z.defined("weights",t),Ce.Z.defined("times",i),Ce.Z.typeOf.number.greaterThanOrEquals("weights.length",t.length,3),t.length%i.length!==0)throw new S.Z("times.length must be a factor of weights.length.");this._times=i,this._weights=t,this._count=t.length/i.length,this._lastTimeIndex=0}Object.defineProperties(Xm.prototype,{times:{get:function(){return this._times}},weights:{get:function(){return this._weights}}}),Xm.prototype.findTimeInterval=up.Z.prototype.findTimeInterval,Xm.prototype.wrapTime=up.Z.prototype.wrapTime,Xm.prototype.clampTime=up.Z.prototype.clampTime,Xm.prototype.evaluate=function(e,t){const i=this.weights,n=this.times,r=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),o=(e-n[r])/(n[r+1]-n[r]);(0,f.Z)(t)||(t=new Array(this._count));for(let e=0;e<this._count;e++){const n=r*this._count+e;t[e]=i[n]*(1-o)+i[n+this._count]*o}return t};const $m=Xm;var Ym=i(465744),Qm=i(24144),eg=i(939528);function tg(e,t,i){Ce.Z.defined("url",e),Ce.Z.defined("apiKey",t),(0,f.Z)(i)&&Ce.Z.typeOf.object("params",i),(e=we.Z.createIfNeeded(e)).appendForwardSlash(),e.setQueryParameters({key:t}),this._url=e,this._params=(0,p.Z)(i,{}),this._credit=new ne.Z('Geodata copyright <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',!1)}Object.defineProperties(tg.prototype,{url:{get:function(){return this._url}},params:{get:function(){return this._params}},credit:{get:function(){return this._credit}}}),tg.prototype.geocode=async function(e){return Ce.Z.typeOf.string("query",e),this._url.getDerivedResource({url:"json",queryParameters:(0,Cc.Z)(this._params,{q:e})}).fetchJson().then(function(e){return e.results.map(function(e){let t;const i=e.bounds;if((0,f.Z)(i))t=ve.Z.fromDegrees(i.southwest.lng,i.southwest.lat,i.northeast.lng,i.northeast.lat);else{const i=e.geometry.lat,n=e.geometry.lng;t=Y.Z.fromDegrees(i,n)}return{displayName:e.formatted,destination:t}})})};const ig=tg;var ng=i(346020),rg=i(340504);const og={packedLength:void 0,pack:S.Z.throwInstantiationError,unpack:S.Z.throwInstantiationError},sg={packedInterpolationLength:void 0,convertPackedArrayForInterpolation:S.Z.throwInstantiationError,unpackInterpolationResult:S.Z.throwInstantiationError};var ag=i(930125),lg=i(736375),cg=i(643348),ug=i(445902),dg=i(891552),hg=i(996239),pg=i(293522),fg=i(605651),mg=i(196269),gg=i(793484),_g=i(121230),yg=i(33712),Zg=i(316869),vg=i(577588),bg=i(240946),wg=i(311258),xg=i(103587);function Cg(){S.Z.throwInstantiationError()}Cg.prototype.getURL=S.Z.throwInstantiationError;const Sg=Cg;var Tg=i(673079),Pg=i(371191),Mg=i(772266),Ag=i(560908),Eg=i(936621),kg=i(597089),Ig=i(773908),Og=i(923557),Rg=i(762565),Bg=i(969836),Dg=i(850855),Fg=i(419709),Lg=i(745110),Vg=i(634895),Ng=i(176421),Ug=i(54128);function Gg(e,t,i,n,r,o,s){const a=Zg.Z.numberOfPoints(e,t,r);let l;const c=i.red,u=i.green,d=i.blue,p=i.alpha,f=n.red,m=n.green,g=n.blue,_=n.alpha;if(h.Z.equals(i,n)){for(l=0;l<a;l++)o[s++]=h.Z.floatToByte(c),o[s++]=h.Z.floatToByte(u),o[s++]=h.Z.floatToByte(d),o[s++]=h.Z.floatToByte(p);return s}const y=(f-c)/a,Z=(m-u)/a,v=(g-d)/a,b=(_-p)/a;let w=s;for(l=0;l<a;l++)o[w++]=h.Z.floatToByte(c+l*y),o[w++]=h.Z.floatToByte(u+l*Z),o[w++]=h.Z.floatToByte(d+l*v),o[w++]=h.Z.floatToByte(p+l*b);return w}function zg(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).positions,i=e.colors,n=(0,p.Z)(e.colorsPerVertex,!1);if(!(0,f.Z)(t)||t.length<2)throw new S.Z("At least two positions are required.");if((0,f.Z)(i)&&(n&&i.length<t.length||!n&&i.length<t.length-1))throw new S.Z("colors has an invalid length.");this._positions=t,this._colors=i,this._colorsPerVertex=n,this._arcType=(0,p.Z)(e.arcType,X.Z.GEODESIC),this._granularity=(0,p.Z)(e.granularity,T.Z.RADIANS_PER_DEGREE),this._ellipsoid=(0,p.Z)(e.ellipsoid,oe.Z.WGS84),this._workerName="createSimplePolylineGeometry";let r=1+t.length*Y.Z.packedLength;r+=(0,f.Z)(i)?1+i.length*h.Z.packedLength:1,this.packedLength=r+oe.Z.packedLength+3}zg.pack=function(e,t,i){if(!(0,f.Z)(e))throw new S.Z("value is required");if(!(0,f.Z)(t))throw new S.Z("array is required");let n;i=(0,p.Z)(i,0);const r=e._positions;let o=r.length;for(t[i++]=o,n=0;n<o;++n,i+=Y.Z.packedLength)Y.Z.pack(r[n],t,i);const s=e._colors;for(o=(0,f.Z)(s)?s.length:0,t[i++]=o,n=0;n<o;++n,i+=h.Z.packedLength)h.Z.pack(s[n],t,i);return oe.Z.pack(e._ellipsoid,t,i),i+=oe.Z.packedLength,t[i++]=e._colorsPerVertex?1:0,t[i++]=e._arcType,t[i]=e._granularity,t},zg.unpack=function(e,t,i){if(!(0,f.Z)(e))throw new S.Z("array is required");let n;t=(0,p.Z)(t,0);let r=e[t++];const o=new Array(r);for(n=0;n<r;++n,t+=Y.Z.packedLength)o[n]=Y.Z.unpack(e,t);r=e[t++];const s=r>0?new Array(r):void 0;for(n=0;n<r;++n,t+=h.Z.packedLength)s[n]=h.Z.unpack(e,t);const a=oe.Z.unpack(e,t);t+=oe.Z.packedLength;const l=1===e[t++],c=e[t++],u=e[t];return(0,f.Z)(i)?(i._positions=o,i._colors=s,i._ellipsoid=a,i._colorsPerVertex=l,i._arcType=c,i._granularity=u,i):new zg({positions:o,colors:s,ellipsoid:a,colorsPerVertex:l,arcType:c,granularity:u})};const Kg=new Array(2),qg=new Array(2),Hg={positions:Kg,height:qg,ellipsoid:void 0,minDistance:void 0,granularity:void 0};zg.createGeometry=function(e){const t=e._positions,i=e._colors,n=e._colorsPerVertex,r=e._arcType,o=e._granularity,s=e._ellipsoid,a=T.Z.chordLength(o,s.maximumRadius),l=(0,f.Z)(i)&&!n;let c;const u=t.length;let d,p,m,g,_=0;if(r===X.Z.GEODESIC||r===X.Z.RHUMB){let e,n,p;r===X.Z.GEODESIC?(e=T.Z.chordLength(o,s.maximumRadius),n=Zg.Z.numberOfPoints,p=Zg.Z.generateArc):(e=o,n=Zg.Z.numberOfPointsRhumbLine,p=Zg.Z.generateRhumbArc);const y=Zg.Z.extractHeights(t,s),Z=Hg;if(r===X.Z.GEODESIC?Z.minDistance=a:Z.granularity=o,Z.ellipsoid=s,l){let r=0;for(c=0;c<u-1;c++)r+=n(t[c],t[c+1],e)+1;d=new Float64Array(3*r),m=new Uint8Array(4*r),Z.positions=Kg,Z.height=qg;let o=0;for(c=0;c<u-1;++c){Kg[0]=t[c],Kg[1]=t[c+1],qg[0]=y[c],qg[1]=y[c+1];const e=p(Z);if((0,f.Z)(i)){const t=e.length/3;g=i[c];for(let e=0;e<t;++e)m[o++]=h.Z.floatToByte(g.red),m[o++]=h.Z.floatToByte(g.green),m[o++]=h.Z.floatToByte(g.blue),m[o++]=h.Z.floatToByte(g.alpha)}d.set(e,_),_+=e.length}}else if(Z.positions=t,Z.height=y,d=new Float64Array(p(Z)),(0,f.Z)(i)){for(m=new Uint8Array(d.length/3*4),c=0;c<u-1;++c)_=Gg(t[c],t[c+1],i[c],i[c+1],a,m,_);const e=i[u-1];m[_++]=h.Z.floatToByte(e.red),m[_++]=h.Z.floatToByte(e.green),m[_++]=h.Z.floatToByte(e.blue),m[_++]=h.Z.floatToByte(e.alpha)}}else{p=l?2*u-2:u,d=new Float64Array(3*p),m=(0,f.Z)(i)?new Uint8Array(4*p):void 0;let e=0,n=0;for(c=0;c<u;++c){const r=t[c];if(l&&c>0&&(Y.Z.pack(r,d,e),e+=3,g=i[c-1],m[n++]=h.Z.floatToByte(g.red),m[n++]=h.Z.floatToByte(g.green),m[n++]=h.Z.floatToByte(g.blue),m[n++]=h.Z.floatToByte(g.alpha)),l&&c===u-1)break;Y.Z.pack(r,d,e),e+=3,(0,f.Z)(i)&&(g=i[c],m[n++]=h.Z.floatToByte(g.red),m[n++]=h.Z.floatToByte(g.green),m[n++]=h.Z.floatToByte(g.blue),m[n++]=h.Z.floatToByte(g.alpha))}}const y=new yf.Z;y.position=new _f.Z({componentDatatype:kp.Z.DOUBLE,componentsPerAttribute:3,values:d}),(0,f.Z)(i)&&(y.color=new _f.Z({componentDatatype:kp.Z.UNSIGNED_BYTE,componentsPerAttribute:4,values:m,normalize:!0})),p=d.length/3;const Z=2*(p-1),v=zf.Z.createTypedArray(p,Z);let b=0;for(c=0;c<p-1;++c)v[b++]=c,v[b++]=c+1;return new gf.Z({attributes:y,indices:v,primitiveType:xg.Z.LINES,boundingSphere:xc.Z.fromPoints(t)})};const Wg=zg;function jg(e){const t=(0,p.Z)(e.radius,1),i={radii:new Y.Z(t,t,t),stackPartitions:e.stackPartitions,slicePartitions:e.slicePartitions,vertexFormat:e.vertexFormat};this._ellipsoidGeometry=new tf.Z(i),this._workerName="createSphereGeometry"}jg.packedLength=tf.Z.packedLength,jg.pack=function(e,t,i){return Ce.Z.typeOf.object("value",e),tf.Z.pack(e._ellipsoidGeometry,t,i)};const Jg=new tf.Z,Xg={radius:void 0,radii:new Y.Z,vertexFormat:new vp.Z,stackPartitions:void 0,slicePartitions:void 0};jg.unpack=function(e,t,i){const n=tf.Z.unpack(e,t,Jg);return Xg.vertexFormat=vp.Z.clone(n._vertexFormat,Xg.vertexFormat),Xg.stackPartitions=n._stackPartitions,Xg.slicePartitions=n._slicePartitions,(0,f.Z)(i)?(Y.Z.clone(n._radii,Xg.radii),i._ellipsoidGeometry=new tf.Z(Xg),i):(Xg.radius=n._radii.x,new jg(Xg))},jg.createGeometry=function(e){return tf.Z.createGeometry(e._ellipsoidGeometry)};const $g=jg;var Yg=i(994194),Qg=i(546225),e_=i(300543),t_=i(247531),i_=i(687378);function n_(e){throw new S.Z("This type should not be instantiated directly.  Instead, use WebMercatorTilingScheme or GeographicTilingScheme.")}Object.defineProperties(n_.prototype,{ellipsoid:{get:S.Z.throwInstantiationError},rectangle:{get:S.Z.throwInstantiationError},projection:{get:S.Z.throwInstantiationError}}),n_.prototype.getNumberOfXTilesAtLevel=S.Z.throwInstantiationError,n_.prototype.getNumberOfYTilesAtLevel=S.Z.throwInstantiationError,n_.prototype.rectangleToNativeRectangle=S.Z.throwInstantiationError,n_.prototype.tileXYToNativeRectangle=S.Z.throwInstantiationError,n_.prototype.tileXYToRectangle=S.Z.throwInstantiationError,n_.prototype.positionToTileXY=S.Z.throwInstantiationError;const r_=n_;var o_=i(644090),s_=i(276202),a_=i(338164),l_=i(190647),c_=i(125386),u_=i(424591),d_=i(388627);function h_(e,t){this.rectangle=e,this.maxLevel=t}function p_(e){this.ellipsoid=(0,p.Z)(e.ellipsoid,oe.Z.WGS84),this.tilingScheme=void 0,this.heightmapWidth=void 0,this.heightmapHeight=void 0,this.levelZeroMaximumGeometricError=void 0,this.rectangles=[]}async function f_(e,t,i){try{!function(e,t){const i=t.getElementsByTagName("SRS")[0].textContent;if("EPSG:4326"!==i)throw new xe.Z(`SRS ${i} is not supported`);e.tilingScheme=new Bh.Z({ellipsoid:e.ellipsoid});const n=t.getElementsByTagName("TileFormat")[0];e.heightmapWidth=parseInt(n.getAttribute("width"),10),e.heightmapHeight=parseInt(n.getAttribute("height"),10),e.levelZeroMaximumGeometricError=Uh.Z.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.ellipsoid,Math.min(e.heightmapWidth,e.heightmapHeight),e.tilingScheme.getNumberOfXTilesAtLevel(0));const r=t.getElementsByTagName("DataExtent");for(let t=0;t<r.length;++t){const i=r[t],n=T.Z.toRadians(parseFloat(i.getAttribute("minx"))),o=T.Z.toRadians(parseFloat(i.getAttribute("miny"))),s=T.Z.toRadians(parseFloat(i.getAttribute("maxx"))),a=T.Z.toRadians(parseFloat(i.getAttribute("maxy"))),l=parseInt(i.getAttribute("maxlevel"),10);e.rectangles.push(new h_(new ve.Z(n,o,s,a),l))}}(e,await t.fetchXML())}catch(e){!function(e,t,i){let n=`An error occurred while accessing ${e.url}`;throw(0,f.Z)(t)&&(0,f.Z)(t.message)&&(n=`${n}: ${t.message}`),zh.Z.reportError(void 0,i,(0,f.Z)(i)?i._errorEvent:void 0,n),new xe.Z(n)}(t,e,i)}}function m_(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._errorEvent=new m.Z,this._ready=!1,this._terrainDataStructure={heightScale:.001,heightOffset:-1e3,elementsPerHeight:3,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:16777215};let t=e.credit;if("string"==typeof t&&(t=new ne.Z(t)),this._credit=t,this._tilingScheme=void 0,this._rectangles=[],(0,f.Z)(e.url)){(0,_c.Z)("VRTheWorldTerrainProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  VRTheWorldTerrainProvider.fromUrl instead.");const t=this,i=new p_(e),n=we.Z.createIfNeeded(e.url);this._resource=n,this._readyPromise=f_(i,n,t).then(()=>(i.build(t),!0))}}p_.prototype.build=function(e){e._tilingScheme=this.tilingScheme,e._heightmapWidth=this.heightmapWidth,e._heightmapHeight=this.heightmapHeight,e._levelZeroMaximumGeometricError=this.levelZeroMaximumGeometricError,e._rectangles=this.rectangles,e._ready=!0},Object.defineProperties(m_.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return(0,_c.Z)("VRTheWorldTerrainProvider.ready","VRTheWorldTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use VRTheWorldTerrainProvider.fromUrl instead."),this._ready}},readyPromise:{get:function(){return(0,_c.Z)("VRTheWorldTerrainProvider.readyPromise","VRTheWorldTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use VRTheWorldTerrainProvider.fromUrl instead."),this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}}),m_.fromUrl=async function(e,t){Ce.Z.defined("url",e);const i=new p_(t=(0,p.Z)(t,p.Z.EMPTY_OBJECT)),n=we.Z.createIfNeeded(e);await f_(i,n);const r=new m_(t);return i.build(r),r._resource=n,r},m_.prototype.requestTileGeometry=function(e,t,i,n){const r=this._tilingScheme.getNumberOfYTilesAtLevel(i),o=this._resource.getDerivedResource({url:`${i}/${e}/${r-t-1}.tif`,queryParameters:{cesium:!0},request:n}).fetchImage({preferImageBitmap:!0});if(!(0,f.Z)(o))return;const s=this;return Promise.resolve(o).then(function(n){return new Fh.Z({buffer:(0,d_.Z)(n),width:s._heightmapWidth,height:s._heightmapHeight,childTileMask:__(s,e,t,i),structure:s._terrainDataStructure})})},m_.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)};const g_=new ve.Z;function __(e,t,i,n){const r=e._tilingScheme,o=e._rectangles,s=r.tileXYToRectangle(t,i,n);let a=0;for(let e=0;e<o.length&&15!==a;++e){const l=o[e];if(l.maxLevel<=n)continue;const c=l.rectangle,u=ve.Z.intersection(c,s,g_);(0,f.Z)(u)&&(y_(r,c,2*t,2*i,n+1)&&(a|=4),y_(r,c,2*t+1,2*i,n+1)&&(a|=8),y_(r,c,2*t,2*i+1,n+1)&&(a|=1),y_(r,c,2*t+1,2*i+1,n+1)&&(a|=2))}return a}function y_(e,t,i,n,r){const o=e.tileXYToRectangle(i,n,r);return(0,f.Z)(ve.Z.intersection(o,t,g_))}m_.prototype.getTileDataAvailable=function(e,t,i){},m_.prototype.loadTileDataAvailability=function(e,t,i){};const Z_=m_;var v_=i(581459);function b_(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._clock=void 0,this._element=void 0,this._clockSubscription=void 0,this._seekFunction=void 0,this._lastPlaybackRate=void 0,this.clock=e.clock,this.element=e.element,this.epoch=(0,p.Z)(e.epoch,pe.Z.MINIMUM_VALUE),this.tolerance=(0,p.Z)(e.tolerance,1),this._seeking=!1,this._seekFunction=void 0,this._firstTickAfterSeek=!1}Object.defineProperties(b_.prototype,{clock:{get:function(){return this._clock},set:function(e){const t=this._clock;t!==e&&((0,f.Z)(t)&&(this._clockSubscription(),this._clockSubscription=void 0),(0,f.Z)(e)&&(this._clockSubscription=e.onTick.addEventListener(b_.prototype._onTick,this)),this._clock=e)}},element:{get:function(){return this._element},set:function(e){const t=this._element;var i;t!==e&&((0,f.Z)(t)&&t.removeEventListener("seeked",this._seekFunction,!1),(0,f.Z)(e)&&(this._seeking=!1,this._seekFunction=(i=this,function(){i._seeking=!1,i._firstTickAfterSeek=!0}),e.addEventListener("seeked",this._seekFunction,!1)),this._element=e,this._seeking=!1,this._firstTickAfterSeek=!1)}}}),b_.prototype.destroy=function(){return this.element=void 0,this.clock=void 0,(0,v_.Z)(this)},b_.prototype.isDestroyed=function(){return!1},b_.prototype._trySetPlaybackRate=function(e){if(this._lastPlaybackRate===e.multiplier)return;const t=this._element;try{t.playbackRate=e.multiplier}catch(e){t.playbackRate=0}this._lastPlaybackRate=e.multiplier},b_.prototype._onTick=function(e){const t=this._element;if(!(0,f.Z)(t)||t.readyState<2)return;const i=t.paused,n=e.shouldAnimate;if(n===i&&(n?t.play():t.pause()),this._seeking||this._firstTickAfterSeek)return void(this._firstTickAfterSeek=!1);this._trySetPlaybackRate(e);const r=e.currentTime,o=(0,p.Z)(this.epoch,pe.Z.MINIMUM_VALUE);let s=fe.Z.secondsDifference(r,o);const a=t.duration;let l;const c=t.currentTime;t.loop?(s%=a,s<0&&(s=a-s),l=s):l=s>a?a:s<0?0:s;const u=n?(0,p.Z)(this.tolerance,1):.001;Math.abs(l-c)>u&&(this._seeking=!0,t.currentTime=l)};const w_=b_;var x_=i(593530);const C_=Object.freeze({VK_FORMAT_UNDEFINED:0,VK_FORMAT_R4G4_UNORM_PACK8:1,VK_FORMAT_R4G4B4A4_UNORM_PACK16:2,VK_FORMAT_B4G4R4A4_UNORM_PACK16:3,VK_FORMAT_R5G6B5_UNORM_PACK16:4,VK_FORMAT_B5G6R5_UNORM_PACK16:5,VK_FORMAT_R5G5B5A1_UNORM_PACK16:6,VK_FORMAT_B5G5R5A1_UNORM_PACK16:7,VK_FORMAT_A1R5G5B5_UNORM_PACK16:8,VK_FORMAT_R8_UNORM:9,VK_FORMAT_R8_SNORM:10,VK_FORMAT_R8_USCALED:11,VK_FORMAT_R8_SSCALED:12,VK_FORMAT_R8_UINT:13,VK_FORMAT_R8_SINT:14,VK_FORMAT_R8_SRGB:15,VK_FORMAT_R8G8_UNORM:16,VK_FORMAT_R8G8_SNORM:17,VK_FORMAT_R8G8_USCALED:18,VK_FORMAT_R8G8_SSCALED:19,VK_FORMAT_R8G8_UINT:20,VK_FORMAT_R8G8_SINT:21,VK_FORMAT_R8G8_SRGB:22,VK_FORMAT_R8G8B8_UNORM:23,VK_FORMAT_R8G8B8_SNORM:24,VK_FORMAT_R8G8B8_USCALED:25,VK_FORMAT_R8G8B8_SSCALED:26,VK_FORMAT_R8G8B8_UINT:27,VK_FORMAT_R8G8B8_SINT:28,VK_FORMAT_R8G8B8_SRGB:29,VK_FORMAT_B8G8R8_UNORM:30,VK_FORMAT_B8G8R8_SNORM:31,VK_FORMAT_B8G8R8_USCALED:32,VK_FORMAT_B8G8R8_SSCALED:33,VK_FORMAT_B8G8R8_UINT:34,VK_FORMAT_B8G8R8_SINT:35,VK_FORMAT_B8G8R8_SRGB:36,VK_FORMAT_R8G8B8A8_UNORM:37,VK_FORMAT_R8G8B8A8_SNORM:38,VK_FORMAT_R8G8B8A8_USCALED:39,VK_FORMAT_R8G8B8A8_SSCALED:40,VK_FORMAT_R8G8B8A8_UINT:41,VK_FORMAT_R8G8B8A8_SINT:42,VK_FORMAT_R8G8B8A8_SRGB:43,VK_FORMAT_B8G8R8A8_UNORM:44,VK_FORMAT_B8G8R8A8_SNORM:45,VK_FORMAT_B8G8R8A8_USCALED:46,VK_FORMAT_B8G8R8A8_SSCALED:47,VK_FORMAT_B8G8R8A8_UINT:48,VK_FORMAT_B8G8R8A8_SINT:49,VK_FORMAT_B8G8R8A8_SRGB:50,VK_FORMAT_A8B8G8R8_UNORM_PACK32:51,VK_FORMAT_A8B8G8R8_SNORM_PACK32:52,VK_FORMAT_A8B8G8R8_USCALED_PACK32:53,VK_FORMAT_A8B8G8R8_SSCALED_PACK32:54,VK_FORMAT_A8B8G8R8_UINT_PACK32:55,VK_FORMAT_A8B8G8R8_SINT_PACK32:56,VK_FORMAT_A8B8G8R8_SRGB_PACK32:57,VK_FORMAT_A2R10G10B10_UNORM_PACK32:58,VK_FORMAT_A2R10G10B10_SNORM_PACK32:59,VK_FORMAT_A2R10G10B10_USCALED_PACK32:60,VK_FORMAT_A2R10G10B10_SSCALED_PACK32:61,VK_FORMAT_A2R10G10B10_UINT_PACK32:62,VK_FORMAT_A2R10G10B10_SINT_PACK32:63,VK_FORMAT_A2B10G10R10_UNORM_PACK32:64,VK_FORMAT_A2B10G10R10_SNORM_PACK32:65,VK_FORMAT_A2B10G10R10_USCALED_PACK32:66,VK_FORMAT_A2B10G10R10_SSCALED_PACK32:67,VK_FORMAT_A2B10G10R10_UINT_PACK32:68,VK_FORMAT_A2B10G10R10_SINT_PACK32:69,VK_FORMAT_R16_UNORM:70,VK_FORMAT_R16_SNORM:71,VK_FORMAT_R16_USCALED:72,VK_FORMAT_R16_SSCALED:73,VK_FORMAT_R16_UINT:74,VK_FORMAT_R16_SINT:75,VK_FORMAT_R16_SFLOAT:76,VK_FORMAT_R16G16_UNORM:77,VK_FORMAT_R16G16_SNORM:78,VK_FORMAT_R16G16_USCALED:79,VK_FORMAT_R16G16_SSCALED:80,VK_FORMAT_R16G16_UINT:81,VK_FORMAT_R16G16_SINT:82,VK_FORMAT_R16G16_SFLOAT:83,VK_FORMAT_R16G16B16_UNORM:84,VK_FORMAT_R16G16B16_SNORM:85,VK_FORMAT_R16G16B16_USCALED:86,VK_FORMAT_R16G16B16_SSCALED:87,VK_FORMAT_R16G16B16_UINT:88,VK_FORMAT_R16G16B16_SINT:89,VK_FORMAT_R16G16B16_SFLOAT:90,VK_FORMAT_R16G16B16A16_UNORM:91,VK_FORMAT_R16G16B16A16_SNORM:92,VK_FORMAT_R16G16B16A16_USCALED:93,VK_FORMAT_R16G16B16A16_SSCALED:94,VK_FORMAT_R16G16B16A16_UINT:95,VK_FORMAT_R16G16B16A16_SINT:96,VK_FORMAT_R16G16B16A16_SFLOAT:97,VK_FORMAT_R32_UINT:98,VK_FORMAT_R32_SINT:99,VK_FORMAT_R32_SFLOAT:100,VK_FORMAT_R32G32_UINT:101,VK_FORMAT_R32G32_SINT:102,VK_FORMAT_R32G32_SFLOAT:103,VK_FORMAT_R32G32B32_UINT:104,VK_FORMAT_R32G32B32_SINT:105,VK_FORMAT_R32G32B32_SFLOAT:106,VK_FORMAT_R32G32B32A32_UINT:107,VK_FORMAT_R32G32B32A32_SINT:108,VK_FORMAT_R32G32B32A32_SFLOAT:109,VK_FORMAT_R64_UINT:110,VK_FORMAT_R64_SINT:111,VK_FORMAT_R64_SFLOAT:112,VK_FORMAT_R64G64_UINT:113,VK_FORMAT_R64G64_SINT:114,VK_FORMAT_R64G64_SFLOAT:115,VK_FORMAT_R64G64B64_UINT:116,VK_FORMAT_R64G64B64_SINT:117,VK_FORMAT_R64G64B64_SFLOAT:118,VK_FORMAT_R64G64B64A64_UINT:119,VK_FORMAT_R64G64B64A64_SINT:120,VK_FORMAT_R64G64B64A64_SFLOAT:121,VK_FORMAT_B10G11R11_UFLOAT_PACK32:122,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:123,VK_FORMAT_D16_UNORM:124,VK_FORMAT_X8_D24_UNORM_PACK32:125,VK_FORMAT_D32_SFLOAT:126,VK_FORMAT_S8_UINT:127,VK_FORMAT_D16_UNORM_S8_UINT:128,VK_FORMAT_D24_UNORM_S8_UINT:129,VK_FORMAT_D32_SFLOAT_S8_UINT:130,VK_FORMAT_BC1_RGB_UNORM_BLOCK:131,VK_FORMAT_BC1_RGB_SRGB_BLOCK:132,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:133,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:134,VK_FORMAT_BC2_UNORM_BLOCK:135,VK_FORMAT_BC2_SRGB_BLOCK:136,VK_FORMAT_BC3_UNORM_BLOCK:137,VK_FORMAT_BC3_SRGB_BLOCK:138,VK_FORMAT_BC4_UNORM_BLOCK:139,VK_FORMAT_BC4_SNORM_BLOCK:140,VK_FORMAT_BC5_UNORM_BLOCK:141,VK_FORMAT_BC5_SNORM_BLOCK:142,VK_FORMAT_BC6H_UFLOAT_BLOCK:143,VK_FORMAT_BC6H_SFLOAT_BLOCK:144,VK_FORMAT_BC7_UNORM_BLOCK:145,VK_FORMAT_BC7_SRGB_BLOCK:146,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:147,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:148,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:149,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:150,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:151,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:152,VK_FORMAT_EAC_R11_UNORM_BLOCK:153,VK_FORMAT_EAC_R11_SNORM_BLOCK:154,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:155,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:156,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:157,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:158,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:159,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:160,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:161,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:162,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:163,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:164,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:165,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:166,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:167,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:168,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:169,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:170,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:171,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:172,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:173,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:174,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:175,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:176,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:177,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:178,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:179,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:180,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:181,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:182,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:183,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:184,VK_FORMAT_G8B8G8R8_422_UNORM:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM:1000156006,VK_FORMAT_R10X6_UNORM_PACK16:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16:1000156016,VK_FORMAT_R12X4_UNORM_PACK16:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM:1000156033,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:1000054e3,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:1000054001,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:1000054002,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:1000054003,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:1000054004,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:1000054005,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:1000054006,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:1000054007,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:1000066e3,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:1000066001,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:1000066002,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:1000066003,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:1000066004,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:1000066005,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:1000066006,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:1000066007,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:1000066008,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:1000066009,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:1000066010,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:1000066011,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:1000066012,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:1000066013,VK_FORMAT_G8B8G8R8_422_UNORM_KHR:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM_KHR:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR:1000156006,VK_FORMAT_R10X6_UNORM_PACK16_KHR:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR:1000156016,VK_FORMAT_R12X4_UNORM_PACK16_KHR:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM_KHR:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM_KHR:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR:1000156033});var S_=i(14542),T_=i(394822),P_=i(928129),M_=i(481842),A_=i(443987),E_=i(313223),k_=i(180020),I_=i(659892),O_=i(521668),R_=i(662026),B_=i(837253);const D_=function(e){(0,_c.Z)("createWorldTerrain","createWorldTerrain was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use createWorldTerrainAsync instead."),e=(0,p.Z)(e,p.Z.EMPTY_OBJECT);const t=new yp.Z({requestVertexNormals:(0,p.Z)(e.requestVertexNormals,!1),requestWaterMask:(0,p.Z)(e.requestWaterMask,!1)});return t._readyPromise=yp.Z._initializeReadyPromise({url:Um.Z.fromAssetId(1),requestVertexNormals:(0,p.Z)(e.requestVertexNormals,!1),requestWaterMask:(0,p.Z)(e.requestWaterMask,!1)},t),t};var F_=i(670615);function L_(e,t){if(L_.passThroughDataForTesting)return t;Ce.Z.typeOf.object("key",e),Ce.Z.typeOf.object("data",t);const i=e.byteLength;if(0===i||i%4!=0)throw new xe.Z("The length of key must be greater than 0 and a multiple of 4.");const n=new DataView(t),r=n.getUint32(0,!0);if(1953029805===r||2917034100===r)return t;const o=new DataView(e);let s=0;const a=t.byteLength,l=a-a%8,c=i;let u,d=8;for(;s<l;)for(d=(d+8)%24,u=d;s<l&&u<c;)n.setUint32(s,n.getUint32(s,!0)^o.getUint32(u,!0),!0),n.setUint32(s+4,n.getUint32(s+4,!0)^o.getUint32(u+4,!0),!0),s+=8,u+=24;if(s<a)for(u>=c&&(d=(d+8)%24,u=d);s<a;)n.setUint8(s,n.getUint8(s)^o.getUint8(u)),s++,u++}L_.passThroughDataForTesting=!1;const V_=L_;var N_=i(568866),U_=i(89979),G_=i(109650),z_=i(793072),K_=i(638628),q_=i(600587),H_=i(633162),W_=i(233751),j_=i(735513),J_=i(19286),X_=i(532895),$_=i(495066),Y_=i(1263),Q_=i(64479),ey=i(653003),ty=i(830914);const iy=new Y.Z,ny=function(e,t,i,n){const r=(0,R_.Z)(e,t,i,n,iy);return!!(0,f.Z)(r)&&r.x>0&&r.y>0&&r.z>0};var ry=i(664532),oy=i(782289),sy=i(2459),ay=i(495242),ly=i(184273);const cy=function(e){switch(e){case M_.Z.FLOAT:return"float";case M_.Z.FLOAT_VEC2:return"vec2";case M_.Z.FLOAT_VEC3:return"vec3";case M_.Z.FLOAT_VEC4:return"vec4";case M_.Z.FLOAT_MAT2:return"mat2";case M_.Z.FLOAT_MAT3:return"mat3";case M_.Z.FLOAT_MAT4:return"mat4";case M_.Z.SAMPLER_2D:return"sampler2D";case M_.Z.BOOL:return"bool"}},uy=function(e,t,i){if("function"!=typeof t)throw new S.Z("oldFunction is required to be a function.");if("function"!=typeof i)throw new S.Z("oldFunction is required to be a function.");return function(){i.apply(e,arguments),t.apply(e,arguments)}};var dy=i(460162),hy=i(869391),py=i(233122),fy=i(630264),my=i(461108),gy=i(717306);const _y="uniform sampler2D u_noiseTexture;\nuniform vec3 u_noiseTextureDimensions;\nuniform float u_noiseDetail;\nin vec2 v_offset;\nin vec3 v_maximumSize;\nin vec4 v_color;\nin float v_slice;\nin float v_brightness;\n\nfloat wrap(float value, float rangeLength) {\n    if(value < 0.0) {\n        float absValue = abs(value);\n        float modValue = mod(absValue, rangeLength);\n        return mod(rangeLength - modValue, rangeLength);\n    }\n    return mod(value, rangeLength);\n}\n\nvec3 wrapVec(vec3 value, float rangeLength) {\n    return vec3(wrap(value.x, rangeLength),\n                wrap(value.y, rangeLength),\n                wrap(value.z, rangeLength));\n}\n\nvec2 voxelToUV(vec3 voxelIndex) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float noiseTextureRows = u_noiseTextureDimensions.y;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n\n    float textureSliceWidthSquared = textureSliceWidth * textureSliceWidth;\n    vec2 inverseNoiseTextureDimensions = vec2(noiseTextureRows / textureSliceWidthSquared,\n                                            inverseNoiseTextureRows / textureSliceWidth);\n    vec3 wrappedIndex = wrapVec(voxelIndex, textureSliceWidth);\n    float column = mod(wrappedIndex.z, textureSliceWidth * inverseNoiseTextureRows);\n    float row = floor(wrappedIndex.z / textureSliceWidth * noiseTextureRows);\n\n    float xPixelCoord = wrappedIndex.x + column * textureSliceWidth;\n    float yPixelCoord = wrappedIndex.y + row * textureSliceWidth;\n    return vec2(xPixelCoord, yPixelCoord) * inverseNoiseTextureDimensions;\n}\n\n// Interpolate a voxel with its neighbor (along the positive X-axis)\nvec4 lerpSamplesX(vec3 voxelIndex, float x) {\n    vec2 uv0 = voxelToUV(voxelIndex);\n    vec2 uv1 = voxelToUV(voxelIndex + vec3(1.0, 0.0, 0.0));\n    vec4 sample0 = texture(u_noiseTexture, uv0);\n    vec4 sample1 = texture(u_noiseTexture, uv1);\n    return mix(sample0, sample1, x);\n}\n\nvec4 sampleNoiseTexture(vec3 position) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    vec3 recenteredPos = position + vec3(textureSliceWidth / 2.0);\n    vec3 lerpValue = fract(recenteredPos);\n    vec3 voxelIndex = floor(recenteredPos);\n\n    vec4 xLerp00 = lerpSamplesX(voxelIndex, lerpValue.x);\n    vec4 xLerp01 = lerpSamplesX(voxelIndex + vec3(0.0, 0.0, 1.0), lerpValue.x);\n    vec4 xLerp10 = lerpSamplesX(voxelIndex + vec3(0.0, 1.0, 0.0), lerpValue.x);\n    vec4 xLerp11 = lerpSamplesX(voxelIndex + vec3(0.0, 1.0, 1.0), lerpValue.x);\n\n    vec4 yLerp0 = mix(xLerp00, xLerp10, lerpValue.y);\n    vec4 yLerp1 = mix(xLerp01, xLerp11, lerpValue.y);\n    return mix(yLerp0, yLerp1, lerpValue.z);\n}\n\n// Intersection with a unit sphere with radius 0.5 at center (0, 0, 0).\nbool intersectSphere(vec3 origin, vec3 dir, float slice,\n                     out vec3 point, out vec3 normal) {\n    float A = dot(dir, dir);\n    float B = dot(origin, dir);\n    float C = dot(origin, origin) - 0.25;\n    float discriminant = (B * B) - (A * C);\n    if(discriminant < 0.0) {\n        return false;\n    }\n    float root = sqrt(discriminant);\n    float t = (-B - root) / A;\n    if(t < 0.0) {\n        t = (-B + root) / A;\n    }\n    point = origin + t * dir;\n\n    if(slice >= 0.0) {\n        point.z = (slice / 2.0) - 0.5;\n        if(length(point) > 0.5) {\n            return false;\n        }\n    }\n\n    normal = normalize(point);\n    point -= czm_epsilon2 * normal;\n    return true;\n}\n\n// Transforms the ray origin and direction into unit sphere space,\n// then transforms the result back into the ellipsoid's space.\nbool intersectEllipsoid(vec3 origin, vec3 dir, vec3 center, vec3 scale, float slice,\n                        out vec3 point, out vec3 normal) {\n    if(scale.x <= 0.01 || scale.y < 0.01 || scale.z < 0.01) {\n        return false;\n    }\n\n    vec3 o = (origin - center) / scale;\n    vec3 d = dir / scale;\n    vec3 p, n;\n    bool intersected = intersectSphere(o, d, slice, p, n);\n    if(intersected) {\n        point = (p * scale) + center;\n        normal = n;\n    }\n    return intersected;\n}\n\n// Assume that if phase shift is being called for octave i,\n// the frequency is of i - 1. This saves us from doing extra\n// division / multiplication operations.\nvec2 phaseShift2D(vec2 p, vec2 freq) {\n    return (czm_pi / 2.0) * sin(freq.yx * p.yx);\n}\n\nvec2 phaseShift3D(vec3 p, vec2 freq) {\n    return phaseShift2D(p.xy, freq) + czm_pi * vec2(sin(freq.x * p.z));\n}\n\n// The cloud texture function derived from Gardner's 1985 paper,\n// \"Visual Simulation of Clouds.\"\n// https://www.cs.drexel.edu/~david/Classes/Papers/p297-gardner.pdf\nconst float T0    = 0.6;  // contrast of the texture pattern\nconst float k     = 0.1;  // computed to produce a maximum value of 1\nconst float C0    = 0.8;  // coefficient\nconst float FX0   = 0.6;  // frequency X\nconst float FY0   = 0.6;  // frequency Y\nconst int octaves = 5;\n\nfloat T(vec3 point) {\n    vec2 sum = vec2(0.0);\n    float Ci = C0;\n    vec2 FXY = vec2(FX0, FY0);\n    vec2 PXY = vec2(0.0);\n    for(int i = 1; i <= octaves; i++) {\n        PXY = phaseShift3D(point, FXY);\n        Ci *= 0.707;\n        FXY *= 2.0;\n        vec2 sinTerm = sin(FXY * point.xy + PXY);\n        sum += Ci * sinTerm + vec2(T0);\n    }\n    return k * sum.x * sum.y;\n}\n\nconst float a = 0.5;  // fraction of surface reflection due to ambient or scattered light,\nconst float t = 0.4;  // fraction of texture shading\nconst float s = 0.25; // fraction of specular reflection\n\nfloat I(float Id, float Is, float It) {\n    return (1.0 - a) * ((1.0 - t) * ((1.0 - s) * Id + s * Is) + t * It) + a;\n}\n\nconst vec3 lightDir = normalize(vec3(0.2, -1.0, 0.7));\n\nvec4 drawCloud(vec3 rayOrigin, vec3 rayDir, vec3 cloudCenter, vec3 cloudScale, float cloudSlice,\n               float brightness) {\n    vec3 cloudPoint, cloudNormal;\n    if(!intersectEllipsoid(rayOrigin, rayDir, cloudCenter, cloudScale, cloudSlice,\n                            cloudPoint, cloudNormal)) {\n        return vec4(0.0);\n    }\n\n    float Id = clamp(dot(cloudNormal, -lightDir), 0.0, 1.0);  // diffuse reflection\n    float Is = max(pow(dot(-lightDir, -rayDir), 2.0), 0.0);   // specular reflection\n    float It = T(cloudPoint);                                 // texture function\n    float intensity = I(Id, Is, It);\n    vec3 color = vec3(intensity * clamp(brightness, 0.1, 1.0));\n\n    vec4 noise = sampleNoiseTexture(u_noiseDetail * cloudPoint);\n    float W = noise.x;\n    float W2 = noise.y;\n    float W3 = noise.z;\n\n    // The dot product between the cloud's normal and the ray's direction is greatest\n    // in the center of the ellipsoid's surface. It decreases towards the edge.\n    // Thus, it is used to blur the areas leading to the edges of the ellipsoid,\n    // so that no harsh lines appear.\n\n    // The first (and biggest) layer of worley noise is then subtracted from this.\n    // The final result is scaled up so that the base cloud is not too translucent.\n    float ndDot = clamp(dot(cloudNormal, -rayDir), 0.0, 1.0);\n    float TR = pow(ndDot, 3.0) - W; // translucency\n    TR *= 1.3;\n\n    // Subtracting the second and third layers of worley noise is more complicated.\n    // If these layers of noise were simply subtracted from the current translucency,\n    // the shape derived from the first layer of noise would be completely deleted.\n    // The erosion of this noise should thus be constricted to the edges of the cloud.\n    // However, because the edges of the ellipsoid were already blurred away, mapping\n    // the noise to (1.0 - ndDot) will have no impact on most of the cloud's appearance.\n    // The value of (0.5 - ndDot) provides the best compromise.\n    float minusDot = 0.5 - ndDot;\n\n    // Even with the previous calculation, subtracting the second layer of wnoise\n    // erode too much of the cloud. The addition of it, however, will detailed\n    // volume to the cloud. As long as the noise is only added and not subtracted,\n    // the results are aesthetically pleasing.\n\n    // The minusDot product is mapped in a way that it is larger at the edges of\n    // the ellipsoid, so a subtraction and min operation are used instead of\n    // an addition and max one.\n    TR -= min(minusDot * W2, 0.0);\n\n    // The third level of worley noise is subtracted from the result, with some\n    // modifications. First, a scalar is added to minusDot so that the noise\n    // starts affecting the shape farther away from the center of the ellipsoid's\n    // surface. Then, it is scaled down so its impact is not too intense.\n    TR -= 0.8 * (minusDot + 0.25) * W3;\n\n    // The texture function's shading does not correlate with the shape of the cloud\n    // produced by the layers of noise, so an extra shading scalar is calculated.\n    // The darkest areas of the cloud are assigned to be where the noise erodes\n    // the cloud the most. This is then interpolated based on the translucency\n    // and the diffuse shading term of that point in the cloud.\n    float shading = mix(1.0 - 0.8 * W * W, 1.0, Id * TR);\n\n    // To avoid values that are too dark, this scalar is increased by a small amount\n    // and clamped so it never goes to zero.\n    shading = clamp(shading + 0.2, 0.3, 1.0);\n\n    // Finally, the contrast of the cloud's color is increased.\n    vec3 finalColor = mix(vec3(0.5), shading * color, 1.15);\n    return vec4(finalColor, clamp(TR, 0.0, 1.0)) * v_color;\n}\n\nvoid main() {\n#ifdef DEBUG_BILLBOARDS\n    out_FragColor = vec4(0.0, 0.5, 0.5, 1.0);\n#endif\n    // To avoid calculations with high values,\n    // we raycast from an arbitrarily smaller space.\n    vec2 coordinate = v_maximumSize.xy * v_offset;\n\n    vec3 ellipsoidScale = 0.82 * v_maximumSize;\n    vec3 ellipsoidCenter = vec3(0.0);\n\n    float zOffset = max(ellipsoidScale.z - 10.0, 0.0);\n    vec3 eye = vec3(0, 0, -10.0 - zOffset);\n    vec3 rayDir = normalize(vec3(coordinate, 1.0) - eye);\n    vec3 rayOrigin = eye;\n#ifdef DEBUG_ELLIPSOIDS\n    vec3 point, normal;\n    if(intersectEllipsoid(rayOrigin, rayDir, ellipsoidCenter, ellipsoidScale, v_slice,\n                          point, normal)) {\n        out_FragColor = v_brightness * v_color;\n    }\n#else\n#ifndef DEBUG_BILLBOARDS\n    vec4 cloud = drawCloud(rayOrigin, rayDir,\n                           ellipsoidCenter, ellipsoidScale, v_slice, v_brightness);\n    if(cloud.w < 0.01) {\n        discard;\n    }\n    out_FragColor = cloud;\n#endif\n#endif\n}\n",yy="#ifdef INSTANCED\nin vec2 direction;\n#endif\nin vec4 positionHighAndScaleX;\nin vec4 positionLowAndScaleY;\nin vec4 packedAttribute0;\nin vec4 packedAttribute1;\nin vec4 color;\n\nout vec2 v_offset;\nout vec3 v_maximumSize;\nout vec4 v_color;\nout float v_slice;\nout float v_brightness;\n\nvoid main() {\n    // Unpack attributes.\n    vec3 positionHigh = positionHighAndScaleX.xyz;\n    vec3 positionLow = positionLowAndScaleY.xyz;\n    vec2 scale = vec2(positionHighAndScaleX.w, positionLowAndScaleY.w);\n\n    float show = packedAttribute0.x;\n    float brightness = packedAttribute0.y;\n    vec2 coordinates = packedAttribute0.wz;\n    vec3 maximumSize = packedAttribute1.xyz;\n    float slice = packedAttribute1.w;\n\n#ifdef INSTANCED\n    vec2 dir = direction;\n#else\n    vec2 dir = coordinates;\n#endif\n\n    vec2 offset = dir - vec2(0.5, 0.5);\n    vec2 scaledOffset = scale * offset;\n    vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n    vec4 positionEC = czm_modelViewRelativeToEye * p;\n    positionEC.xy += scaledOffset;\n    \n    positionEC.xyz *= show;\n    gl_Position = czm_projection * positionEC;\n\n    v_offset = offset;\n    v_maximumSize = maximumSize;\n    v_color = color;\n    v_slice = slice;\n    v_brightness = brightness;\n}\n",Zy="uniform vec3 u_noiseTextureDimensions;\nuniform float u_noiseDetail;\nuniform vec3 u_noiseOffset;\nin vec2 v_position;\n\nfloat wrap(float value, float rangeLength) {\n    if(value < 0.0) {\n        float absValue = abs(value);\n        float modValue = mod(absValue, rangeLength);\n        return mod(rangeLength - modValue, rangeLength);\n    }\n    return mod(value, rangeLength);\n}\n\nvec3 wrapVec(vec3 value, float rangeLength) {\n    return vec3(wrap(value.x, rangeLength),\n                wrap(value.y, rangeLength),\n                wrap(value.z, rangeLength));\n}\n\nvec3 random3(vec3 p) {\n    float dot1 = dot(p, vec3(127.1, 311.7, 932.8));\n    float dot2 = dot(p, vec3(269.5, 183.3, 421.4));\n    return fract(vec3(sin(dot1 - dot2), cos(dot1 * dot2), dot1 * dot2));\n}\n\n// Frequency corresponds to cell size.\n// The higher the frequency, the smaller the cell size.\nvec3 getWorleyCellPoint(vec3 centerCell, vec3 offset, float freq) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    vec3 cell = centerCell + offset;\n    cell = wrapVec(cell, textureSliceWidth / u_noiseDetail);\n    cell += floor(u_noiseOffset / u_noiseDetail);\n    vec3 p = offset + random3(cell);\n    return p;\n}\n\nfloat worleyNoise(vec3 p, float freq) {\n    vec3 centerCell = floor(p * freq);\n    vec3 pointInCell = fract(p * freq);\n    float shortestDistance = 1000.0;\n\n    for(float z = -1.0; z <= 1.0; z++) {\n        for(float y = -1.0; y <= 1.0; y++) {\n            for(float x = -1.0; x <= 1.0; x++) {\n                vec3 offset = vec3(x, y, z);\n                vec3 point = getWorleyCellPoint(centerCell, offset, freq);\n\n                float distance = length(pointInCell - point);\n                if(distance < shortestDistance) {\n                    shortestDistance = distance;\n                }\n            }\n        }\n    }\n\n    return shortestDistance;\n}\n\nconst float MAX_FBM_ITERATIONS = 10.0;\n\nfloat worleyFBMNoise(vec3 p, float octaves, float scale) {\n    float noise = 0.0;\n    float freq = 1.0;\n    float persistence = 0.625;\n    for(float i = 0.0; i < MAX_FBM_ITERATIONS; i++) {\n        if(i >= octaves) {\n            break;\n        }\n\n        noise += worleyNoise(p * scale, freq * scale) * persistence;\n        persistence *= 0.5;\n        freq *= 2.0;\n    }\n    return noise;\n}\n\nvoid main() {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n    float x = mod(v_position.x, textureSliceWidth);\n    float y = mod(v_position.y, textureSliceWidth);\n    float sliceRow = floor(v_position.y / textureSliceWidth);\n    float z = floor(v_position.x / textureSliceWidth) + sliceRow * inverseNoiseTextureRows * textureSliceWidth;\n\n    vec3 position = vec3(x, y, z);\n    position /= u_noiseDetail;\n    float worley0 = clamp(worleyFBMNoise(position, 3.0, 1.0), 0.0, 1.0);\n    float worley1 = clamp(worleyFBMNoise(position, 3.0, 2.0), 0.0, 1.0);\n    float worley2 = clamp(worleyFBMNoise(position, 3.0, 3.0), 0.0, 1.0);\n    out_FragColor = vec4(worley0, worley1, worley2, 1.0);\n}\n",vy="uniform vec3 u_noiseTextureDimensions;\nin vec2 position;\n\nout vec2 v_position;\n\nvoid main()\n{\n    gl_Position = vec4(position, 0.1, 1.0);\n\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float noiseTextureRows = u_noiseTextureDimensions.y;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n    vec2 transformedPos = (position * 0.5) + vec2(0.5);\n    transformedPos *= textureSliceWidth;\n    transformedPos.x *= textureSliceWidth * inverseNoiseTextureRows;\n    transformedPos.y *= noiseTextureRows;\n    v_position = transformedPos;\n}\n";var by=i(374099),wy=i(538750),xy=i(518077),Cy=i(117125),Sy=i(846153),Ty=i(658638),Py=i(581029),My=i(251964),Ay=i(570482),Ey=i(648167),ky=i(984913),Iy=i(549793),Oy=i(67324),Ry=i(460088),By=i(465918),Dy=i(261731),Fy=i(858178),Ly=i(154742),Vy=i(765306),Ny=i(275652),Uy=i(891624),Gy=i(126587),zy=i(878998),Ky=i(504271),qy=i(927465),Hy=i(921952),Wy=i(935317),jy=i(386216),Jy=i(248480),Xy=i(54506),$y=i(509954),Yy=i(474585),Qy=i(477523),eZ=i(463055),tZ=i(826303),iZ=i(198561),nZ=i(766369),rZ=i(889839),oZ=i(98649);const sZ="\nin vec2 v_textureCoordinates;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n    \n    materialInput.s = v_textureCoordinates.s;\n    materialInput.st = v_textureCoordinates;\n    materialInput.str = vec3(v_textureCoordinates, 0.0);\n    materialInput.normalEC = vec3(0.0, 0.0, -1.0);\n    \n    czm_material material = czm_getMaterial(materialInput);\n\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n}\n";var aZ=i(699989),lZ=i(647830),cZ=i(35034),uZ=i(562258),dZ=i(387421),hZ=i(754659),pZ=i(619597),fZ=i(21372),mZ=i(142458),gZ=i(500903),_Z=i(990199),yZ=i(510957),ZZ=i(749116),vZ=i(738591),bZ=i(636524),wZ=i(882014),xZ=i(888133),CZ=i(905840),SZ=i(163617),TZ=i(734122),PZ=i(429784);const MZ=new Y.Z(1,1,1);function AZ(e){e=(0,p.Z)(e,MZ),Ce.Z.defined("dimensions",e),Ce.Z.typeOf.number.greaterThanOrEquals("dimensions.x",e.x,0),Ce.Z.typeOf.number.greaterThanOrEquals("dimensions.y",e.y,0),Ce.Z.typeOf.number.greaterThanOrEquals("dimensions.z",e.z,0),this._dimensions=Y.Z.clone(e)}Object.defineProperties(AZ.prototype,{dimensions:{get:function(){return this._dimensions},set:function(e){Ce.Z.defined("value",e),Ce.Z.typeOf.number.greaterThanOrEquals("value.x",e.x,0),Ce.Z.typeOf.number.greaterThanOrEquals("value.y",e.y,0),Ce.Z.typeOf.number.greaterThanOrEquals("value.z",e.z,0),Y.Z.clone(e,this._dimensions)}}});const EZ=new Y.Z;AZ.prototype.emit=function(e){const t=this._dimensions,i=Y.Z.multiplyByScalar(t,.5,EZ),n=T.Z.randomBetween(-i.x,i.x),r=T.Z.randomBetween(-i.y,i.y),o=T.Z.randomBetween(-i.z,i.z);e.position=Y.Z.fromElements(n,r,o,e.position),e.velocity=Y.Z.normalize(e.position,e.velocity)};const kZ=AZ;var IZ=i(902738),OZ=i(553575),RZ=i(803350),BZ=i(313022),DZ=i(873888),FZ=i(254947),LZ=i(554354),VZ=i(351234),NZ=i(517348),UZ=i(339522);function GZ(){this.featurePropertiesDirty=!1}Object.defineProperties(GZ.prototype,{featuresLength:{get:function(){S.Z.throwInstantiationError()}},pointsLength:{get:function(){S.Z.throwInstantiationError()}},trianglesLength:{get:function(){S.Z.throwInstantiationError()}},geometryByteLength:{get:function(){S.Z.throwInstantiationError()}},texturesByteLength:{get:function(){S.Z.throwInstantiationError()}},batchTableByteLength:{get:function(){S.Z.throwInstantiationError()}},innerContents:{get:function(){S.Z.throwInstantiationError()}},ready:{get:function(){S.Z.throwInstantiationError()}},readyPromise:{get:function(){S.Z.throwInstantiationError()}},tileset:{get:function(){S.Z.throwInstantiationError()}},tile:{get:function(){S.Z.throwInstantiationError()}},url:{get:function(){S.Z.throwInstantiationError()}},batchTable:{get:function(){S.Z.throwInstantiationError()}},metadata:{get:function(){S.Z.throwInstantiationError()},set:function(e){S.Z.throwInstantiationError()}},group:{get:function(){S.Z.throwInstantiationError()},set:function(e){S.Z.throwInstantiationError()}}}),GZ.prototype.hasProperty=function(e,t){S.Z.throwInstantiationError()},GZ.prototype.getFeature=function(e){S.Z.throwInstantiationError()},GZ.prototype.applyDebugSettings=function(e,t){S.Z.throwInstantiationError()},GZ.prototype.applyStyle=function(e){S.Z.throwInstantiationError()},GZ.prototype.update=function(e,t){S.Z.throwInstantiationError()},GZ.prototype.isDestroyed=function(){S.Z.throwInstantiationError()},GZ.prototype.destroy=function(){S.Z.throwInstantiationError()};const zZ=GZ;var KZ=i(855476),qZ=i(697583),HZ=i(158515),WZ=i(900048),jZ=i(458117),JZ=i(46242),XZ=i(745494),$Z=i(615077),YZ=i(3812),QZ=i(371796),ev=i(767029),tv=i(712824),iv=i(492654),nv=i(13074),rv=i(791873),ov=i(599402);function sv(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._maximumSubtreeCount=(0,p.Z)(e.maximumSubtreeCount,0),this._subtreeRequestCounter=0,this._queue=new Jp.Z({comparator:sv.comparator})}function av(e,t){this.subtree=e,this.stamp=t}sv.prototype.addSubtree=function(e){const t=new av(e,this._subtreeRequestCounter);this._subtreeRequestCounter++,this._queue.insert(t);const i=e.implicitCoordinates;if(i.level>0){const e=i.getParentSubtreeCoordinates();if(void 0===this.find(e))throw new S.Z("parent node needs to exist")}if(this._maximumSubtreeCount>0)for(;this._queue.length>this._maximumSubtreeCount&&this._queue.getMinimum()!==t;)this._queue.removeMinimum()},sv.prototype.find=function(e){const t=this._queue,i=t.internalArray,n=t.length;for(let t=0;t<n;t++){const n=i[t],r=n.subtree.implicitCoordinates;if(e.isEqual(r))return n.subtree}},sv.comparator=function(e,t){const i=e.subtree.implicitCoordinates,n=t.subtree.implicitCoordinates;return i.isAncestor(n)?1:n.isAncestor(i)?-1:e.stamp-t.stamp};const lv=sv;var cv=i(387890),uv=i(981234),dv=i(118454),hv=i(712492),pv=i(254386),fv=i(624350),mv=i(687477),gv=i(48095);function _v(e){Ce.Z.typeOf.object("resource",e),this._resource=e,this._metadataTable=void 0}Object.defineProperties(_v.prototype,{metadataTable:{get:function(){return this._metadataTable}}}),_v.fromJson=async function(e,t,i,n){if(Ce.Z.typeOf.object("resource",e),(0,f.Z)(t)===(0,f.Z)(i))throw new S.Z("One of json and binary must be defined.");let r;r=(0,f.Z)(t)?{json:t,binary:void 0}:function(e){const t=!0,i=new DataView(e.buffer,e.byteOffset);let n=8;const r=i.getUint32(n,t);n+=8;const o=i.getUint32(n,t);n+=8;const s=(0,q_.Z)(e,n,r);n+=r;return{json:s,binary:e.subarray(n,n+o)}}(i);const o=await function(e,t,i){const n=t.buffers.length,r=new Array(n);for(let o=0;o<n;o++){const n=t.buffers[o];if((0,f.Z)(n.uri)){const t=e.getDerivedResource({url:n.uri});r[o]=t.fetchArrayBuffer().then(function(e){return new Uint8Array(e)})}else r[o]=Promise.resolve(i)}return Promise.all(r)}(e,r.json,r.binary),s={},a=r.json.bufferViews.length;for(let e=0;e<a;++e){const t=r.json.bufferViews[e],i=t.byteOffset,n=i+t.byteLength,a=o[t.buffer].subarray(i,n);s[e]=a}const l=r.json.voxelTable,c=r.json.propertyTables[l],u=new _v(e);return u._metadataTable=new gv.Z({count:c.count,properties:c.properties,class:n.classes[c.class],bufferViews:s}),u};const yv=_v;var Zv=i(828884),vv=i(709562);function bv(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._ready=!1,this.shapeTransform=void 0,this.globalTransform=void 0,this.shape=void 0,this.minBounds=void 0,this.maxBounds=void 0,this.dimensions=void 0,this.paddingBefore=void 0,this.paddingAfter=void 0,this.names=void 0,this.types=void 0,this.componentTypes=void 0,this.minimumValues=void 0,this.maximumValues=void 0,this.maximumTileCount=void 0,this._implicitTileset=void 0,this._subtreeCache=new lv;const t=this;let i;(0,f.Z)(e.url)&&((0,_c.Z)("Cesium3DTilesVoxelProvider options.url","Cesium3DTilesVoxelProvider constructor parameter options.url was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use Cesium3DTilesVoxelProvider.fromUrl instead."),this._readyPromise=Promise.resolve(e.url).then(function(e){const n=we.Z.createIfNeeded(e);return n.fetchJson().then(function(e){return i=e,xv(i),Sv(i,n).load()}).then(function(e){const r=i.root,o=r.content.extensions["3DTILES_content_voxels"],s=o.class,a=(0,rv.Z)(i,"3DTILES_metadata")?i.extensions["3DTILES_metadata"]:i,l=e.schema,c=new nv.Z({metadataJson:a,schema:l});Tv(t,c,s);const u=new uv.Z(n,r,l),{shape:d,minBounds:h,maxBounds:p,shapeTransform:m,globalTransform:g}=Cv(r);let _,y;return t.shape=d,t.minBounds=h,t.maxBounds=p,t.dimensions=Y.Z.unpack(o.dimensions),t.shapeTransform=m,t.globalTransform=g,t.maximumTileCount=wv(c),(0,f.Z)(o.padding)&&(_=Y.Z.unpack(o.padding.before),y=Y.Z.unpack(o.padding.after)),t.paddingBefore=_,t.paddingAfter=y,t._implicitTileset=u,fv.Z.unload(e),t._ready=!0,t})}))}function wv(e){if((0,f.Z)(e.tileset))return e.tileset.getPropertyBySemantic(dv.Z.TILESET_TILE_COUNT)}function xv(e){const t=e.root;if(!(0,f.Z)(t.content))throw new xe.Z("Root must have content");if(!(0,rv.Z)(t.content,"3DTILES_content_voxels"))throw new xe.Z("Root tile content must have 3DTILES_content_voxels extension");if(!(0,rv.Z)(t,"3DTILES_implicit_tiling")&&!(0,f.Z)(t.implicitTiling))throw new xe.Z("Root tile must have implicit tiling");if(!(0,f.Z)(e.schema)&&!(0,f.Z)(e.schemaUri)&&!(0,rv.Z)(e,"3DTILES_metadata"))throw new xe.Z("Tileset must have a metadata schema")}function Cv(e){const t=e.boundingVolume;let i;if(i=(0,f.Z)(e.transform)?cp.Z.unpack(e.transform):cp.Z.clone(cp.Z.IDENTITY),(0,f.Z)(t.box))return function(e,t){const i=qf.Z.unpack(e),n=cp.Z.fromRotationTranslation(i.halfAxes,i.center);return{shape:vv.Z.BOX,minBounds:Y.Z.clone(mv.Z.DefaultMinBounds),maxBounds:Y.Z.clone(mv.Z.DefaultMaxBounds),shapeTransform:n,globalTransform:t}}(t.box,i);if((0,f.Z)(t.region))return function(e){const t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=cp.Z.fromScale(oe.Z.WGS84.radii),l=t,c=n,u=i,d=r,h=o,p=s,f=new Y.Z(l,u,h),m=new Y.Z(c,d,p);return{shape:vv.Z.ELLIPSOID,minBounds:f,maxBounds:m,shapeTransform:a,globalTransform:cp.Z.clone(cp.Z.IDENTITY)}}(t.region);if((0,rv.Z)(t,"3DTILES_bounding_volume_cylinder"))return function(e,t){const i=qf.Z.unpack(e),n=cp.Z.fromRotationTranslation(i.halfAxes,i.center);return{shape:vv.Z.CYLINDER,minBounds:Y.Z.clone(Zv.Z.DefaultMinBounds),maxBounds:Y.Z.clone(Zv.Z.DefaultMaxBounds),shapeTransform:n,globalTransform:t}}(t.extensions["3DTILES_bounding_volume_cylinder"].cylinder,i);throw new xe.Z("Only box, region and 3DTILES_bounding_volume_cylinder are supported in Cesium3DTilesVoxelProvider")}function Sv(e,t){const{schemaUri:i,schema:n}=e;return(0,f.Z)(i)?fv.Z.getSchemaLoader({resource:t.getDerivedResource({url:i})}):fv.Z.getSchemaLoader({schema:n})}function Tv(e,t,i){const{schema:n,statistics:r}=t,o=r?.classes[i],s=n.classes[i].properties,a=Object.entries(s).map(([e,t])=>{const{type:i,componentType:n}=t,r=o?.properties[e].min,s=o?.properties[e].max,a=hv.Z.getComponentCount(i);return{id:e,type:i,componentType:n,minValue:Pv(r,a),maxValue:Pv(s,a)}});e.names=a.map(e=>e.id),e.types=a.map(e=>e.type),e.componentTypes=a.map(e=>e.componentType);const l=a.map(e=>e.minValue),c=a.map(e=>e.maxValue),u=l.some(f.Z);e.minimumValues=u?l:void 0,e.maximumValues=u?c:void 0}function Pv(e,t){if(!(0,f.Z)(e))return;const i=Array.isArray(e)?e:[e];return Array.from({length:t},(e,t)=>i[t])}Object.defineProperties(bv.prototype,{readyPromise:{get:function(){return(0,_c.Z)("Cesium3DTilesVoxelProvider.readyPromise","Cesium3DTilesVoxelProvider.readyPromise was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use Cesium3DTilesVoxelProvider.fromUrl instead."),this._readyPromise}},ready:{get:function(){return(0,_c.Z)("Cesium3DTilesVoxelProvider.ready","Cesium3DTilesVoxelProvider.ready was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use Cesium3DTilesVoxelProvider.fromUrl instead."),this._ready}}}),bv.fromUrl=async function(e){Ce.Z.defined("url",e);const t=we.Z.createIfNeeded(e),i=await t.fetchJson();xv(i);const n=Sv(i,t);await n.load();const r=i.root,o=r.content.extensions["3DTILES_content_voxels"],s=o.class,a=(0,rv.Z)(i,"3DTILES_metadata")?i.extensions["3DTILES_metadata"]:i,l=n.schema,c=new nv.Z({metadataJson:a,schema:l}),u=new bv;Tv(u,c,s);const d=new uv.Z(t,r,l),{shape:h,minBounds:p,maxBounds:m,shapeTransform:g,globalTransform:_}=Cv(r);let y,Z;return u.shape=h,u.minBounds=p,u.maxBounds=m,u.dimensions=Y.Z.unpack(o.dimensions),u.shapeTransform=g,u.globalTransform=_,u.maximumTileCount=wv(c),(0,f.Z)(o.padding)&&(y=Y.Z.unpack(o.padding.before),Z=Y.Z.unpack(o.padding.after)),u.paddingBefore=y,u.paddingAfter=Z,u._implicitTileset=d,fv.Z.unload(n),u._ready=!0,u._readyPromise=Promise.resolve(u),u},bv.prototype.requestData=function(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT);const t=(0,p.Z)(e.tileLevel,0),i=(0,p.Z)(e.tileX,0),n=(0,p.Z)(e.tileY,0),r=(0,p.Z)(e.tileZ,0);if(0!==(0,p.Z)(e.keyframe,0))return;const o=this._implicitTileset,s=this.names,a=new cv.Z({subdivisionScheme:o.subdivisionScheme,subtreeLevels:o.subtreeLevels,level:t,x:i,y:n,z:r}),l=a.isSubtreeRoot()&&a.level>0;return async function(e,t){const i=e._implicitTileset,n=e._subtreeCache;let r=n.find(t);if((0,f.Z)(r))return r;const o=i.subtreeUriTemplate.getDerivedResource({templateValues:t.getTemplateValues()}),s=i.baseResource.getDerivedResource({url:o.url}),a=await s.fetchArrayBuffer();if(r=n.find(t),(0,f.Z)(r))return r;const l=(0,pv.Z)(a);return r=await ov.Z.fromSubtreeJson(s,l.jsonPayload,l.binaryPayload,i,t),n.addSubtree(r),r}(this,l?a.getParentSubtreeCoordinates():a.getSubtreeCoordinates()).then(function(e){return(l?e.childSubtreeIsAvailableAtCoordinates(a):e.tileIsAvailableAtCoordinates(a))?async function(e,t){const i=e.contentUriTemplates[0].getDerivedResource({templateValues:t.getTemplateValues()}),n=e.baseResource.getDerivedResource({url:i.url}),r=await n.fetchArrayBuffer(),o=(0,pv.Z)(r);return await yv.fromJson(n,o.jsonPayload,o.binaryPayload,e.metadataSchema)}(o,a):Promise.reject("Tile is not available")}).then(function(e){return s.map(function(t){return e.metadataTable.getPropertyTypedArray(t)})})};const Mv=bv;var Av=i(200742),Ev=i(178028),kv=i(426551),Iv=i(625857),Ov=i(925522),Rv=i(800493),Bv=i(284545),Dv=i(154336);function Fv(e){e=(0,p.Z)(e,1),Ce.Z.typeOf.number.greaterThan("radius",e,0),this._radius=(0,p.Z)(e,1)}Object.defineProperties(Fv.prototype,{radius:{get:function(){return this._radius},set:function(e){Ce.Z.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),Fv.prototype.emit=function(e){const t=T.Z.randomBetween(0,T.Z.TWO_PI),i=T.Z.randomBetween(0,this._radius),n=i*Math.cos(t),r=i*Math.sin(t);e.position=Y.Z.fromElements(n,r,0,e.position),e.velocity=Y.Z.clone(Y.Z.UNIT_Z,e.velocity)};const Lv=Fv;var Vv=i(687521),Nv=i(810316),Uv=i(609921);const Gv={CUMULUS:0,validate:function(e){return e===Gv.CUMULUS}},zv=Object.freeze(Gv);function Kv(e,t){if(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._show=(0,p.Z)(e.show,!0),this._position=Y.Z.clone((0,p.Z)(e.position,Y.Z.ZERO)),!(0,f.Z)(e.scale)&&(0,f.Z)(e.maximumSize))this._maximumSize=Y.Z.clone(e.maximumSize),this._scale=new d.Z(this._maximumSize.x,this._maximumSize.y);else{this._scale=d.Z.clone((0,p.Z)(e.scale,new d.Z(20,12)));const t=new Y.Z(this._scale.x,this._scale.y,Math.min(this._scale.x,this._scale.y)/1.5);this._maximumSize=Y.Z.clone((0,p.Z)(e.maximumSize,t))}this._slice=(0,p.Z)(e.slice,-1),this._color=h.Z.clone((0,p.Z)(e.color,h.Z.WHITE)),this._brightness=(0,p.Z)(e.brightness,1),this._cloudCollection=t,this._index=-1}const qv=Kv.SHOW_INDEX=0,Hv=Kv.POSITION_INDEX=1,Wv=Kv.SCALE_INDEX=2,jv=Kv.MAXIMUM_SIZE_INDEX=3,Jv=Kv.SLICE_INDEX=4,Xv=Kv.BRIGHTNESS_INDEX=5,$v=Kv.COLOR_INDEX=6;function Yv(e,t){const i=e._cloudCollection;(0,f.Z)(i)&&(i._updateCloud(e,t),e._dirty=!0)}Kv.NUMBER_OF_PROPERTIES=7,Object.defineProperties(Kv.prototype,{show:{get:function(){return this._show},set:function(e){Ce.Z.typeOf.bool("value",e),this._show!==e&&(this._show=e,Yv(this,qv))}},position:{get:function(){return this._position},set:function(e){Ce.Z.typeOf.object("value",e);const t=this._position;Y.Z.equals(t,e)||(Y.Z.clone(e,t),Yv(this,Hv))}},scale:{get:function(){return this._scale},set:function(e){Ce.Z.typeOf.object("value",e);const t=this._scale;d.Z.equals(t,e)||(d.Z.clone(e,t),Yv(this,Wv))}},maximumSize:{get:function(){return this._maximumSize},set:function(e){Ce.Z.typeOf.object("value",e);const t=this._maximumSize;Y.Z.equals(t,e)||(Y.Z.clone(e,t),Yv(this,jv))}},color:{get:function(){return this._color},set:function(e){Ce.Z.typeOf.object("value",e);const t=this._color;h.Z.equals(t,e)||(h.Z.clone(e,t),Yv(this,$v))}},slice:{get:function(){return this._slice},set:function(e){Ce.Z.typeOf.number("value",e),this._slice!==e&&(this._slice=e,Yv(this,Jv))}},brightness:{get:function(){return this._brightness},set:function(e){Ce.Z.typeOf.number("value",e),this._brightness!==e&&(this._brightness=e,Yv(this,Xv))}}}),Kv.prototype._destroy=function(){this._cloudCollection=void 0};const Qv=Kv;let eb;const tb=new Y.Z,ib={positionHighAndScaleX:0,positionLowAndScaleY:1,packedAttribute0:2,packedAttribute1:3,color:4},nb={direction:0,positionHighAndScaleX:1,positionLowAndScaleY:2,packedAttribute0:3,packedAttribute1:4,color:5},rb=Qv.SHOW_INDEX,ob=Qv.POSITION_INDEX,sb=Qv.SCALE_INDEX,ab=Qv.MAXIMUM_SIZE_INDEX,lb=Qv.SLICE_INDEX,cb=Qv.BRIGHTNESS_INDEX,ub=Qv.NUMBER_OF_PROPERTIES,db=Qv.COLOR_INDEX;function hb(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._clouds=[],this._cloudsToUpdate=[],this._cloudsToUpdateIndex=0,this._cloudsRemoved=!1,this._createVertexArray=!1,this._propertiesChanged=new Uint32Array(ub),this._noiseTexture=void 0,this._textureSliceWidth=128,this._noiseTextureRows=4,this.noiseDetail=(0,p.Z)(e.noiseDetail,16),this.noiseOffset=Y.Z.clone((0,p.Z)(e.noiseOffset,Y.Z.ZERO)),this._loading=!1,this._ready=!1;const t=this;this._uniforms={u_noiseTexture:function(){return t._noiseTexture},u_noiseTextureDimensions:pb(t),u_noiseDetail:function(){return t.noiseDetail}},this._vaNoise=void 0,this._spNoise=void 0,this._spCreated=!1,this._sp=void 0,this._rs=void 0,this.show=(0,p.Z)(e.show,!0),this._colorCommands=[],this.debugBillboards=(0,p.Z)(e.debugBillboards,!1),this._compiledDebugBillboards=!1,this.debugEllipsoids=(0,p.Z)(e.debugEllipsoids,!1),this._compiledDebugEllipsoids=!1}function pb(e){return function(){return tb.x=e._textureSliceWidth,tb.y=e._noiseTextureRows,tb.z=1/e._noiseTextureRows,tb}}function fb(e){const t=e.length;for(let i=0;i<t;++i)e[i]&&e[i]._destroy()}function mb(e){if(e._cloudsRemoved){e._cloudsRemoved=!1;const t=[],i=e._clouds,n=i.length;for(let e=0,r=0;e<n;++e){const n=i[e];(0,f.Z)(n)&&(i._index=r++,t.push(n))}e._clouds=t}}Object.defineProperties(hb.prototype,{length:{get:function(){return mb(this),this._clouds.length}}}),hb.prototype.add=function(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT);const t=(0,p.Z)(e.cloudType,zv.CUMULUS);if(!zv.validate(t))throw new S.Z("invalid cloud type");let i;return t===zv.CUMULUS&&(i=new Qv(e,this),i._index=this._clouds.length,this._clouds.push(i),this._createVertexArray=!0),i},hb.prototype.remove=function(e){return!!this.contains(e)&&(this._clouds[e._index]=void 0,this._cloudsRemoved=!0,this._createVertexArray=!0,e._destroy(),!0)},hb.prototype.removeAll=function(){fb(this._clouds),this._clouds=[],this._cloudsToUpdate=[],this._cloudsToUpdateIndex=0,this._cloudsRemoved=!1,this._createVertexArray=!0},hb.prototype._updateCloud=function(e,t){e._dirty||(this._cloudsToUpdate[this._cloudsToUpdateIndex++]=e),++this._propertiesChanged[t]},hb.prototype.contains=function(e){return(0,f.Z)(e)&&e._cloudCollection===this},hb.prototype.get=function(e){return Ce.Z.typeOf.number("index",e),mb(this),this._clouds[e]};const gb=new Float32Array([-1,-1,1,-1,1,1,-1,1]),_b=new Uint16Array([0,1,2,0,2,3]);let yb;function Zb(e){let t=e.cache.cloudCollection_indexBufferBatched;if((0,f.Z)(t))return t;const i=new Uint16Array(98298);for(let e=0,t=0;e<98298;e+=6,t+=4)i[e]=t,i[e+1]=t+1,i[e+2]=t+2,i[e+3]=t,i[e+4]=t+2,i[e+5]=t+3;return t=Wd.Z.createIndexBuffer({context:e,typedArray:i,usage:jd.Z.STATIC_DRAW,indexDatatype:zf.Z.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_indexBufferBatched=t,t}function vb(e){let t=e.cache.cloudCollection_indexBufferInstanced;return(0,f.Z)(t)||(t=Wd.Z.createIndexBuffer({context:e,typedArray:new Uint16Array([0,1,2,0,2,3]),usage:jd.Z.STATIC_DRAW,indexDatatype:zf.Z.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_indexBufferInstanced=t),t}function bb(e){let t=e.cache.cloudCollection_vertexBufferInstanced;return(0,f.Z)(t)||(t=Wd.Z.createVertexBuffer({context:e,typedArray:new Float32Array([0,0,1,0,1,1,0,1]),usage:jd.Z.STATIC_DRAW}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_vertexBufferInstanced=t),t}const wb=new lf.Z;function xb(e,t,i,n){let r;const o=i[eb.positionHighAndScaleX],s=i[eb.positionLowAndScaleY],a=n.position;lf.Z.fromCartesian(a,wb);const l=n.scale,c=wb.high,u=wb.low;e._instanced?(r=n._index,o(r,c.x,c.y,c.z,l.x),s(r,u.x,u.y,u.z,l.y)):(r=4*n._index,o(r+0,c.x,c.y,c.z,l.x),o(r+1,c.x,c.y,c.z,l.x),o(r+2,c.x,c.y,c.z,l.x),o(r+3,c.x,c.y,c.z,l.x),s(r+0,u.x,u.y,u.z,l.y),s(r+1,u.x,u.y,u.z,l.y),s(r+2,u.x,u.y,u.z,l.y),s(r+3,u.x,u.y,u.z,l.y))}function Cb(e,t,i,n){let r;const o=i[eb.packedAttribute0],s=n.show,a=n.brightness;e._instanced?(r=n._index,o(r,s,a,0,0)):(r=4*n._index,o(r+0,s,a,0,0),o(r+1,s,a,1,0),o(r+2,s,a,1,1),o(r+3,s,a,0,1))}function Sb(e,t,i,n){let r;const o=i[eb.packedAttribute1],s=n.maximumSize,a=n.slice;e._instanced?(r=n._index,o(r,s.x,s.y,s.z,a)):(r=4*n._index,o(r+0,s.x,s.y,s.z,a),o(r+1,s.x,s.y,s.z,a),o(r+2,s.x,s.y,s.z,a),o(r+3,s.x,s.y,s.z,a))}function Tb(e,t,i,n){let r;const o=i[eb.color],s=n.color,a=h.Z.floatToByte(s.red),l=h.Z.floatToByte(s.green),c=h.Z.floatToByte(s.blue),u=h.Z.floatToByte(s.alpha);e._instanced?(r=n._index,o(r,a,l,c,u)):(r=4*n._index,o(r+0,a,l,c,u),o(r+1,a,l,c,u),o(r+2,a,l,c,u),o(r+3,a,l,c,u))}function Pb(e,t,i,n){xb(e,0,i,n),Cb(e,0,i,n),Sb(e,0,i,n),Tb(e,0,i,n)}const Mb=[];hb.prototype.update=function(e){if(mb(this),!this.show)return;const t=this.debugBillboards||this.debugEllipsoids;this._ready=!!t||(0,f.Z)(this._noiseTexture),this._ready||this._loading||t||function(e,t,i,n){const r=e,o=r._textureSliceWidth,s=r._noiseTextureRows;if(o/s<1||o%s!==0)throw new S.Z("noiseTextureRows must evenly divide textureSliceWidth");const a=t.context;r._vaNoise=function(e){const t=Wd.Z.createVertexBuffer({context:e,typedArray:gb,usage:jd.Z.STATIC_DRAW}),i=Wd.Z.createIndexBuffer({context:e,typedArray:_b,usage:jd.Z.STATIC_DRAW,indexDatatype:zf.Z.UNSIGNED_SHORT}),n=[{index:0,vertexBuffer:t,componentsPerAttribute:2,componentDatatype:kp.Z.FLOAT}];return new Ph.Z({context:e,attributes:n,indexBuffer:i})}(a),r._spNoise=yh.Z.fromCache({context:a,vertexShaderSource:i,fragmentShaderSource:n,attributeLocations:{position:0}});const l=r.noiseDetail,c=r.noiseOffset;r._noiseTexture=new bh.Z({context:a,width:o*o/s,height:o*s,pixelDatatype:ch.Z.UNSIGNED_BYTE,pixelFormat:ug.Z.RGBA,sampler:new ph.Z({wrapS:Sh.Z.REPEAT,wrapT:Sh.Z.REPEAT,minificationFilter:Ch.Z.NEAREST,magnificationFilter:xh.Z.NEAREST})});const u=new Xd.Z({vertexArray:r._vaNoise,shaderProgram:r._spNoise,outputTexture:r._noiseTexture,uniformMap:{u_noiseTextureDimensions:pb(r),u_noiseDetail:function(){return l},u_noiseOffset:function(){return c}},persists:!1,owner:e,postExecute:function(e){r._ready=!0,r._loading=!1}});t.commandList.push(u),r._loading=!0}(this,e,vy,Zy),this._instanced=e.context.instancedArrays,eb=this._instanced?nb:ib,yb=this._instanced?vb:Zb;const i=this._clouds.length,n=this._cloudsToUpdate,r=this._cloudsToUpdateIndex;this._createVertexArray?function(e,t){const i=e,n=t.context;i._createVertexArray=!1,i._vaf=i._vaf&&i._vaf.destroy();const r=e._clouds,o=r.length;if(o>0){i._vaf=function(e,t,i){const n=[{index:eb.positionHighAndScaleX,componentsPerAttribute:4,componentDatatype:kp.Z.FLOAT,usage:jd.Z.STATIC_DRAW},{index:eb.positionLowAndScaleY,componentsPerAttribute:4,componentDatatype:kp.Z.FLOAT,usage:jd.Z.STATIC_DRAW},{index:eb.packedAttribute0,componentsPerAttribute:4,componentDatatype:kp.Z.FLOAT,usage:jd.Z.STATIC_DRAW},{index:eb.packedAttribute1,componentsPerAttribute:4,componentDatatype:kp.Z.FLOAT,usage:jd.Z.STATIC_DRAW},{index:eb.color,componentsPerAttribute:4,componentDatatype:kp.Z.UNSIGNED_BYTE,normalize:!0,usage:jd.Z.STATIC_DRAW}];i&&n.push({index:eb.direction,componentsPerAttribute:2,componentDatatype:kp.Z.FLOAT,vertexBuffer:bb(e)});const r=i?t:4*t;return new Mh.Z(e,n,r,i)}(n,o,i._instanced);const t=i._vaf.writers;let s;for(s=0;s<o;++s)Pb(e,0,t,r[s]);i._vaf.commit(yb(n))}}(this,e):r>0&&function(e,t){const i=t.context,n=e,r=n._clouds.length,o=n._cloudsToUpdate,s=n._cloudsToUpdateIndex,a=n._propertiesChanged,l=Mb;l.length=0,(a[ob]||a[sb])&&l.push(xb),(a[rb]||a[cb])&&l.push(Cb),(a[ab]||a[lb])&&l.push(Sb),a[db]&&l.push(Tb);const c=l.length,u=n._vaf.writers;let d,h,p;if(s/r>.1){for(d=0;d<s;++d)for(h=o[d],h._dirty=!1,p=0;p<c;++p)l[p](e,t,u,h);n._vaf.commit(yb(i))}else{for(d=0;d<s;++d){for(h=o[d],h._dirty=!1,p=0;p<c;++p)l[p](e,t,u,h);n._instanced?n._vaf.subCommit(h._index,1):n._vaf.subCommit(4*h._index,4)}n._vaf.endSubCommits()}n._cloudsToUpdateIndex=0}(this,e),r>1.5*i&&(n.length=i),!(0,f.Z)(this._vaf)||!(0,f.Z)(this._vaf.va)||!this._ready&!t||(this._spCreated&&this.debugBillboards===this._compiledDebugBillboards&&this.debugEllipsoids===this._compiledDebugEllipsoids||function(e,t,i,n){const r=t.context,o=e,s=new Zh.Z({defines:[],sources:[i]});o._instanced&&s.defines.push("INSTANCED");const a=new Zh.Z({defines:[],sources:[n]});o.debugBillboards&&a.defines.push("DEBUG_BILLBOARDS"),o.debugEllipsoids&&a.defines.push("DEBUG_ELLIPSOIDS"),o._sp=yh.Z.replaceCache({context:r,shaderProgram:o._sp,vertexShaderSource:s,fragmentShaderSource:a,attributeLocations:eb}),o._rs=uh.Z.fromCache({depthTest:{enabled:!0,func:M_.Z.LESS},depthMask:!1,blending:PZ.Z.ALPHA_BLEND}),o._spCreated=!0,o._compiledDebugBillboards=o.debugBillboards,o._compiledDebugEllipsoids=o.debugEllipsoids}(this,e,yy,_y),function(e,t){const i=e,n=t.passes,r=i._uniforms,o=t.commandList;if(n.render){const t=i._colorCommands,n=i._vaf.va,s=n.length;t.length=s;for(let a=0;a<s;a++){let s=t[a];(0,f.Z)(s)||(s=t[a]=new ih.Z),s.pass=ah.Z.TRANSLUCENT,s.owner=e,s.uniformMap=r,s.count=n[a].indicesCount,s.vertexArray=n[a].va,s.shaderProgram=i._sp,s.renderState=i._rs,i._instanced&&(s.count=6,s.instanceCount=i._clouds.length),o.push(s)}}}(this,e))},hb.prototype.isDestroyed=function(){return!1},hb.prototype.destroy=function(){return this._noiseTexture=this._noiseTexture&&this._noiseTexture.destroy(),this._sp=this._sp&&this._sp.destroy(),this._vaf=this._vaf&&this._vaf.destroy(),fb(this._clouds),(0,v_.Z)(this)};const Ab=hb;var Eb=i(957615),kb=i(23974);const Ib=T.Z.toRadians(30);function Ob(e){this._angle=(0,p.Z)(e,Ib)}Object.defineProperties(Ob.prototype,{angle:{get:function(){return this._angle},set:function(e){Ce.Z.typeOf.number("value",e),this._angle=e}}}),Ob.prototype.emit=function(e){const t=Math.tan(this._angle),i=T.Z.randomBetween(0,T.Z.TWO_PI),n=T.Z.randomBetween(0,t),r=n*Math.cos(i),o=n*Math.sin(i);e.velocity=Y.Z.fromElements(r,o,1,e.velocity),Y.Z.normalize(e.velocity,e.velocity),e.position=Y.Z.clone(Y.Z.ZERO,e.position)};const Rb=Ob;var Bb=i(878606),Db=i(700112),Fb=i(592005);function Lb(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).attributeName;let i=e.perInstanceAttribute;if(!(0,f.Z)(t))throw new S.Z("options.attributeName is required.");(0,f.Z)(i)||(i=!1);let n=(0,p.Z)(e.glslDatatype,"vec3");const r=`v_${t}`;let o;if("normal"===t||"tangent"===t||"bitangent"===t)o=`vec4 getColor() { return vec4((${r} + vec3(1.0)) * 0.5, 1.0); }\n`;else switch("st"===t&&(n="vec2"),n){case"float":o=`vec4 getColor() { return vec4(vec3(${r}), 1.0); }\n`;break;case"vec2":o=`vec4 getColor() { return vec4(${r}, 0.0, 1.0); }\n`;break;case"vec3":o=`vec4 getColor() { return vec4(${r}, 1.0); }\n`;break;case"vec4":o=`vec4 getColor() { return ${r}; }\n`;break;default:throw new S.Z("options.glslDatatype must be float, vec2, vec3, or vec4.")}const s=`in vec3 position3DHigh;\nin vec3 position3DLow;\nin float batchId;\n${i?"":`in ${n} ${t};\n`}out ${n} ${r};\nvoid main()\n{\nvec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n${i?`${r} = czm_batchTable_${t}(batchId);\n`:`${r} = ${t};\n`}gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}`,a=`in ${n} ${r};\n${o}\nvoid main()\n{\nout_FragColor = getColor();\n}`;this.material=void 0,this.translucent=(0,p.Z)(e.translucent,!1),this._vertexShaderSource=(0,p.Z)(e.vertexShaderSource,s),this._fragmentShaderSource=(0,p.Z)(e.fragmentShaderSource,a),this._renderState=cZ.Z.getDefaultRenderState(!1,!1,e.renderState),this._closed=(0,p.Z)(e.closed,!1),this._attributeName=t,this._glslDatatype=n}Object.defineProperties(Lb.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},attributeName:{get:function(){return this._attributeName}},glslDatatype:{get:function(){return this._glslDatatype}}}),Lb.prototype.getFragmentShaderSource=cZ.Z.prototype.getFragmentShaderSource,Lb.prototype.isTranslucent=cZ.Z.prototype.isTranslucent,Lb.prototype.getRenderState=cZ.Z.prototype.getRenderState;const Vb=Lb;var Nb=i(59539),Ub=i(82822),Gb=i(955117),zb=i(118596);function Kb(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this.length=(0,p.Z)(e.length,1e7),this._length=void 0,this.width=(0,p.Z)(e.width,2),this._width=void 0,this.show=(0,p.Z)(e.show,!0),this.modelMatrix=cp.Z.clone((0,p.Z)(e.modelMatrix,cp.Z.IDENTITY)),this._modelMatrix=new cp.Z,this.id=e.id,this._id=void 0,this._primitive=void 0}Kb.prototype.update=function(e){if(this.show){if(!(0,f.Z)(this._primitive)||!cp.Z.equals(this._modelMatrix,this.modelMatrix)||this._length!==this.length||this._width!==this.width||this._id!==this.id){this._modelMatrix=cp.Z.clone(this.modelMatrix,this._modelMatrix),this._length=this.length,this._width=this.width,this._id=this.id,(0,f.Z)(this._primitive)&&this._primitive.destroy(),0===this.modelMatrix[12]&&0===this.modelMatrix[13]&&0===this.modelMatrix[14]&&(this.modelMatrix[14]=.01);const e=new bf.Z({geometry:new yg.Z({positions:[Y.Z.ZERO,Y.Z.UNIT_X],width:this.width,vertexFormat:Gb.Z.VERTEX_FORMAT,colors:[h.Z.RED,h.Z.RED],arcType:X.Z.NONE}),modelMatrix:cp.Z.multiplyByUniformScale(this.modelMatrix,this.length,new cp.Z),id:this.id,pickPrimitive:this}),t=new bf.Z({geometry:new yg.Z({positions:[Y.Z.ZERO,Y.Z.UNIT_Y],width:this.width,vertexFormat:Gb.Z.VERTEX_FORMAT,colors:[h.Z.GREEN,h.Z.GREEN],arcType:X.Z.NONE}),modelMatrix:cp.Z.multiplyByUniformScale(this.modelMatrix,this.length,new cp.Z),id:this.id,pickPrimitive:this}),i=new bf.Z({geometry:new yg.Z({positions:[Y.Z.ZERO,Y.Z.UNIT_Z],width:this.width,vertexFormat:Gb.Z.VERTEX_FORMAT,colors:[h.Z.BLUE,h.Z.BLUE],arcType:X.Z.NONE}),modelMatrix:cp.Z.multiplyByUniformScale(this.modelMatrix,this.length,new cp.Z),id:this.id,pickPrimitive:this});this._primitive=new zb.Z({geometryInstances:[e,t,i],appearance:new Gb.Z,asynchronous:!1})}this._primitive.update(e)}},Kb.prototype.isDestroyed=function(){return!1},Kb.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),(0,v_.Z)(this)};const qb=Kb;var Hb=i(553958),Wb=i(48593),jb=i(368628),Jb=i(810881);const Xb=function(e){if(Ce.Z.typeOf.object("options",e),Ce.Z.typeOf.object("options.direction",e.direction),Y.Z.equals(e.direction,Y.Z.ZERO))throw new S.Z("options.direction cannot be zero-length");this.direction=Y.Z.clone(e.direction),this.color=h.Z.clone((0,p.Z)(e.color,h.Z.WHITE)),this.intensity=(0,p.Z)(e.intensity,1)};var $b=i(363335),Yb=i(569462),Qb=i(455217),ew=i(845539);const tw="in vec3 v_positionMC;\nin vec3 v_positionEC;\nin vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    // Convert tangent space material normal to eye space\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n    // Convert view vector to world space\n    vec3 positionToEyeEC = -v_positionEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n",iw="in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec2 st;\nin float batchId;\n\nout vec3 v_positionMC;\nout vec3 v_positionEC;\nout vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionMC = position3DHigh + position3DLow;           // position in model coordinates\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;     // position in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n";var nw=i(909211);function rw(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT);const t=(0,p.Z)(e.translucent,!0),i=(0,p.Z)(e.aboveGround,!1);this.material=(0,f.Z)(e.material)?e.material:nw.Z.fromType(nw.Z.ColorType),this.translucent=(0,p.Z)(e.translucent,!0),this._vertexShaderSource=(0,p.Z)(e.vertexShaderSource,iw),this._fragmentShaderSource=(0,p.Z)(e.fragmentShaderSource,tw),this._renderState=cZ.Z.getDefaultRenderState(t,!i,e.renderState),this._closed=!1,this._flat=(0,p.Z)(e.flat,!1),this._faceForward=(0,p.Z)(e.faceForward,i),this._aboveGround=i}Object.defineProperties(rw.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return rw.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),rw.VERTEX_FORMAT=vp.Z.POSITION_AND_ST,rw.prototype.getFragmentShaderSource=cZ.Z.prototype.getFragmentShaderSource,rw.prototype.isTranslucent=cZ.Z.prototype.isTranslucent,rw.prototype.getRenderState=cZ.Z.prototype.getRenderState;const ow=rw;var sw=i(770621),aw=i(958869),lw=i(675049),cw=i(523124);function uw(e){if(!(0,f.Z)(e)||!(0,f.Z)(e.scene))throw new S.Z("options.scene is required.");this._scene=e.scene,this.samplingWindow=(0,p.Z)(e.samplingWindow,uw.defaultSettings.samplingWindow),this.quietPeriod=(0,p.Z)(e.quietPeriod,uw.defaultSettings.quietPeriod),this.warmupPeriod=(0,p.Z)(e.warmupPeriod,uw.defaultSettings.warmupPeriod),this.minimumFrameRateDuringWarmup=(0,p.Z)(e.minimumFrameRateDuringWarmup,uw.defaultSettings.minimumFrameRateDuringWarmup),this.minimumFrameRateAfterWarmup=(0,p.Z)(e.minimumFrameRateAfterWarmup,uw.defaultSettings.minimumFrameRateAfterWarmup),this._lowFrameRate=new m.Z,this._nominalFrameRate=new m.Z,this._frameTimes=[],this._needsQuietPeriod=!0,this._quietPeriodEndTime=0,this._warmupPeriodEndTime=0,this._frameRateIsLow=!1,this._lastFramesPerSecond=void 0,this._pauseCount=0;const t=this;this._preUpdateRemoveListener=this._scene.preUpdate.addEventListener(function(e,i){!function(e){if(e._pauseCount>0)return;const t=(0,ps.Z)();if(e._needsQuietPeriod)e._needsQuietPeriod=!1,e._frameTimes.length=0,e._quietPeriodEndTime=t+e.quietPeriod/o_.Z.SECONDS_PER_MILLISECOND,e._warmupPeriodEndTime=e._quietPeriodEndTime+(e.warmupPeriod+e.samplingWindow)/o_.Z.SECONDS_PER_MILLISECOND;else if(t>=e._quietPeriodEndTime){e._frameTimes.push(t);const i=t-e.samplingWindow/o_.Z.SECONDS_PER_MILLISECOND;if(e._frameTimes.length>=2&&e._frameTimes[0]<=i){for(;e._frameTimes.length>=2&&e._frameTimes[1]<i;)e._frameTimes.shift();const n=(t-e._frameTimes[0])/(e._frameTimes.length-1);e._lastFramesPerSecond=1e3/n,n>1e3/(t>e._warmupPeriodEndTime?e.minimumFrameRateAfterWarmup:e.minimumFrameRateDuringWarmup)?e._frameRateIsLow||(e._frameRateIsLow=!0,e._needsQuietPeriod=!0,e.lowFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond)):e._frameRateIsLow&&(e._frameRateIsLow=!1,e._needsQuietPeriod=!0,e.nominalFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond))}}}(t)}),this._hiddenPropertyName=void 0!==document.hidden?"hidden":void 0!==document.mozHidden?"mozHidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":void 0;const i=void 0!==document.hidden?"visibilitychange":void 0!==document.mozHidden?"mozvisibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":void 0;function n(){var e;e=t,document[e._hiddenPropertyName]?e.pause():e.unpause()}this._visibilityChangeRemoveListener=void 0,(0,f.Z)(i)&&(document.addEventListener(i,n,!1),this._visibilityChangeRemoveListener=function(){document.removeEventListener(i,n,!1)})}uw.defaultSettings={samplingWindow:5,quietPeriod:2,warmupPeriod:5,minimumFrameRateDuringWarmup:4,minimumFrameRateAfterWarmup:8},uw.fromScene=function(e){if(!(0,f.Z)(e))throw new S.Z("scene is required.");return(0,f.Z)(e._frameRateMonitor)&&!e._frameRateMonitor.isDestroyed()||(e._frameRateMonitor=new uw({scene:e})),e._frameRateMonitor},Object.defineProperties(uw.prototype,{scene:{get:function(){return this._scene}},lowFrameRate:{get:function(){return this._lowFrameRate}},nominalFrameRate:{get:function(){return this._nominalFrameRate}},lastFramesPerSecond:{get:function(){return this._lastFramesPerSecond}}}),uw.prototype.pause=function(){++this._pauseCount,1===this._pauseCount&&(this._frameTimes.length=0,this._lastFramesPerSecond=void 0)},uw.prototype.unpause=function(){--this._pauseCount,this._pauseCount<=0&&(this._pauseCount=0,this._needsQuietPeriod=!0)},uw.prototype.isDestroyed=function(){return!1},uw.prototype.destroy=function(){return this._preUpdateRemoveListener(),(0,f.Z)(this._visibilityChangeRemoveListener)&&this._visibilityChangeRemoveListener(),(0,v_.Z)(this)};const dw=uw;var hw=i(547985),pw=i(745448),fw=i(56623),mw=i(845581),gw=i(370328),_w=i(74992),yw=i(975744),Zw=i(444769),vw=i(767561),bw=i(94646),ww=i(893336),xw=i(276343),Cw=i(50094),Sw=i(925979),Tw=i(578745),Pw=i(967451),Mw=i(668530),Aw=i(369522),Ew=i(4177),kw=i(617161),Iw=i(735970),Ow=i(889458);function Rw(){this._image=new Image}function Bw(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0,this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=new Bh.Z({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new ve.Z(-T.Z.PI,-T.Z.PI,T.Z.PI,T.Z.PI),ellipsoid:e.ellipsoid});let t=e.credit;"string"==typeof t&&(t=new ne.Z(t)),this._credit=t,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=23,(0,f.Z)(this._tileDiscardPolicy)||(this._tileDiscardPolicy=new Rw),this._errorEvent=new m.Z,this._ready=!1;const i=this;let n,r;if((0,f.Z)(e.url)){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead.");const t=we.Z.createIfNeeded(e.url);r=new Gf(t)}(0,f.Z)(e.metadata)&&((0,_c.Z)("GoogleEarthEnterpriseImageryProvider options.metadata","options.metadata was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead."),r=e.metadata),this._metadata=r,(0,f.Z)(r)&&(this._readyPromise=r.readyPromise.then(function(e){if(!r.imageryPresent){const e=new xe.Z(`The server ${r.url} doesn't have imagery`);return n=zh.Z.reportError(n,i,i._errorEvent,e.message,void 0,void 0,void 0,e),Promise.reject(e)}return zh.Z.reportSuccess(n),i._ready=e,e}).catch(function(e){return n=zh.Z.reportError(n,i,i._errorEvent,e.message,void 0,void 0,void 0,e),Promise.reject(e)}))}Rw.prototype.isReady=function(){return!0},Rw.prototype.shouldDiscardImage=function(e){return e===this._image},Object.defineProperties(Bw.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.ready","GoogleEarthEnterpriseImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107. Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead."),this._ready}},readyPromise:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.readyPromise","GoogleEarthEnterpriseImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107. Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead."),this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!1}},defaultAlpha:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultAlpha","GoogleEarthEnterpriseImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultAlpha","GoogleEarthEnterpriseImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultNightAlpha","GoogleEarthEnterpriseImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultNightAlpha","GoogleEarthEnterpriseImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultDayAlpha","GoogleEarthEnterpriseImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultDayAlpha","GoogleEarthEnterpriseImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultBrightness","GoogleEarthEnterpriseImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultBrightness","GoogleEarthEnterpriseImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultContrast","GoogleEarthEnterpriseImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultContrast","GoogleEarthEnterpriseImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultHue","GoogleEarthEnterpriseImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultHue","GoogleEarthEnterpriseImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultSaturation","GoogleEarthEnterpriseImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultSaturation","GoogleEarthEnterpriseImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultGamma","GoogleEarthEnterpriseImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultGamma","GoogleEarthEnterpriseImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,_c.Z)("GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),Bw.fromMetadata=function(e,t){if(Ce.Z.defined("metadata",e),!e.imageryPresent)throw new xe.Z(`The server ${e.url} doesn't have imagery`);const i=new Bw(t);return i._metadata=e,i._ready=!0,i._readyPromise=Promise.resolve(!0),i},Bw.prototype.getTileCredits=function(e,t,i){const n=this._metadata,r=n.getTileInformation(e,t,i);if((0,f.Z)(r)){const e=n.providers[r.imageryProvider];if((0,f.Z)(e))return[e]}},Bw.prototype.requestImage=function(e,t,i,n){const r=this._tileDiscardPolicy._image,o=this._metadata,s=Gf.tileXYToQuadKey(e,t,i),a=o.getTileInformation(e,t,i);if(!(0,f.Z)(a)){if(o.isValid(s)){const r=new Lh.Z({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction});return void o.populateSubtree(e,t,i,r)}return Promise.resolve(r)}if(!a.hasImagery())return Promise.resolve(r);const l=function(e,t,i,n,r,o){const s=Gf.tileXYToQuadKey(i,n,r);let a=t.imageryVersion;return a=(0,f.Z)(a)&&a>0?a:1,e._metadata.resource.getDerivedResource({url:`flatfile?f1-0${s}-i.${a.toString()}`,request:o})}(this,a,e,t,i,n).fetchArrayBuffer();return(0,f.Z)(l)?l.then(function(e){V_(o.key,e);let t,i=new Uint8Array(e);const n=o.protoImagery;if((0,f.Z)(n)&&n||(t=function(e){const t="JFIF";if(e[6]===t.charCodeAt(0)&&e[7]===t.charCodeAt(1)&&e[8]===t.charCodeAt(2)&&e[9]===t.charCodeAt(3))return"image/jpeg";const i="PNG";return e[1]===i.charCodeAt(0)&&e[2]===i.charCodeAt(1)&&e[3]===i.charCodeAt(2)?"image/png":void 0}(i)),!(0,f.Z)(t)&&(!(0,f.Z)(n)||n)){const e=function(e){const t=Tf.Reader.create(e),i=t.len,n={};for(;t.pos<i;){const e=t.uint32();let i;switch(e>>>3){case 1:n.imageType=t.uint32();break;case 2:n.imageData=t.bytes();break;case 3:n.alphaType=t.uint32();break;case 4:n.imageAlpha=t.bytes();break;case 5:if(i=n.copyrightIds,(0,f.Z)(i)||(i=n.copyrightIds=[]),2==(7&e)){const e=t.uint32()+t.pos;for(;t.pos<e;)i.push(t.uint32())}else i.push(t.uint32());break;default:t.skipType(7&e)}}const r=n.imageType;if((0,f.Z)(r))switch(r){case 0:n.imageType="image/jpeg";break;case 4:n.imageType="image/png";break;default:throw new xe.Z("GoogleEarthEnterpriseImageryProvider: Unsupported image type.")}const o=n.alphaType;return(0,f.Z)(o)&&0!==o&&(console.log("GoogleEarthEnterpriseImageryProvider: External alpha not supported."),delete n.alphaType,delete n.imageAlpha),n}(i);t=e.imageType,i=e.imageData}return(0,f.Z)(t)&&(0,f.Z)(i)?(0,Y_.Z)({uint8Array:i,format:t,flipY:!0}):r}):void 0},Bw.prototype.pickFeatures=function(e,t,i,n,r){};const Dw=Bw;var Fw=i(331116);const Lw=new h.Z(1,1,1,.4),Vw=new h.Z(0,1,0,.05),Nw=new h.Z(0,.5,0,.2);function Uw(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0,this._tilingScheme=(0,f.Z)(e.tilingScheme)?e.tilingScheme:new Bh.Z({ellipsoid:e.ellipsoid}),this._cells=(0,p.Z)(e.cells,8),this._color=(0,p.Z)(e.color,Lw),this._glowColor=(0,p.Z)(e.glowColor,Vw),this._glowWidth=(0,p.Z)(e.glowWidth,6),this._backgroundColor=(0,p.Z)(e.backgroundColor,Nw),this._errorEvent=new m.Z,this._tileWidth=(0,p.Z)(e.tileWidth,256),this._tileHeight=(0,p.Z)(e.tileHeight,256),this._canvasSize=(0,p.Z)(e.canvasSize,256),this._canvas=this._createGridCanvas(),this._ready=!0,this._readyPromise=Promise.resolve(!0)}Object.defineProperties(Uw.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,_c.Z)("GridImageryProvider.ready","GridImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),!0}},readyPromise:{get:function(){return(0,_c.Z)("GridImageryProvider.readyPromise","GridImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}},defaultAlpha:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultAlpha","GridImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,_c.Z)("GridImageryProvider.defaultAlpha","GridImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultNightAlpha","GridImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha},set:function(e){(0,_c.Z)("GridImageryProvider.defaultNightAlpha","GridImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultDayAlpha","GridImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,_c.Z)("GridImageryProvider.defaultDayAlpha","GridImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultBrightness","GridImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,_c.Z)("GridImageryProvider.defaultBrightness","GridImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultContrast","GridImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,_c.Z)("GridImageryProvider.defaultContrast","GridImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultHue","GridImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,_c.Z)("GridImageryProvider.defaultHue","GridImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultSaturation","GridImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,_c.Z)("GridImageryProvider.defaultSaturation","GridImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultGamma","GridImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,_c.Z)("GridImageryProvider.defaultGamma","GridImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultMinificationFilter","GridImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,_c.Z)("GridImageryProvider.defaultMinificationFilter","GridImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,_c.Z)("GridImageryProvider.defaultMagnificationFilter","GridImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,_c.Z)("GridImageryProvider.defaultMagnificationFilter","GridImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),Uw.prototype._drawGrid=function(e){const t=this._canvasSize;for(let i=0;i<=this._cells;++i){const n=1+i/this._cells*(t-1);e.moveTo(n,0),e.lineTo(n,t),e.moveTo(0,n),e.lineTo(t,n)}e.stroke()},Uw.prototype._createGridCanvas=function(){const e=document.createElement("canvas");e.width=this._canvasSize,e.height=this._canvasSize;const t=this._canvasSize,i=e.getContext("2d"),n=this._backgroundColor.toCssColorString();i.fillStyle=n,i.fillRect(0,0,t,t);const r=this._glowColor.toCssColorString();i.strokeStyle=r,i.lineWidth=this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i),i.lineWidth=.5*this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i);const o=this._color.toCssColorString();return i.strokeStyle=o,i.lineWidth=2,i.strokeRect(0,0,t,t),i.lineWidth=1,this._drawGrid(i),e},Uw.prototype.getTileCredits=function(e,t,i){},Uw.prototype.requestImage=function(e,t,i,n){return Promise.resolve(this._canvas)},Uw.prototype.pickFeatures=function(e,t,i,n,r){};const Gw=Uw;var zw=i(837546),Kw=i(518982),qw=i(829861);function Hw(e,t){this._parent=e,this._dataProvider=e._dataProvider,this._layer=e._layer,(0,f.Z)(this._parent._nodeIndex)?this._resource=this._parent._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.attribute.resource}/${t}`}):this._resource=this._parent.resource.getDerivedResource({url:t})}Object.defineProperties(Hw.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}}}),Hw.prototype.load=async function(){return this._data=await xx.loadJson(this._resource,this._dataProvider._traceFetches),this._data};const Ww=Hw;function jw(e,t){this._storageInfo=t,this._parent=e,this._dataProvider=e._dataProvider;const i=`attributes/${t.key}/0`;(0,f.Z)(this._parent._nodeIndex)?this._resource=this._parent._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.attribute.resource}/${i}`}):this._resource=this._parent.resource.getDerivedResource({url:i})}Object.defineProperties(jw.prototype,{resource:{get:function(){return this._resource}},header:{get:function(){return this._header}},values:{get:function(){return(0,f.Z)(this._values)&&(0,f.Z)(this._values.attributeValues)?this._values.attributeValues:[]}},name:{get:function(){return this._storageInfo.name}}}),jw.prototype.load=function(){const e=this;return this._dataProvider._loadBinary(this._resource).then(function(t){const i=new DataView(t);let n=!0;if(i.getUint8(0)==="{".charCodeAt(0)&&(new TextDecoder).decode(t).includes("404")&&(n=!1,console.error(`Failed to load: ${e.resource.url}`)),n){e._data=t;let n=e._parseHeader(i);const o="UInt8"===(r=e._storageInfo.attributeValues.valueType)||"Int8"===r?1:"UInt16"===r||"Int16"===r?2:"UInt32"===r||"Int32"===r||"Oid32"===r||"Float32"===r?4:"UInt64"===r||"Int64"===r||"Float64"===r?8:0;o>0&&(n=Math.ceil(n/o)*o),e._parseBody(i,n)}var r})},jw.prototype._parseValue=function(e,t,i){let n;if("UInt8"===t)n=e.getUint8(i),i+=1;else if("Int8"===t)n=e.getInt8(i),i+=1;else if("UInt16"===t)n=e.getUint16(i,!0),i+=2;else if("Int16"===t)n=e.getInt16(i,!0),i+=2;else if("UInt32"===t)n=e.getUint32(i,!0),i+=4;else if("Oid32"===t)n=e.getUint32(i,!0),i+=4;else if("Int32"===t)n=e.getInt32(i,!0),i+=4;else if("UInt64"===t){const t=e.getUint32(i,!0),r=e.getUint32(i+4,!0);n=t+Math.pow(2,32)*r,i+=8}else if("Int64"===t){const t=e.getUint32(i,!0),r=e.getUint32(i+4,!0);n=r<Math.pow(2,31)?t+Math.pow(2,32)*r:t+Math.pow(2,32)*(r-Math.pow(2,32)),i+=8}else"Float32"===t?(n=e.getFloat32(i,!0),i+=4):"Float64"===t?(n=e.getFloat64(i,!0),i+=8):"String"===t&&(n=String.fromCharCode(e.getUint8(i)),i+=1);return{value:n,offset:i}},jw.prototype._parseHeader=function(e){let t=0;this._header={};for(let i=0;i<this._storageInfo.header.length;i++){const n=this._storageInfo.header[i],r=this._parseValue(e,n.valueType,t);this._header[n.property]=r.value,t=r.offset}return t},jw.prototype._parseBody=function(e,t){this._values={};for(let i=0;i<this._storageInfo.ordering.length;i++){const n=this._storageInfo.ordering[i],r=this._storageInfo[n];if((0,f.Z)(r)){this._values[n]=[];for(let i=0;i<this._header.count;++i)if("String"!==r.valueType){const i=this._parseValue(e,r.valueType,t);this._values[n].push(i.value),t=i.offset}else{const o=this._values.attributeByteCounts[i];let s="";for(let i=0;i<o;++i){const i=this._parseValue(e,r.valueType,t);0!==i.value.charCodeAt(0)&&(s+=i.value),t=i.offset}this._values[n].push(s)}}}};const Jw=jw;function Xw(e,t){const i=e._dataProvider,n=e._layer;let r;r=(0,f.Z)(e._nodeIndex)?n.resource.getDerivedResource({url:`nodes/${e._data.mesh.geometry.resource}/${t}`}):e.resource.getDerivedResource({url:t}),this._parent=e,this._dataProvider=i,this._layer=n,this._resource=r,this._customAttributes=void 0}Object.defineProperties(Xw.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}},customAttributes:{get:function(){return this._customAttributes}}}),Xw.prototype.load=function(){const e=this;return this._dataProvider._loadBinary(this._resource).then(function(t){return e._data=t,t})};const $w=new Y.Z,Yw=new Y.Z,Qw=new Y.Z,ex=new Y.Z,tx=new Y.Z;function ix(e,t,i,n){const r=Y.Z.subtract(n,i,$w),o=Y.Z.cross(r,Y.Z.subtract(e,i,Yw),ex),s=Y.Z.cross(r,Y.Z.subtract(t,i,Qw),tx);return Y.Z.dot(o,s)>=0}const nx=new Y.Z,rx=new Y.Z,ox=new Y.Z,sx=new Y.Z,ax=new Y.Z,lx=new Y.Z,cx=new Y.Z,ux=new Y.Z,dx=new Y.Z,hx=new Y.Z;Xw.prototype.getClosestPointIndexOnTriangle=function(e,t,i){if((0,f.Z)(this._customAttributes)&&(0,f.Z)(this._customAttributes.positions)){const n=new Y.Z(e,t,i);n.x-=this._customAttributes.cartesianCenter.x,n.y-=this._customAttributes.cartesianCenter.y,n.z-=this._customAttributes.cartesianCenter.z,Dt.Z.multiplyByVector(this._customAttributes.parentRotation,n,n);let r,o,s,a,l=Number.MAX_VALUE;const c=this._customAttributes.positions,u=this._customAttributes.indices;let d;d=(0,f.Z)(u)?u.length:c.length/3;for(let e=0;e<d;e++){let t,i,d;(0,f.Z)(u)?(t=u[e],i=u[e+1],d=u[e+2]):(t=3*e,i=3*e+1,d=3*e+2);const h=Y.Z.fromElements(c[3*t],c[3*t+1],c[3*t+2],nx),p=Y.Z.fromElements(c[3*i],c[3*i+1],c[3*i+2],rx),m=new Y.Z(c[3*d],c[3*d+1],c[3*d+2],ox);if(!ix(n,h,p,m)||!ix(n,p,h,m)||!ix(n,m,h,p))continue;const g=Y.Z.subtract(p,h,sx),_=Y.Z.subtract(m,h,ax),y=Y.Z.cross(g,_,lx);if(0===Y.Z.magnitude(y))continue;const Z=Y.Z.normalize(y,cx),v=Y.Z.subtract(n,h,ux),b=Math.abs(Y.Z.dot(v,Z));if(b<l){l=b,r=e;const c=Y.Z.magnitudeSquared(Y.Z.subtract(n,h,v)),u=Y.Z.magnitudeSquared(Y.Z.subtract(n,p,dx)),f=Y.Z.magnitudeSquared(Y.Z.subtract(n,m,hx));c<u&&c<f?(s=t,a=h,o=c):u<f?(s=i,a=p,o=u):(s=d,a=m,o=f)}}if((0,f.Z)(r))return{index:s,distanceSquared:o,distance:Math.sqrt(o),queriedPosition:n,closestPosition:Y.Z.clone(a)}}return{index:-1,distanceSquared:Number.Infinity,distance:Number.Infinity}},Xw.prototype._generateGltf=function(e,t,i,n,r,o){let s,a={pbrMetallicRoughness:{metallicFactor:0},doubleSided:!0,name:"Material"},l=!1,c="";if((0,f.Z)(this._parent._data.mesh)&&(0,f.Z)(this._layer._data.materialDefinitions)){const e=this._parent._data.mesh.material.definition;if(e>=0&&e<this._layer._data.materialDefinitions.length&&(s=this._layer._data.materialDefinitions[e],a=s,(0,f.Z)(a.pbrMetallicRoughness)&&(0,f.Z)(a.pbrMetallicRoughness.baseColorTexture))){l=!0,a.pbrMetallicRoughness.baseColorTexture.index=0;let e="0";if((0,f.Z)(this._layer._data.textureSetDefinitions))for(let t=0;t<this._layer._data.textureSetDefinitions.length;t++){const i=this._layer._data.textureSetDefinitions[t];for(let t=0;t<i.formats.length;t++){const n=i.formats[t];if("jpg"===n.format){e=n.name;break}}}(0,f.Z)(this._parent._data.mesh)&&this._parent._data.mesh.material.resource>=0&&(c=this._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.material.resource}/textures/${e}`}).url)}}else(0,f.Z)(this._parent._data.textureData)&&(l=!0,c=this._parent.resource.getDerivedResource({url:`${this._parent._data.textureData[0].href}`}).url,a.pbrMetallicRoughness.baseColorTexture={index:0});let u=[],d=[],h=[];return l&&(u=[{sampler:0,source:0}],d=[{uri:c}],h=[{magFilter:9729,minFilter:9986,wrapS:10497,wrapT:10497}]),{scene:0,scenes:[{nodes:e}],nodes:t,meshes:i,buffers:n,bufferViews:r,accessors:o,materials:[a],textures:u,images:d,samplers:h,asset:{version:"2.0"}}};const px=Xw;function fx(e,t,i){let n,r,o,s;i?(n=0,r=e):(n=e._level+1,r=e._layer),"number"==typeof t?o=t:s=e.resource.getDerivedResource({url:`${t}/`}),this._parent=e,this._dataProvider=e._dataProvider,this._isRoot=i,this._level=n,this._layer=r,this._nodeIndex=o,this._resource=s,this._isLoading=!1,this._tile=void 0,this._data=void 0,this._geometryData=[],this._featureData=[],this._fields={},this._children=[],this._childrenReadyPromise=void 0,this._globalTransform=void 0,this._inverseGlobalTransform=void 0,this._inverseRotationMatrix=void 0}function mx(e,t,i,n){return n[e+t*i]}function gx(e,t,i){const n=i.nativeExtent;let r=(e-n.west)/(n.east-n.west)*(i.width-1),o=(t-n.south)/(n.north-n.south)*(i.height-1);const s=Math.floor(r);let a=Math.floor(o);r-=s,o-=a;const l=s<i.width?s+1:s;let c=a<i.height?a+1:a;a=i.height-1-a,c=i.height-1-c;let u=(d=r,h=o,p=mx(s,a,i.width,i.buffer),f=mx(l,a,i.width,i.buffer),m=mx(s,c,i.width,i.buffer),g=mx(l,c,i.width,i.buffer),(p*(1-d)+f*d)*(1-h)+(m*(1-d)+g*d)*h);var d,h,p,f,m,g;return u=u*i.scale+i.offset,u}Object.defineProperties(fx.prototype,{resource:{get:function(){return this._resource}},layer:{get:function(){return this._layer}},parent:{get:function(){return this._parent}},children:{get:function(){return this._children}},geometryData:{get:function(){return this._geometryData}},featureData:{get:function(){return this._featureData}},fields:{get:function(){return this._fields}},tile:{get:function(){return this._tile}},data:{get:function(){return this._data}}}),fx.prototype.load=async function(){const e=this;function t(){if(!e._isRoot){const t=e._create3DTileDefinition();e._tile=new VZ.Z(e._layer._tileset,e._dataProvider.resource,t,e._parent._tile),e._tile._i3sNode=e}}if(!(0,f.Z)(this._nodeIndex)){const i=await xx.loadJson(this._resource,this._dataProvider._traceFetches);return e._data=i,void t()}const i=await this._layer._getNodeInNodePages(this._nodeIndex);let n;e._data=i,e._isRoot?n="nodes/root/":(0,f.Z)(i.mesh)&&(n=`../${i.mesh.geometry.resource}/`),(0,f.Z)(n)&&(e._resource=e._parent.resource.getDerivedResource({url:n})),t()},fx.prototype.loadFields=function(){const e=this._layer._data.attributeStorageInfo,t=this;function i(e,i){const n=new Jw(t,e[i]);return t._fields[n._storageInfo.name]=n,n.load()}const n=[];if((0,f.Z)(e))for(let t=0;t<e.length;t++)n.push(i(e,t));return Promise.all(n)},fx.prototype.getFieldsForPickedPosition=function(e){const t=this.geometryData[0];if(!(0,f.Z)(t.customAttributes.featureIndex))return{};const i=t.getClosestPointIndexOnTriangle(e.x,e.y,e.z);if(-1===i.index||i.index>t.customAttributes.featureIndex.length)return{};const n=t.customAttributes.featureIndex[i.index];return this.getFieldsForFeature(n)},fx.prototype.getFieldsForFeature=function(e){const t={};for(const i in this.fields)if(this.fields.hasOwnProperty(i)){const n=this.fields[i];e>=0&&e<n.values.length&&(t[n.name]=n.values[e])}return t},fx.prototype._loadChildren=function(){const e=this;if((0,f.Z)(this._childrenReadyPromise))return this._childrenReadyPromise;const t=[];if((0,f.Z)(e._data.children))for(let i=0;i<e._data.children.length;i++){const n=e._data.children[i],r=new fx(e,(0,p.Z)(n.href,n),!1);e._children.push(r),t.push(r.load())}return this._childrenReadyPromise=Promise.all(t).then(function(){for(let t=0;t<e._children.length;t++)e._tile.children.push(e._children[t]._tile)}),this._childrenReadyPromise},fx.prototype._loadGeometryData=function(){const e=[];if((0,f.Z)(this._data.geometryData))for(let t=0;t<this._data.geometryData.length;t++){const i=new px(this,this._data.geometryData[t].href);this._geometryData.push(i),e.push(i.load())}else if((0,f.Z)(this._data.mesh)){const t=this._layer._findBestGeometryBuffers(this._data.mesh.geometry.definition,["position","uv0"]),i=`./geometries/${t.bufferIndex}/`,n=new px(this,i);n._geometryDefinitions=t.definition,n._geometryBufferInfo=t.geometryBufferInfo,this._geometryData.push(n),e.push(n.load())}return Promise.all(e)},fx.prototype._loadFeatureData=function(){const e=[];if((0,f.Z)(this._data.featureData))for(let t=0;t<this._data.featureData.length;t++){const i=new Ww(this,this._data.featureData[t].href);this._featureData.push(i),e.push(i.load())}return Promise.all(e)},fx.prototype._clearGeometryData=function(){this._geometryData=[]},fx.prototype._create3DTileDefinition=function(){const e=this._data.obb,t=this._data.mbs;if(!(0,f.Z)(e)&&!(0,f.Z)(t))return void console.error("Failed to load I3S node. Bounding volume is required.");let i;if(i=(0,f.Z)(e)?Q.Z.fromDegrees(e.center[0],e.center[1],e.center[2]):Q.Z.fromDegrees(t[0],t[1],t[2]),(0,f.Z)(this._dataProvider._geoidDataList)&&(0,f.Z)(i))for(let e=0;e<this._dataProvider._geoidDataList.length;e++){const t=this._dataProvider._geoidDataList[e],n=t.projection.project(i);if(n.x>t.nativeExtent.west&&n.x<t.nativeExtent.east&&n.y>t.nativeExtent.south&&n.y<t.nativeExtent.north){i.height+=gx(n.x,n.y,t);break}}let n,r={},o=0;(0,f.Z)(e)?(r={box:[0,0,0,e.halfSize[0],0,0,0,e.halfSize[1],0,0,0,e.halfSize[2]]},o=Math.max(Math.max(this._data.obb.halfSize[0],this._data.obb.halfSize[1]),this._data.obb.halfSize[2]),n=oe.Z.WGS84.cartographicToCartesian(i)):(r={sphere:[0,0,0,t[3]]},n=oe.Z.WGS84.cartographicToCartesian(i),o=this._data.mbs[3]),o*=2;let s=1/0;if((0,f.Z)(this._data.lodThreshold))"maxScreenThresholdSQ"===this._layer._data.nodePages.lodSelectionMetricType?s=o/Math.sqrt(this._data.lodThreshold/(.25*Math.PI)):"maxScreenThreshold"===this._layer._data.nodePages.lodSelectionMetricType?s=o/this._data.lodThreshold:console.error("Invalid lodSelectionMetricType in Layer");else if((0,f.Z)(this._data.lodSelection))for(let e=0;e<this._data.lodSelection.length;e++)"maxScreenThreshold"===this._data.lodSelection[e].metricType&&(s=o/this._data.lodSelection[e].maxError);s===1/0&&(s=1e5);const a=16*s,l=new ms.Z(0,0,0);let c=Ft.Z.headingPitchRollQuaternion(n,l);(0,f.Z)(this._data.obb)&&(c=new Ze.Z(this._data.obb.quaternion[0],this._data.obb.quaternion[1],this._data.obb.quaternion[2],this._data.obb.quaternion[3]));const u=Dt.Z.fromQuaternion(c),d=Dt.Z.inverse(u,new Dt.Z),h=new cp.Z(u[0],u[1],u[2],0,u[3],u[4],u[5],0,u[6],u[7],u[8],0,n.x,n.y,n.z,1),p=cp.Z.inverse(h,new cp.Z),m=cp.Z.clone(h);(0,f.Z)(this._parent._globalTransform)&&cp.Z.multiply(h,this._parent._inverseGlobalTransform,m),this._globalTransform=h,this._inverseGlobalTransform=p,this._inverseRotationMatrix=d;const g=[];for(let e=0;e<this._children.length;e++)g.push(this._children[e]._create3DTileDefinition());return{children:g,refine:"REPLACE",boundingVolume:r,transform:[m[0],m[4],m[8],m[12],m[1],m[5],m[9],m[13],m[2],m[6],m[10],m[14],m[3],m[7],m[11],m[15]],content:{uri:(0,f.Z)(this._resource)?this._resource.url:void 0},geometricError:a}},fx.prototype._createI3SDecoderTask=async function(e,t){const i=t.geometryData._parent._data,n=t.geometryData._parent._inverseRotationMatrix;let r=0,o=0,s=0;(0,f.Z)(i.obb)?(r=i.obb.center[0],o=i.obb.center[1],s=i.obb.center[2]):(0,f.Z)(i.mbs)&&(r=i.mbs[0],o=i.mbs[1],s=i.mbs[2]);const a=Dt.Z.fromRotationX(-T.Z.PI_OVER_TWO),l=new Dt.Z;Dt.Z.multiply(a,n,l);const c=Q.Z.fromDegrees(r,o,s),u=oe.Z.WGS84.cartographicToCartesian(c),d={binaryData:t.geometryData._data,featureData:(0,f.Z)(t.featureData)&&(0,f.Z)(t.featureData[0])?t.featureData[0].data:void 0,schema:t.defaultGeometrySchema,bufferInfo:t.geometryData._geometryBufferInfo,ellipsoidRadiiSquare:oe.Z.WGS84.radiiSquared,url:t.url,geoidDataList:t.geometryData._dataProvider._geoidDataList,cartographicCenter:c,cartesianCenter:u,parentRotation:l};return e.scheduleTask(d,[])},fx.prototype._createContentURL=async function(){let e={scene:0,scenes:[{nodes:[0]}],nodes:[{name:"singleNode"}],meshes:[],buffers:[],bufferViews:[],accessors:[],materials:[],textures:[],images:[],samplers:[],asset:{version:"2.0"}};const t=await this._dataProvider.getDecoderTaskProcessor(),i=[this._loadGeometryData()];this._dataProvider.legacyVersion16&&i.push(this._loadFeatureData());const n=this;return Promise.all(i).then(function(){let i=Promise.resolve();if((0,f.Z)(n._geometryData)&&n._geometryData.length>0){const r={geometryData:n._geometryData[0],featureData:n._featureData,defaultGeometrySchema:n._layer._data.store.defaultGeometrySchema,url:n._geometryData[0].resource.url,tile:n._tile},o=n._createI3SDecoderTask(t,r);if(!(0,f.Z)(o))return;i=o.then(function(t){e=r.geometryData._generateGltf(t.meshData.nodesInScene,t.meshData.nodes,t.meshData.meshes,t.meshData.buffers,t.meshData.bufferViews,t.meshData.accessors),n._geometryData[0]._customAttributes=t.meshData._customAttributes})}return i.then(function(){const t=n._dataProvider._binarizeGltf(e),i=new Blob([t],{type:"application/binary"});return URL.createObjectURL(i)})})},VZ.Z.prototype._hookedRequestContent=VZ.Z.prototype.requestContent,VZ.Z.prototype.requestContent=function(){return this.tileset._isI3STileSet?this._isLoading?void 0:(this._isLoading=!0,this._i3sNode._createContentURL().then(e=>{if((0,f.Z)(e))return this._contentResource=new we.Z({url:e}),this._hookedRequestContent();this._isLoading=!1}).then(e=>(this._isLoading=!1,e))):this._hookedRequestContent()},Object.defineProperties(VZ.Z.prototype,{i3sNode:{get:function(){return this._i3sNode}}});const _x=fx;function yx(e,t,i){this._dataProvider=e,(0,f.Z)(t.href)||(t.href=`./layers/${i}`);const n=this._dataProvider.resource.getUrlComponent();let r="";r=n.match(/layers\/\d/)?`${n}`.replace(/\/+$/,""):`${n}`.replace(/\/?$/,"/").concat(`${t.href}`),this._version=t.store.version;const o=this._version.split(".");this._majorVersion=parseInt(o[0]),this._minorVersion=o.length>1?parseInt(o[1]):0,this._resource=new we.Z({url:r}),this._resource.setQueryParameters(this._dataProvider.resource.queryParameters),this._resource.appendForwardSlash(),this._data=t,this._rootNode=void 0,this._nodePages={},this._nodePageFetches={},this._extent=void 0,this._tileset=void 0,this._geometryDefinitions=void 0,this._computeGeometryDefinitions(!0),this._computeExtent()}Object.defineProperties(yx.prototype,{resource:{get:function(){return this._resource}},rootNode:{get:function(){return this._rootNode}},tileset:{get:function(){return this._tileset}},data:{get:function(){return this._data}},version:{get:function(){return this._version}},majorVersion:{get:function(){return this._majorVersion}},minorVersion:{get:function(){return this._minorVersion}},legacyVersion16:{get:function(){if((0,f.Z)(this.version))return this.majorVersion<1||1===this.majorVersion&&this.minorVersion<=6}}}),yx.prototype.load=async function(){if(4326!==this._data.spatialReference.wkid)throw new xe.Z(`Unsupported spatial reference: ${this._data.spatialReference.wkid}`);if(await this._dataProvider.loadGeoidData(),await this._loadRootNode(),await this._create3DTileset(),this._rootNode._tile=this._tileset._root,this._tileset._root._i3sNode=this._rootNode,this.legacyVersion16)return this._rootNode._loadChildren()},yx.prototype._computeGeometryDefinitions=function(e){if(this._geometryDefinitions=[],(0,f.Z)(this._data.geometryDefinitions))for(let t=0;t<this._data.geometryDefinitions.length;t++){const i=[],n=this._data.geometryDefinitions[t].geometryBuffers;for(let t=0;t<n.length;t++){const r=n[t],o=[];let s=!1;if((0,f.Z)(r.compressedAttributes)&&e){s=!0;const e=r.compressedAttributes.attributes;for(let t=0;t<e.length;t++)o.push(e[t])}else for(const e in r)"offset"!==e&&o.push(e);i.push({compressed:s,attributes:o,index:n.indexOf(r)})}i.sort(function(e,t){return e.compressed&&!t.compressed?-1:!e.compressed&&t.compressed?1:e.attributes.length-t.attributes.length}),this._geometryDefinitions.push(i)}},yx.prototype._findBestGeometryBuffers=function(e,t){const i=this._geometryDefinitions[e];if((0,f.Z)(i))for(let e=0;e<i.length;++e){const n=i[e];let r=!1;const o=n.attributes;for(let e=0;e<t.length;e++)if(!o.includes(t[e])){r=!0;break}if(!r)return{bufferIndex:n.index,definition:i,geometryBufferInfo:n}}return 0},yx.prototype._loadRootNode=function(){if((0,f.Z)(this._data.nodePages)){let e=0;(0,f.Z)(this._data.nodePages.rootIndex)&&(e=this._data.nodePages.rootIndex),this._rootNode=new _x(this,e,!0)}else this._rootNode=new _x(this,this._data.store.rootNode,!0);return this._rootNode.load()},yx.prototype._getNodeInNodePages=function(e){const t=Math.floor(e/this._data.nodePages.nodesPerPage),i=e%this._data.nodePages.nodesPerPage,n=this;return this._loadNodePage(t).then(function(){return n._nodePages[t][i]})},yx._fetchJson=function(e){return e.fetchJson()},yx.prototype._loadNodePage=function(e){const t=this;if(!(0,f.Z)(this._nodePageFetches[e])){const i=this.resource.getDerivedResource({url:`nodepages/${e}/`}),n=yx._fetchJson(i).then(function(i){return(0,f.Z)(i.error)&&200!==i.error.code?Promise.reject(i.error):(t._nodePages[e]=i.nodes,i)});this._nodePageFetches[e]=n}return this._nodePageFetches[e]},yx.prototype._computeExtent=function(){(0,f.Z)(this._data.fullExtent)?this._extent=ve.Z.fromDegrees(this._data.fullExtent.xmin,this._data.fullExtent.ymin,this._data.fullExtent.xmax,this._data.fullExtent.ymax):(0,f.Z)(this._data.store.extent)&&(this._extent=ve.Z.fromDegrees(this._data.store.extent[0],this._data.store.extent[1],this._data.store.extent[2],this._data.store.extent[3]))},yx.prototype._create3DTileset=async function(){const e={asset:{version:"1.0"},geometricError:Number.MAX_VALUE,root:this._rootNode._create3DTileDefinition()},t=new Blob([JSON.stringify(e)],{type:"application/json"}),i=URL.createObjectURL(t),n={};if((0,f.Z)(this._dataProvider._cesium3dTilesetOptions))for(const e in this._dataProvider._cesium3dTilesetOptions)this._dataProvider._cesium3dTilesetOptions.hasOwnProperty(e)&&(n[e]=this._dataProvider._cesium3dTilesetOptions[e]);this._tileset=await Av.Z.fromUrl(i,n),this._tileset.show=this._dataProvider.show,this._tileset._isI3STileSet=!0,this._tileset.tileUnload.addEventListener(function(e){e._i3sNode._clearGeometryData(),URL.revokeObjectURL(e._contentResource._url),e._contentResource=e._i3sNode.resource}),this._tileset.tileVisible.addEventListener(function(e){(0,f.Z)(e._i3sNode)&&e._i3sNode._loadChildren()})};const Zx=yx;var vx=i(967197);function bx(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._name=e.name,this._show=(0,p.Z)(e.show,!0),this._geoidTiledTerrainProvider=e.geoidTiledTerrainProvider,this._traceFetches=(0,p.Z)(e.traceFetches,!1),this._cesium3dTilesetOptions=(0,p.Z)(e.cesium3dTilesetOptions,p.Z.EMPTY_OBJECT),this._layers=[],this._data=void 0,this._extent=void 0,this._geoidDataPromise=void 0,this._geoidDataList=void 0,this._decoderTaskProcessor=void 0,this._taskProcessorReadyPromise=void 0,(0,f.Z)(e.url)&&((0,_c.Z)("I3SDataProvider options.url","I3SDataProvider constructor parameter options.url was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use I3SDataProvider.fromUrl instead."),this._readyPromise=void 0,this._ready=!1,this._resource=we.Z.createIfNeeded(e.url),this._load())}Object.defineProperties(bx.prototype,{name:{get:function(){return this._name}},show:{get:function(){return this._show},set:function(e){Ce.Z.defined("value",e),this._show=e;for(let e=0;e<this._layers.length;e++)(0,f.Z)(this._layers[e]._tileset)&&(this._layers[e]._tileset.show=this._show)}},traceFetches:{get:function(){return this._traceFetches},set:function(e){Ce.Z.defined("value",e),this._traceFetches=e}},geoidTiledTerrainProvider:{get:function(){return this._geoidTiledTerrainProvider}},layers:{get:function(){return this._layers}},data:{get:function(){return this._data}},extent:{get:function(){return this._extent}},readyPromise:{get:function(){return(0,_c.Z)("I3SDataProvider.readyPromise","I3SDataProvider.readyPromise was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use I3SDataProvider.fromUrl instead."),this._readyPromise}},ready:{get:function(){return(0,_c.Z)("I3SDataProvider.ready","I3SDataProvider.ready was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use I3SDataProvider.fromUrl instead."),this._ready}},resource:{get:function(){return this._resource}}}),bx.prototype.destroy=function(){for(let e=0;e<this._layers.length;e++)(0,f.Z)(this._layers[e]._tileset)&&this._layers[e]._tileset.destroy();return(0,v_.Z)(this)},bx.prototype.isDestroyed=function(){return!1},bx.prototype.update=function(e){for(let t=0;t<this._layers.length;t++)(0,f.Z)(this._layers[t]._tileset)&&this._layers[t]._tileset.update(e)},bx.prototype.prePassesUpdate=function(e){for(let t=0;t<this._layers.length;t++)(0,f.Z)(this._layers[t]._tileset)&&this._layers[t]._tileset.prePassesUpdate(e)},bx.prototype.postPassesUpdate=function(e){for(let t=0;t<this._layers.length;t++)(0,f.Z)(this._layers[t]._tileset)&&this._layers[t]._tileset.postPassesUpdate(e)},bx.prototype.updateForPass=function(e,t){for(let i=0;i<this._layers.length;i++)(0,f.Z)(this._layers[i]._tileset)&&this._layers[i]._tileset.updateForPass(e,t)},bx.fromUrl=async function(e,t){Ce.Z.defined("url",e),t=(0,p.Z)(t,p.Z.EMPTY_OBJECT);const i=we.Z.createIfNeeded(e),n=await bx.loadJson(i),r=new bx(t);if(r._resource=i,r._data=n,(0,f.Z)(n.layers))for(let e=0;e<n.layers.length;e++){const t=new Zx(r,n.layers[e],e);r._layers.push(t)}else{const e=new Zx(r,n,n.id);r._layers.push(e)}r._computeExtent();const o=[];for(let e=0;e<r._layers.length;e++)o.push(r._layers[e].load());return await Promise.all(o),r._ready=!0,r._readyPromise=Promise.resolve(r),r},bx.prototype._load=function(){const e=this;return this._readyPromise=bx.loadJson(this._resource,this._traceFetches).then(function(t){if(e._data=t,(0,f.Z)(t.layers))for(let i=0;i<t.layers.length;i++){const n=new Zx(e,t.layers[i],i);e._layers.push(n)}else{const i=new Zx(e,t,t.id);e._layers.push(i)}e._computeExtent();const i=[];for(let t=0;t<e._layers.length;t++)i.push(e._layers[t].load());return Promise.all(i).then(function(){return e._ready=!0,e})}),this._readyPromise},bx._fetchJson=function(e){return e.fetchJson()},bx.loadJson=async function(e,t){t&&console.log("I3S FETCH:",e.url);const i=await bx._fetchJson(e);if((0,f.Z)(i.error)){if(console.error("Failed to fetch I3S ",e.url),(0,f.Z)(i.error.message)&&console.error(i.error.message),(0,f.Z)(i.error.details))for(let e=0;e<i.error.details.length;e++)console.log(i.error.details[e]);throw new xe.Z(i.error)}return i},bx.prototype._loadBinary=function(e){return this._traceFetches&&console.log("I3S FETCH:",e.url),e.fetchArrayBuffer()},bx.prototype._binarizeGltf=function(e){const t=(new TextEncoder).encode(JSON.stringify(e)),i=new Uint8Array(t.byteLength+20),n={magic:new Uint8Array(i.buffer,0,4),version:new Uint32Array(i.buffer,4,1),length:new Uint32Array(i.buffer,8,1),chunkLength:new Uint32Array(i.buffer,12,1),chunkType:new Uint32Array(i.buffer,16,1),chunkData:new Uint8Array(i.buffer,20,t.byteLength)};return n.magic[0]="g".charCodeAt(),n.magic[1]="l".charCodeAt(),n.magic[2]="T".charCodeAt(),n.magic[3]="F".charCodeAt(),n.version[0]=2,n.length[0]=i.byteLength,n.chunkLength[0]=t.byteLength,n.chunkType[0]=1313821514,n.chunkData.set(t),i},bx.prototype.getDecoderTaskProcessor=function(){if((0,f.Z)(this._taskProcessorReadyPromise))return this._taskProcessorReadyPromise;if(!(0,f.Z)(this._decoderTaskProcessor)){const e=new Of.Z("decodeI3S");this._taskProcessorReadyPromise=e.initWebAssemblyModule({modulePath:"ThirdParty/Workers/draco_decoder_nodejs.js",wasmBinaryFile:"ThirdParty/draco_decoder.wasm"}).then(()=>e),this._decoderTaskProcessor=e}return this._taskProcessorReadyPromise};const wx=new d.Z;bx.prototype.loadGeoidData=async function(){return(0,f.Z)(this._geoidDataPromise)||(this._geoidDataPromise=async function(e){const t=e._geoidTiledTerrainProvider;if((0,f.Z)(t))try{const r=await(i=t,n=e._extent,function(e,t){const i=e.tilingScheme,n=[],r={},o=e._lodCount,s=Q.Z.fromRadians(t.west,t.north),a=Q.Z.fromRadians(t.east,t.south),l=i.positionToTileXY(s,o),c=i.positionToTileXY(a,o);for(let t=l.x;t<=c.x;t++)for(let s=l.y;s<=c.y;s++){const a=d.Z.fromElements(t,s,wx),l=a.toString();if(!r.hasOwnProperty(l)){const t={x:a.x,y:a.y,level:o,tilingScheme:i,terrainProvider:e,positions:[]};r[l]=t,n.push(t)}}const u=[];for(let e=0;e<n.length;++e){const t=n[e],i=t.terrainProvider.requestTileGeometry(t.x,t.y,t.level);u.push(i)}return Promise.all(u).then(function(e){const t=[];for(let r=0;r<e.length;r++){const o={tilingScheme:i,x:n[r].x,y:n[r].y,level:n[r].level},s=e[r];let a="Geographic";i._projection instanceof A_.Z&&(a="WebMercator");const l={projectionType:a,projection:i._projection,nativeExtent:i.tileXYToNativeRectangle(o.x,o.y,o.level),height:s._height,width:s._width,scale:s._structure.heightScale,offset:s._structure.heightOffset};if(s._encoding===Dh.Z.LERC){const e=vx.decode(s._buffer);l.buffer=e.pixels[0]}else l.buffer=s._buffer;t.push(l)}return t})}(i,n));e._geoidDataList=r}catch(e){console.log("Error retrieving Geoid Terrain tiles - no geoid conversion will be performed.")}else console.log("No Geoid Terrain service provided - no geoid conversion will be performed.");var i,n}(this)),this._geoidDataPromise},bx.prototype._computeExtent=function(){let e;for(let t=0;t<this._layers.length;t++)if((0,f.Z)(this._layers[t]._extent)){const i=this._layers[t]._extent;(0,f.Z)(e)?ve.Z.union(e,i,e):e=ve.Z.clone(i)}this._extent=e};const xx=bx;var Cx=i(33098),Sx=i(847939),Tx=i(947313),Px=i(608230),Mx=i(808447),Ax=i(18994),Ex=i(265073),kx=i(909145),Ix=i(39783),Ox=i(685391),Rx=i(690319),Bx=i(92908),Dx=i(556271),Fx=i(626797),Lx=i(724527),Vx=i(293613),Nx=i(684165),Ux=i(360299),Gx=i(996227),zx=i(2465),Kx=i(133943),qx=i(29501),Hx=i(183052);function Wx(){}Object.defineProperties(Wx.prototype,{color:{get:S.Z.throwInstantiationError},intensity:{get:S.Z.throwInstantiationError}});const jx=Wx;var Jx=i(424143),Xx=i(435724),$x=i(267536);const Yx=/\/$/,Qx=new ne.Z('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');function eC(e){const t=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).styleId;if(!(0,f.Z)(t))throw new S.Z("options.styleId is required.");const i=e.accessToken;if(!(0,f.Z)(i))throw new S.Z("options.accessToken is required.");this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0;const n=we.Z.createIfNeeded((0,p.Z)(e.url,"https://api.mapbox.com/styles/v1/"));this._styleId=t,this._accessToken=i;const r=(0,p.Z)(e.tilesize,512);this._tilesize=r;const o=(0,p.Z)(e.username,"mapbox");this._username=o;const s=(0,f.Z)(e.scaleFactor)?"@2x":"";let a,l=n.getUrlComponent();Yx.test(l)||(l+="/"),l+=`${this._username}/${t}/tiles/${this._tilesize}/{z}/{x}/{y}${s}`,n.url=l,n.setQueryParameters({access_token:i}),(0,f.Z)(e.credit)?(a=e.credit,"string"==typeof a&&(a=new ne.Z(a))):a=Qx,this._resource=n,this._imageryProvider=new $x.Z({url:n,credit:a,ellipsoid:e.ellipsoid,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle}),this._ready=!0,this._readyPromise=Promise.resolve(!0)}Object.defineProperties(eC.prototype,{url:{get:function(){return this._imageryProvider.url}},ready:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.ready","MapboxStyleImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._imageryProvider.ready}},readyPromise:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.readyPromise","MapboxStyleImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._imageryProvider.readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}},defaultAlpha:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultAlpha","MapboxStyleImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultAlpha","MapboxStyleImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultNightAlpha","MapboxStyleImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultNightAlpha","MapboxStyleImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultDayAlpha","MapboxStyleImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultDayAlpha","MapboxStyleImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultBrightness","MapboxStyleImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultBrightness","MapboxStyleImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultContrast","MapboxStyleImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultContrast","MapboxStyleImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultHue","MapboxStyleImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultHue","MapboxStyleImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultSaturation","MapboxStyleImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultSaturation","MapboxStyleImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultGamma","MapboxStyleImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultGamma","MapboxStyleImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultMinificationFilter","MapboxStyleImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultMinificationFilter","MapboxStyleImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,_c.Z)("MapboxStyleImageryProvider.defaultMagnificationFilter","MapboxStyleImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,_c.Z)("MapboxStyleImageryProvider.defaultMagnificationFilter","MapboxStyleImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),eC.prototype.getTileCredits=function(e,t,i){},eC.prototype.requestImage=function(e,t,i,n){return this._imageryProvider.requestImage(e,t,i,n)},eC.prototype.pickFeatures=function(e,t,i,n,r){return this._imageryProvider.pickFeatures(e,t,i,n,r)},eC._defaultCredit=Qx;const tC=eC;var iC=i(48234),nC=i(852051),rC=i(477518),oC=i(221541),sC=i(239325),aC=i(264731),lC=i(278215),cC=i(209036),uC=i(329814),dC=i(1626),hC=i(894211),pC=i(66404),fC=i(596815),mC=i(835799),gC=i(535325),_C=i(749379),yC=i(449546),ZC=i(728913),vC=i(412750),bC=i(69143),wC=i(402984);const xC=new d.Z(1,1);function CC(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this.mass=(0,p.Z)(e.mass,1),this.position=Y.Z.clone((0,p.Z)(e.position,Y.Z.ZERO)),this.velocity=Y.Z.clone((0,p.Z)(e.velocity,Y.Z.ZERO)),this.life=(0,p.Z)(e.life,Number.MAX_VALUE),this.image=e.image,this.startColor=h.Z.clone((0,p.Z)(e.startColor,h.Z.WHITE)),this.endColor=h.Z.clone((0,p.Z)(e.endColor,h.Z.WHITE)),this.startScale=(0,p.Z)(e.startScale,1),this.endScale=(0,p.Z)(e.endScale,1),this.imageSize=d.Z.clone((0,p.Z)(e.imageSize,xC)),this._age=0,this._normalizedAge=0,this._billboard=void 0}Object.defineProperties(CC.prototype,{age:{get:function(){return this._age}},normalizedAge:{get:function(){return this._normalizedAge}}});const SC=new Y.Z;CC.prototype.update=function(e,t){return Y.Z.multiplyByScalar(this.velocity,e,SC),Y.Z.add(this.position,SC,this.position),(0,f.Z)(t)&&t(this,e),this._age+=e,this.life===Number.MAX_VALUE?this._normalizedAge=0:this._normalizedAge=this._age/this.life,this._age<=this.life};const TC=CC;function PC(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this.time=(0,p.Z)(e.time,0),this.minimum=(0,p.Z)(e.minimum,0),this.maximum=(0,p.Z)(e.maximum,50),this._complete=!1}Object.defineProperties(PC.prototype,{complete:{get:function(){return this._complete}}});const MC=PC;function AC(e){throw new S.Z("This type should not be instantiated directly.  Instead, use BoxEmitter, CircleEmitter, ConeEmitter or SphereEmitter.")}AC.prototype.emit=function(e){S.Z.throwInstantiationError()};const EC=AC,kC=new d.Z(1,1);function IC(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this.show=(0,p.Z)(e.show,!0),this.updateCallback=e.updateCallback,this.loop=(0,p.Z)(e.loop,!0),this.image=(0,p.Z)(e.image,void 0);let t=e.emitter;(0,f.Z)(t)||(t=new Lv(.5)),this._emitter=t,this._bursts=e.bursts,this._modelMatrix=cp.Z.clone((0,p.Z)(e.modelMatrix,cp.Z.IDENTITY)),this._emitterModelMatrix=cp.Z.clone((0,p.Z)(e.emitterModelMatrix,cp.Z.IDENTITY)),this._matrixDirty=!0,this._combinedMatrix=new cp.Z,this._startColor=h.Z.clone((0,p.Z)(e.color,(0,p.Z)(e.startColor,h.Z.WHITE))),this._endColor=h.Z.clone((0,p.Z)(e.color,(0,p.Z)(e.endColor,h.Z.WHITE))),this._startScale=(0,p.Z)(e.scale,(0,p.Z)(e.startScale,1)),this._endScale=(0,p.Z)(e.scale,(0,p.Z)(e.endScale,1)),this._emissionRate=(0,p.Z)(e.emissionRate,5),this._minimumSpeed=(0,p.Z)(e.speed,(0,p.Z)(e.minimumSpeed,1)),this._maximumSpeed=(0,p.Z)(e.speed,(0,p.Z)(e.maximumSpeed,1)),this._minimumParticleLife=(0,p.Z)(e.particleLife,(0,p.Z)(e.minimumParticleLife,5)),this._maximumParticleLife=(0,p.Z)(e.particleLife,(0,p.Z)(e.maximumParticleLife,5)),this._minimumMass=(0,p.Z)(e.mass,(0,p.Z)(e.minimumMass,1)),this._maximumMass=(0,p.Z)(e.mass,(0,p.Z)(e.maximumMass,1)),this._minimumImageSize=d.Z.clone((0,p.Z)(e.imageSize,(0,p.Z)(e.minimumImageSize,kC))),this._maximumImageSize=d.Z.clone((0,p.Z)(e.imageSize,(0,p.Z)(e.maximumImageSize,kC))),this._sizeInMeters=(0,p.Z)(e.sizeInMeters,!1),this._lifetime=(0,p.Z)(e.lifetime,Number.MAX_VALUE),this._billboardCollection=void 0,this._particles=[],this._particlePool=[],this._previousTime=void 0,this._currentTime=0,this._carryOver=0,this._complete=new m.Z,this._isComplete=!1,this._updateParticlePool=!0,this._particleEstimate=0}function OC(e){let t=e._particlePool.pop();return(0,f.Z)(t)||(t=new TC),t}function RC(e,t){e._particlePool.push(t)}function BC(e){(0,f.Z)(e._billboard)&&(e._billboard.show=!1)}function DC(e,t){let i=t._billboard;(0,f.Z)(i)||(i=t._billboard=e._billboardCollection.add({image:t.image})),i.width=t.imageSize.x,i.height=t.imageSize.y,i.position=t.position,i.sizeInMeters=e.sizeInMeters,i.show=!0;const n=T.Z.lerp(t.startColor.red,t.endColor.red,t.normalizedAge),r=T.Z.lerp(t.startColor.green,t.endColor.green,t.normalizedAge),o=T.Z.lerp(t.startColor.blue,t.endColor.blue,t.normalizedAge),s=T.Z.lerp(t.startColor.alpha,t.endColor.alpha,t.normalizedAge);i.color=new h.Z(n,r,o,s),i.scale=T.Z.lerp(t.startScale,t.endScale,t.normalizedAge)}function FC(e,t){t.startColor=h.Z.clone(e._startColor,t.startColor),t.endColor=h.Z.clone(e._endColor,t.endColor),t.startScale=e._startScale,t.endScale=e._endScale,t.image=e.image,t.life=T.Z.randomBetween(e._minimumParticleLife,e._maximumParticleLife),t.mass=T.Z.randomBetween(e._minimumMass,e._maximumMass),t.imageSize.x=T.Z.randomBetween(e._minimumImageSize.x,e._maximumImageSize.x),t.imageSize.y=T.Z.randomBetween(e._minimumImageSize.y,e._maximumImageSize.y),t._normalizedAge=0,t._age=0;const i=T.Z.randomBetween(e._minimumSpeed,e._maximumSpeed);Y.Z.multiplyByScalar(t.velocity,i,t.velocity),e._particles.push(t)}Object.defineProperties(IC.prototype,{emitter:{get:function(){return this._emitter},set:function(e){Ce.Z.defined("value",e),this._emitter=e}},bursts:{get:function(){return this._bursts},set:function(e){this._bursts=e,this._updateParticlePool=!0}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){Ce.Z.defined("value",e),this._matrixDirty=this._matrixDirty||!cp.Z.equals(this._modelMatrix,e),cp.Z.clone(e,this._modelMatrix)}},emitterModelMatrix:{get:function(){return this._emitterModelMatrix},set:function(e){Ce.Z.defined("value",e),this._matrixDirty=this._matrixDirty||!cp.Z.equals(this._emitterModelMatrix,e),cp.Z.clone(e,this._emitterModelMatrix)}},startColor:{get:function(){return this._startColor},set:function(e){Ce.Z.defined("value",e),h.Z.clone(e,this._startColor)}},endColor:{get:function(){return this._endColor},set:function(e){Ce.Z.defined("value",e),h.Z.clone(e,this._endColor)}},startScale:{get:function(){return this._startScale},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._startScale=e}},endScale:{get:function(){return this._endScale},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._endScale=e}},emissionRate:{get:function(){return this._emissionRate},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._emissionRate=e,this._updateParticlePool=!0}},minimumSpeed:{get:function(){return this._minimumSpeed},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumSpeed=e}},maximumSpeed:{get:function(){return this._maximumSpeed},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumSpeed=e}},minimumParticleLife:{get:function(){return this._minimumParticleLife},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumParticleLife=e}},maximumParticleLife:{get:function(){return this._maximumParticleLife},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumParticleLife=e,this._updateParticlePool=!0}},minimumMass:{get:function(){return this._minimumMass},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumMass=e}},maximumMass:{get:function(){return this._maximumMass},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumMass=e}},minimumImageSize:{get:function(){return this._minimumImageSize},set:function(e){Ce.Z.typeOf.object("value",e),Ce.Z.typeOf.number.greaterThanOrEquals("value.x",e.x,0),Ce.Z.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._minimumImageSize=e}},maximumImageSize:{get:function(){return this._maximumImageSize},set:function(e){Ce.Z.typeOf.object("value",e),Ce.Z.typeOf.number.greaterThanOrEquals("value.x",e.x,0),Ce.Z.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._maximumImageSize=e}},sizeInMeters:{get:function(){return this._sizeInMeters},set:function(e){Ce.Z.typeOf.bool("value",e),this._sizeInMeters=e}},lifetime:{get:function(){return this._lifetime},set:function(e){Ce.Z.typeOf.number.greaterThanOrEquals("value",e,0),this._lifetime=e}},complete:{get:function(){return this._complete}},isComplete:{get:function(){return this._isComplete}}});const LC=new Y.Z;IC.prototype.update=function(e){if(!this.show)return;(0,f.Z)(this._billboardCollection)||(this._billboardCollection=new bZ.Z),this._updateParticlePool&&(function(e){const t=e._emissionRate,i=e._maximumParticleLife;let n=0;const r=e._bursts;if((0,f.Z)(r)){const e=r.length;for(let t=0;t<e;++t)n+=r[t].maximum}const o=e._billboardCollection,s=e.image,a=Math.ceil(t*i+n),l=e._particles,c=e._particlePool,u=Math.max(a-l.length-c.length,0);for(let e=0;e<u;++e){const e=new TC;e._billboard=o.add({image:s,show:!1}),c.push(e)}e._particleEstimate=a}(this),this._updateParticlePool=!1);let t=0;this._previousTime&&(t=fe.Z.secondsDifference(e.time,this._previousTime)),t<0&&(t=0);const i=this._particles,n=this._emitter,r=this.updateCallback;let o,s,a=i.length;for(o=0;o<a;++o)s=i[o],s.update(t,r)?DC(this,s):(BC(s),RC(this,s),i[o]=i[a-1],--o,--a);i.length=a;const l=function(e,t){if(e._isComplete)return 0;const i=(t=T.Z.mod(t,e._lifetime))*e._emissionRate;let n=Math.floor(i);if(e._carryOver+=i-n,e._carryOver>1&&(n++,e._carryOver-=1),(0,f.Z)(e.bursts)){const t=e.bursts.length;for(let i=0;i<t;i++){const t=e.bursts[i],r=e._currentTime;(0,f.Z)(t)&&!t._complete&&r>t.time&&(n+=T.Z.randomBetween(t.minimum,t.maximum),t._complete=!0)}}return n}(this,t);if(l>0&&(0,f.Z)(n)){this._matrixDirty&&(this._combinedMatrix=cp.Z.multiply(this.modelMatrix,this.emitterModelMatrix,this._combinedMatrix),this._matrixDirty=!1);const e=this._combinedMatrix;for(o=0;o<l;o++)s=OC(this),this._emitter.emit(s),Y.Z.add(s.position,s.velocity,LC),cp.Z.multiplyByPoint(e,LC,LC),s.position=cp.Z.multiplyByPoint(e,s.position,s.position),Y.Z.subtract(LC,s.position,s.velocity),Y.Z.normalize(s.velocity,s.velocity),FC(this,s),DC(this,s)}if(this._billboardCollection.update(e),this._previousTime=fe.Z.clone(e.time,this._previousTime),this._currentTime+=t,this._lifetime!==Number.MAX_VALUE&&this._currentTime>this._lifetime)if(this.loop){if(this._currentTime=T.Z.mod(this._currentTime,this._lifetime),this.bursts){const e=this.bursts.length;for(o=0;o<e;o++)this.bursts[o]._complete=!1}}else this._isComplete=!0,this._complete.raiseEvent(this);e.frameNumber%120==0&&function(e){const t=e._particles,i=e._particlePool,n=e._billboardCollection,r=t.length,o=i.length,s=e._particleEstimate,a=o-Math.max(s-r-o,0);for(let e=a;e<o;++e){const t=i[e];n.remove(t._billboard)}i.length=a}(this)},IC.prototype.isDestroyed=function(){return!1},IC.prototype.destroy=function(){return this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),(0,v_.Z)(this)};const VC=IC;var NC=i(933291),UC=i(75230),GC=i(587051),zC=i(558133),KC=i(633714),qC=i(887769),HC=i(442326),WC=i(243038),jC=i(363710),JC=i(84521),XC=i(664949),$C=i(494390),YC=i(936113),QC=i(642438),eS=i(122753),tS=i(562919),iS=i(287916),nS=i(724936),rS=i(177553),oS=i(891762),sS=i(75092),aS=i(462516),lS=i(939592),cS=i(661583),uS=i(543651),dS=i(476405),hS=i(367280),pS=i(928155),fS=i(459285),mS=i(654771),gS=i(202801),_S=i(243716),yS=i(679425),ZS=i(278108);function vS(){S.Z.throwInstantiationError()}vS.computeDefaultLevelZeroMaximumGeometricError=function(e){return 2*e.ellipsoid.maximumRadius*Math.PI*.25/(65*e.getNumberOfXTilesAtLevel(0))},Object.defineProperties(vS.prototype,{quadtree:{get:S.Z.throwInstantiationError,set:S.Z.throwInstantiationError},ready:{get:S.Z.throwInstantiationError},tilingScheme:{get:S.Z.throwInstantiationError},errorEvent:{get:S.Z.throwInstantiationError}}),vS.prototype.update=S.Z.throwInstantiationError,vS.prototype.beginUpdate=S.Z.throwInstantiationError,vS.prototype.endUpdate=S.Z.throwInstantiationError,vS.prototype.getLevelMaximumGeometricError=S.Z.throwInstantiationError,vS.prototype.loadTile=S.Z.throwInstantiationError,vS.prototype.computeTileVisibility=S.Z.throwInstantiationError,vS.prototype.showTileThisFrame=S.Z.throwInstantiationError,vS.prototype.computeDistanceToTile=S.Z.throwInstantiationError,vS.prototype.isDestroyed=S.Z.throwInstantiationError,vS.prototype.destroy=S.Z.throwInstantiationError;const bS=vS;var wS=i(229904),xS=i(864807),CS=i(658544),SS=i(439638),TS=i(186118),PS=i(455188),MS=i(74323),AS=i(72534),ES=i(640133),kS=i(521062),IS=i(175515),OS=i(862657),RS=i(829466),BS=i(572127),DS=i(340114),FS=i(143078),LS=i(955452);function VS(e){e=(0,p.Z)(e,1),Ce.Z.typeOf.number.greaterThan("radius",e,0),this._radius=(0,p.Z)(e,1)}Object.defineProperties(VS.prototype,{radius:{get:function(){return this._radius},set:function(e){Ce.Z.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),VS.prototype.emit=function(e){const t=T.Z.randomBetween(0,T.Z.TWO_PI),i=T.Z.randomBetween(0,T.Z.PI),n=T.Z.randomBetween(0,this._radius),r=n*Math.cos(t)*Math.sin(i),o=n*Math.sin(t)*Math.sin(i),s=n*Math.cos(i);e.position=Y.Z.fromElements(r,o,s,e.position),e.velocity=Y.Z.normalize(e.position,e.velocity)};const NS=VS;var US=i(68673),GS=i(858457),zS=i(451893),KS=i(534455),qS=i(678626),HS=i(426431);function WS(){}WS.prototype.evaluate=function(e,t){S.Z.throwInstantiationError()},WS.prototype.evaluateColor=function(e,t){S.Z.throwInstantiationError()},WS.prototype.getShaderFunction=function(e,t,i,n){S.Z.throwInstantiationError()},WS.prototype.getVariables=function(){S.Z.throwInstantiationError()};const jS=WS;var JS=i(861222),XS=i(452799),$S=i(308920),YS=i(621430),QS=i(992182),eT=i(736196),tT=i(790018),iT=i(913138),nT=i(877608),rT=i(237943),oT=i(32933);function sT(){}sT.prototype.boundingVolume=void 0,sT.prototype.boundingSphere=void 0,sT.prototype.distanceToCamera=function(e){S.Z.throwInstantiationError()},sT.prototype.intersectPlane=function(e){S.Z.throwInstantiationError()},sT.prototype.createDebugVolume=function(e){S.Z.throwInstantiationError()};const aT=sT;function lT(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT),this._tilingScheme=(0,f.Z)(e.tilingScheme)?e.tilingScheme:new Bh.Z({ellipsoid:e.ellipsoid}),this._color=(0,p.Z)(e.color,h.Z.YELLOW),this._errorEvent=new m.Z,this._tileWidth=(0,p.Z)(e.tileWidth,256),this._tileHeight=(0,p.Z)(e.tileHeight,256),this._ready=!0,this._readyPromise=Promise.resolve(!0),this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0}Object.defineProperties(lT.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.ready","TileCoordinatesImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),!0}},readyPromise:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.readyPromise","TileCoordinatesImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}},defaultAlpha:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultAlpha","TileCoordinatesImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultAlpha","TileCoordinatesImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultNightAlpha","TileCoordinatesImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultNightAlpha","TileCoordinatesImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultDayAlpha","TileCoordinatesImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultDayAlpha","TileCoordinatesImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultBrightness","TileCoordinatesImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultBrightness","TileCoordinatesImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultContrast","TileCoordinatesImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultContrast","TileCoordinatesImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultHue","TileCoordinatesImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultHue","TileCoordinatesImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultSaturation","TileCoordinatesImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultSaturation","TileCoordinatesImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultGamma","TileCoordinatesImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultGamma","TileCoordinatesImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultMinificationFilter","TileCoordinatesImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultMinificationFilter","TileCoordinatesImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,_c.Z)("TileCoordinatesImageryProvider.defaultMagnificationFilter","TileCoordinatesImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,_c.Z)("TileCoordinatesImageryProvider.defaultMagnificationFilter","TileCoordinatesImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),lT.prototype.getTileCredits=function(e,t,i){},lT.prototype.requestImage=function(e,t,i,n){const r=document.createElement("canvas");r.width=256,r.height=256;const o=r.getContext("2d"),s=this._color.toCssColorString();return o.strokeStyle=s,o.lineWidth=2,o.strokeRect(1,1,255,255),o.font="bold 25px Arial",o.textAlign="center",o.fillStyle=s,o.fillText(`L: ${i}`,124,86),o.fillText(`X: ${e}`,124,136),o.fillText(`Y: ${t}`,124,186),Promise.resolve(r)},lT.prototype.pickFeatures=function(e,t,i,n,r){};const cT=lT;function uT(e){S.Z.throwInstantiationError()}uT.prototype.isReady=S.Z.throwInstantiationError,uT.prototype.shouldDiscardImage=S.Z.throwInstantiationError;const dT=uT;var hT=i(325276),pT=i(550519),fT=i(213482),mT=i(558593),gT=i(774598),_T=i(674601);const yT=Object.freeze({START:0,LOADING:1,READY:2,UPSAMPLED_ONLY:3});var ZT=i(327237),vT=i(932545),bT=i(481863),wT=i(705263),xT=i(326449),CT=i(802016),ST=i(373315),TT=i(236030),PT=i(440300),MT=i(896618),AT=i(337965),ET=i(593455),kT=i(597154),IT=i(19844),OT=i(842630),RT=i(611886),BT=i(444005);function DT(e,t){this.show=!0,(0,f.Z)(e)||(e=new $.Z),this.rectangle=$.Z.clone(e),(0,f.Z)(t)||(t=nw.Z.fromType(nw.Z.ColorType,{color:new h.Z(1,1,1,1)})),this.material=t,this._material=void 0,this._overlayCommand=void 0,this._rs=void 0}DT.prototype.update=function(e){if(!this.show)return;if(!(0,f.Z)(this.material))throw new S.Z("this.material must be defined.");if(!(0,f.Z)(this.rectangle))throw new S.Z("this.rectangle must be defined.");const t=this._rs;if((0,f.Z)(t)&&$.Z.equals(t.viewport,this.rectangle)||(this._rs=uh.Z.fromCache({blending:PZ.Z.ALPHA_BLEND,viewport:this.rectangle})),e.passes.render){const t=e.context;if(this._material!==this.material||!(0,f.Z)(this._overlayCommand)){this._material=this.material,(0,f.Z)(this._overlayCommand)&&this._overlayCommand.shaderProgram.destroy();const e=new Zh.Z({sources:[this._material.shaderSource,sZ]});this._overlayCommand=t.createViewportQuadCommand(e,{renderState:this._rs,uniformMap:this._material._uniforms,owner:this}),this._overlayCommand.pass=ah.Z.OVERLAY}this._material.update(t),this._overlayCommand.renderState=this._rs,this._overlayCommand.uniformMap=this._material._uniforms,e.commandList.push(this._overlayCommand)}},DT.prototype.isDestroyed=function(){return!1},DT.prototype.destroy=function(){return(0,f.Z)(this._overlayCommand)&&(this._overlayCommand.shaderProgram=this._overlayCommand.shaderProgram&&this._overlayCommand.shaderProgram.destroy()),(0,v_.Z)(this)};const FT=DT;var LT=i(663040),VT=i(22944);function NT(){S.Z.throwInstantiationError()}Object.defineProperties(NT.prototype,{ready:{get:S.Z.throwInstantiationError},readyPromise:{get:S.Z.throwInstantiationError},globalTransform:{get:S.Z.throwInstantiationError},shapeTransform:{get:S.Z.throwInstantiationError},shape:{get:S.Z.throwInstantiationError},minBounds:{get:S.Z.throwInstantiationError},maxBounds:{get:S.Z.throwInstantiationError},dimensions:{get:S.Z.throwInstantiationError},paddingBefore:{get:S.Z.throwInstantiationError},paddingAfter:{get:S.Z.throwInstantiationError},names:{get:S.Z.throwInstantiationError},types:{get:S.Z.throwInstantiationError},componentTypes:{get:S.Z.throwInstantiationError},minimumValues:{get:S.Z.throwInstantiationError},maximumValues:{get:S.Z.throwInstantiationError},maximumTileCount:{get:S.Z.throwInstantiationError},keyframeCount:{get:S.Z.throwInstantiationError},timeIntervalCollection:{get:S.Z.throwInstantiationError}}),NT.prototype.requestData=S.Z.throwInstantiationError;const UT=NT;var GT=i(88416);function zT(){S.Z.throwInstantiationError()}Object.defineProperties(zT.prototype,{orientedBoundingBox:{get:S.Z.throwInstantiationError},boundingSphere:{get:S.Z.throwInstantiationError},boundTransform:{get:S.Z.throwInstantiationError},shapeTransform:{get:S.Z.throwInstantiationError},shaderUniforms:{get:S.Z.throwInstantiationError},shaderDefines:{get:S.Z.throwInstantiationError},shaderMaximumIntersectionsLength:{get:S.Z.throwInstantiationError}}),zT.prototype.update=S.Z.throwInstantiationError,zT.prototype.computeOrientedBoundingBoxForTile=S.Z.throwInstantiationError,zT.prototype.computeApproximateStepSize=S.Z.throwInstantiationError,zT.DefaultMinBounds=S.Z.throwInstantiationError,zT.DefaultMaxBounds=S.Z.throwInstantiationError;const KT=zT;var qT=i(192627),HT=i(889528),WT=i(414409),jT=i(539007),JT=i(15223),XT=i(404588);const $T=new h.Z,YT=new h.Z,QT=new h.Z,eP=new h.Z,tP=new sp.Z,iP=new Uint8Array(4);function nP(e,t,i,n){const r=t.height===i.height?0:(e-t.height)/(i.height-t.height);return h.Z.lerp(t.color,i.color,r,n)}function rP(e,t){return{height:e,color:h.Z.clone(t)}}function oP(e){return(e=(e=e.filter(function(e,t,i){const n=t>0,r=t<i.length-1,o=!n||e.height===i[t-1].height,s=!r||e.height===i[t+1].height;return!o||!s})).filter(function(e,t,i){const n=t>0,r=t<i.length-1,o=!!n&&h.Z.equals(e.color,i[t-1].color),s=!!r&&h.Z.equals(e.color,i[t+1].color);return!o||!s})).filter(function(e,t,i){const n=t>0,r=!!n&&h.Z.equals(e.color,i[t-1].color),o=!n||e.height===i[t-1].height;return!r||!o})}function sP(e){const{scene:t,layers:i}=(0,p.Z)(e,p.Z.EMPTY_OBJECT);Ce.Z.typeOf.object("options.scene",t),Ce.Z.defined("options.layers",i),Ce.Z.typeOf.number.greaterThan("options.layers.length",i.length,0);const{context:n}=t,r=function(e){const t=function(e){let t,i;const n=[],r=e.length;for(t=0;t<r;t++){const r=e[t],o=r.entries,s=o.length;if(!Array.isArray(o)||0===s)throw new S.Z("entries must be an array with size > 0.");let a=[];for(i=0;i<s;i++){const e=o[i];if(!(0,f.Z)(e.height))throw new S.Z("entry requires a height.");if(!(0,f.Z)(e.color))throw new S.Z("entry requires a color.");const t=T.Z.clamp(e.height,sP._minimumHeight,sP._maximumHeight),n=h.Z.clone(e.color,$T);n.red*=n.alpha,n.green*=n.alpha,n.blue*=n.alpha,a.push(rP(t,n))}let l=!0,c=!0;for(i=0;i<s-1;i++){const e=a[i+0],t=a[i+1];l=l&&e.height<=t.height,c=c&&e.height>=t.height}c?a=a.reverse():l||(0,ey.Z)(a,function(e,t){return T.Z.sign(e.height-t.height)});let u=(0,p.Z)(r.extendDownwards,!1),d=(0,p.Z)(r.extendUpwards,!1);1!==a.length||u||d||(u=!0,d=!0),u&&a.splice(0,0,rP(sP._minimumHeight,a[0].color)),d&&a.splice(a.length,0,rP(sP._maximumHeight,a[a.length-1].color)),a=oP(a),n.push(a)}return n}(e);let i,n=[],r=[];function o(e,t){n.push(rP(e,t))}function s(e,t,i){let n=h.Z.multiplyByScalar(i,1-t.alpha,eP);n=h.Z.add(n,t,n),o(e,n)}const a=t.length;for(i=0;i<a;i++){const e=t[i];let a=0,l=0;r=n,n=[];const c=e.length,u=r.length;for(;a<c||l<u;){const t=a<c?e[a]:void 0,i=a>0?e[a-1]:void 0,n=a<c-1?e[a+1]:void 0,d=l<u?r[l]:void 0,h=l>0?r[l-1]:void 0,p=l<u-1?r[l+1]:void 0;if((0,f.Z)(t)&&(0,f.Z)(d)&&t.height===d.height){const e=(0,f.Z)(p)&&d.height===p.height,r=!(0,f.Z)(h),c=!(0,f.Z)(p),u=(0,f.Z)(n)&&t.height===n.height,m=!(0,f.Z)(i),g=!(0,f.Z)(n);e?u?(s(t.height,t.color,d.color),s(t.height,n.color,p.color)):m?(o(t.height,d.color),s(t.height,t.color,p.color)):g?(s(t.height,t.color,d.color),o(t.height,p.color)):(s(t.height,t.color,d.color),s(t.height,t.color,p.color)):r?u?(o(t.height,t.color),s(t.height,n.color,d.color)):g?(o(t.height,t.color),o(t.height,d.color)):(m||o(t.height,t.color),s(t.height,t.color,d.color)):c?u?(s(t.height,t.color,d.color),o(t.height,n.color)):m?(o(t.height,d.color),o(t.height,t.color)):g?s(t.height,t.color,d.color):(s(t.height,t.color,d.color),o(t.height,t.color)):u?(s(t.height,t.color,d.color),s(t.height,n.color,d.color)):m?(o(t.height,d.color),s(t.height,t.color,d.color)):g?(s(t.height,t.color,d.color),o(t.height,d.color)):s(t.height,t.color,d.color),a+=u?2:1,l+=e?2:1}else if((0,f.Z)(t)&&(0,f.Z)(d)&&(0,f.Z)(h)&&t.height<d.height){const e=nP(t.height,h,d,QT);(0,f.Z)(i)?(0,f.Z)(n)?s(t.height,t.color,e):(s(t.height,t.color,e),o(t.height,e)):(o(t.height,e),s(t.height,t.color,e)),a++}else if((0,f.Z)(d)&&(0,f.Z)(t)&&(0,f.Z)(i)&&d.height<t.height){const e=nP(d.height,i,t,YT);(0,f.Z)(h)?(0,f.Z)(p)?s(d.height,e,d.color):(s(d.height,e,d.color),o(d.height,e)):(o(d.height,e),s(d.height,e,d.color)),l++}else(0,f.Z)(t)&&(!(0,f.Z)(d)||t.height<d.height)?(!(0,f.Z)(d)||(0,f.Z)(h)||(0,f.Z)(n)?((0,f.Z)(d)||!(0,f.Z)(h)||(0,f.Z)(i)||(o(h.height,sP._emptyColor),o(t.height,sP._emptyColor)),o(t.height,t.color)):(o(t.height,t.color),o(t.height,sP._emptyColor),o(d.height,sP._emptyColor)),a++):(0,f.Z)(d)&&(!(0,f.Z)(t)||d.height<t.height)&&(o(d.height,d.color),l++)}}return oP(n)}(i),o=r.length;let s,a,l;if(sP._useFloatTexture(n)){a=ch.Z.FLOAT,l=n.webgl2?ug.Z.RED:ug.Z.LUMINANCE,s=new Float32Array(o);for(let e=0;e<o;e++)s[e]=r[e].height}else{a=ch.Z.UNSIGNED_BYTE,l=ug.Z.RGBA,s=new Uint8Array(4*o);for(let e=0;e<o;e++)sp.Z.packFloat(r[e].height,tP),sp.Z.pack(tP,s,4*e)}const c=bh.Z.create({context:n,pixelFormat:l,pixelDatatype:a,source:{arrayBufferView:s,width:o,height:1},sampler:new ph.Z({wrapS:Sh.Z.CLAMP_TO_EDGE,wrapT:Sh.Z.CLAMP_TO_EDGE,minificationFilter:Ch.Z.NEAREST,magnificationFilter:xh.Z.NEAREST})}),u=new Uint8Array(4*o);for(let e=0;e<o;e++)r[e].color.toBytes(iP),u[4*e+0]=iP[0],u[4*e+1]=iP[1],u[4*e+2]=iP[2],u[4*e+3]=iP[3];const d=bh.Z.create({context:n,pixelFormat:ug.Z.RGBA,pixelDatatype:ch.Z.UNSIGNED_BYTE,source:{arrayBufferView:u,width:o,height:1},sampler:new ph.Z({wrapS:Sh.Z.CLAMP_TO_EDGE,wrapT:Sh.Z.CLAMP_TO_EDGE,minificationFilter:Ch.Z.LINEAR,magnificationFilter:xh.Z.LINEAR})});return nw.Z.fromType("ElevationBand",{heights:c,colors:d})}sP._useFloatTexture=function(e){return e.floatingPointTexture},sP._maximumHeight=5906376425472,sP._minimumHeight=-5906376425472,sP._emptyColor=new h.Z(0,0,0,0);const aP=sP,lP=async function(e,t){let i;e=(0,p.Z)(e,wm.defaultApiKey);const n=wm.getDefaultApiKeyCredit(e);(0,f.Z)(n)&&(i=[n]),(t=(0,p.Z)(t,{})).showCreditsOnScreen=!0;const r=new we.Z({url:`${wm.mapTilesApiEndpoint}3dtiles/root.json`,queryParameters:{key:e},credits:i});return Av.Z.fromUrl(r,t)},cP=function(e){(0,_c.Z)("createOsmBuildings","createOsmBuildings was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use createOsmBuildingsAsync instead."),e=(0,Cc.Z)(e,{url:Um.Z.fromAssetId(96188)});const t=new Av.Z(e);let i=e.style;if(!(0,f.Z)(i)){const t=(0,p.Z)(e.defaultColor,h.Z.WHITE).toCssColorString();i=new tv.Z({color:`Boolean(\${feature['cesium#color']}) ? color(\${feature['cesium#color']}) : ${t}`})}return t.style=i,t},uP=async function(e){const t=await Av.Z.fromIonAssetId(96188,e);let i=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).style;if(!(0,f.Z)(i)){const t=(0,p.Z)(e.defaultColor,h.Z.WHITE).toCssColorString();i=new tv.Z({color:`Boolean(\${feature['cesium#color']}) ? color(\${feature['cesium#color']}) : ${t}`})}return t.style=i,t},dP=function(e){const t=[];let i=(e=(0,p.Z)(e,p.Z.EMPTY_OBJECT)).geometry;if(!(0,f.Z)(i))throw new S.Z("options.geometry is required.");(0,f.Z)(i.attributes)&&(0,f.Z)(i.primitiveType)||(i=i.constructor.createGeometry(i));const n=i.attributes,r=cp.Z.clone((0,p.Z)(e.modelMatrix,cp.Z.IDENTITY)),o=(0,p.Z)(e.length,1e4);if((0,f.Z)(n.normal)&&t.push(new bf.Z({geometry:Cf.Z.createLineSegmentsForVectors(i,"normal",o),attributes:{color:new Ep.Z(1,0,0,1)},modelMatrix:r})),(0,f.Z)(n.tangent)&&t.push(new bf.Z({geometry:Cf.Z.createLineSegmentsForVectors(i,"tangent",o),attributes:{color:new Ep.Z(0,1,0,1)},modelMatrix:r})),(0,f.Z)(n.bitangent)&&t.push(new bf.Z({geometry:Cf.Z.createLineSegmentsForVectors(i,"bitangent",o),attributes:{color:new Ep.Z(0,0,1,1)},modelMatrix:r})),t.length>0)return new zb.Z({asynchronous:!1,geometryInstances:t,appearance:new NC.Z({flat:!0,translucent:!1})})},hP=function(e){(0,_c.Z)("createWorldImagery","createWorldImagery was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use createWorldImageryAsync instead."),e=(0,p.Z)(e,p.Z.EMPTY_OBJECT);const t=(0,p.Z)(e.style,Nx.Z.AERIAL),i=new Vx.Z;return Vx.Z._initialize(i,t,e),i};var pP=i(952178),fP=i(292142),mP=i(428747),gP=i(999490),_P=i(804597),yP=i(640720),ZP=i(69994),vP=i(880855),bP=i(725933),wP=i(666974),xP=i(726686),CP=i(700349),SP=i(805820),TP=i(613435),PP=i(355804),MP=i(730935),AP=i(11666),EP=i(368841),kP=i(856938),IP=i(332450),OP=i(925524),RP=i(572588),BP=i(207025),DP=i(345706),FP=i(288834),LP=i(612897),VP=i(815555),NP=i(149925),UP=i(175477),GP=i(363986),zP=i(643068),KP=i(242084),qP=i(264115),HP=i(590574),WP=i(110005),jP=i(763347),JP=i(887655),XP=i(257478),$P=i(98035),YP=i(742339),QP=i(667469),eM=i(527145),tM=i(406889),iM=i(869447),nM=i(357855),rM=i(632424),oM=i(265058),sM=i(75358),aM=i(130471),lM=i(525080),cM=i(190785),uM=i(43797),dM=i(163615),hM=i(967570),pM=i(488056),fM=i(833900),mM=i(387980),gM=i(989642),_M=i(311042),yM=i(328326),ZM=i(139040),vM=i(79433),bM=i(951710),wM=i(417512),xM=i(508759),CM=i(808355),SM=i(7237),TM=i(411589),PM=i(618917),MM=i(705092),AM=i(937),EM=i(278628),kM=i(570987),IM=i(359576),OM=i(790135),RM=i(684363),BM=i(26916),DM=i(619480),FM=i(982744),LM=i(35014),VM=i(721241),NM=i(297250),UM=i(85050),GM=i(943251),zM=i(870128);const KM="uniform sampler2D u_depthTexture;\n\nin vec2 v_textureCoordinates;\n\nvoid main()\n{\n    float z_window = czm_unpackDepth(texture(u_depthTexture, v_textureCoordinates));\n    z_window = czm_reverseLogDepth(z_window);\n    float n_range = czm_depthRange.near;\n    float f_range = czm_depthRange.far;\n    float z_ndc = (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n    float scale = pow(z_ndc * 0.5 + 0.5, 8.0);\n    out_FragColor = vec4(mix(vec3(0.0), vec3(1.0), scale), 1.0);\n}\n";var qM=i(227657),HM=i(172538),WM=i(300731),jM=i(572814),JM=i(33433),XM=i(853891),$M=i(73023),YM=i(652413),QM=i(449950),eA=i(671496),tA=i(250449),iA=i(387009),nA=i(930927),rA=i(390669),oA=i(676404),sA=i(627577),aA=i(980287),lA=i(459145),cA=i(476994),uA=i(260400),dA=i(358264),hA=i(77210),pA=i(840344),fA=i(662825),mA=i(721095),gA=i(422503),_A=i(689940),yA=i(911459),ZA=i(501734),vA=i(769854),bA=i(381657),wA=i(611375),xA=i(224857),CA=i(454039),SA=i(719870),TA=i(357431),PA=i(206545),MA=i(580031),AA=i(863758),EA=i(819430),kA=i(748361),IA=i(898341),OA=i(728331),RA=i(573745),BA=i(34373),DA=i(343917),FA=i(945719),LA=i(234066),VA=i(705702),NA=i(201074),UA=i(911955),GA=i(217929),zA=i(268597),KA=i(998848),qA=i(841639),HA=i(29645),WA=i(890666),jA=i(286423),JA=i(451065),XA=i(612999),$A=i(300062),YA=i(496943),QA=i(7804),eE=i(911251),tE=i(59317),iE=i(486477),nE=i(430124),rE=i(540540),oE=i(965089),sE=i(253825),aE=i(696879),lE=i(239833),cE=i(744478),uE=i(632029),dE=i(732340),hE=i(913194),pE=i(989962),fE=i(872544),mE=i(866577),gE=i(859717),_E=i(580612),yE=i(523156),ZE=i(718726),vE=i(525451),bE=i(987366),wE=i(389275),xE=i(147212),CE=i(100499),SE=i(148610),TE=i(356300),PE=i(87659),ME=i(985797),AE=i(638519),EE=i(789514),kE=i(664717),IE=i(64153),OE=i(894127),RE=i(679924),BE=i(368802),DE=i(184155),FE=i(434374),LE=i(44333),VE=i(896927),NE=i(332383),UE=i(292618),GE=i(115518),zE=i(21971),KE=i(998422),qE=i(895711),HE=i(10967),WE=i(713970),jE=i(614467);const JE=function(e){e=(0,p.Z)(e,p.Z.EMPTY_OBJECT);const t=(0,f.Z)(e.typedArray);if(t===(0,f.Z)(e.url))throw new S.Z("exactly one of options.typedArray, options.url must be defined");if(t&&(!(0,f.Z)(e.width)||!(0,f.Z)(e.height)))throw new S.Z("options.width and options.height are required when options.typedArray is defined");this.typedArray=e.typedArray,this.width=e.width,this.height=e.height,this.pixelFormat=(0,p.Z)(e.pixelFormat,ug.Z.RGBA),this.pixelDatatype=(0,p.Z)(e.pixelDatatype,ch.Z.UNSIGNED_BYTE);let i=e.url;"string"==typeof i&&(i=we.Z.createIfNeeded(i)),this.resource=i;const n=(0,p.Z)(e.repeat,!0)?Sh.Z.REPEAT:Sh.Z.CLAMP_TO_EDGE;this.sampler=new ph.Z({wrapS:n,wrapT:n,minificationFilter:e.minificationFilter,magnificationFilter:e.magnificationFilter,maximumAnisotropy:e.maximumAnisotropy})};var XE=i(325237),$E=i(563315);const YE=Object.freeze({FLOAT:"float",VEC2:"vec2",VEC3:"vec3",VEC4:"vec4",MAT2:"mat2",MAT3:"mat2",MAT4:"mat4"});var QE=i(350974),ek=i(454400),tk=i(457539),ik=i(401943),nk=i(91721),rk=i(713242),ok=i(655127),sk=i(327963),ak=i(656374),lk=i(958223),ck=i(564001),uk=i(484215),dk=i(147619),hk=i(638639),pk=i(953916),fk=i(620454),mk=i(721640),gk=i(123926),_k=i(428155),yk=i(380341),Zk=i(46305),vk=i(990252),bk=i(904547),wk=i(985758),xk=i(441456),Ck=i(628834),Sk=i(510544),Tk=i(913506),Pk=i(875578),Mk=i(397838),Ak=i(607298),Ek=i(700073),kk=i(525277),Ik=i(222338),Ok=i(190754),Rk=i(186550),Bk=i(374803),Dk=i(552097),Fk=i(580537),Lk=i(253410),Vk=i(292287),Nk=i(301227),Uk=i(907001),Gk=i(366418),zk=i(318499),Kk=i(931031),qk=i(449002),Hk=i(11403),Wk=i(379489),jk=i(486220),Jk=i(607145),Xk=i(250774),$k=i(180777),Yk=i(413695),Qk=i(300081),eI=i(113562),tI=i(526477),iI=i(787670),nI=i(44554),rI=i(887801),oI=i(311325),sI=i(632637),aI=i(95373),lI=i(23205),cI=i(818162),uI=i(609223),dI=i(21269),hI=i(506120),pI=i(871170),fI=i(539332),mI=i(806615),gI=i(253192),_I=i(678849),yI=i(673440),ZI=i(569681),vI=i(882457),bI=i(473577),wI=i(288656),xI=i(811119),CI=i(119269),SI=i(862149),TI=i(915475),PI=i(833481),MI=i(135053),AI=i(34493),EI=i(265810),kI=i(226153),II=i(977007),OI=i(735973),RI=i(104583),BI=i(540449),DI=i(326666),FI=i(488376),LI=i(273315),VI=i(664724),NI=i(555409),UI=i(892505),GI=i(736e3),zI=i(367346),KI=i(129666),qI=i(579433),HI=i(663322),WI=i(261459),jI=i(648871),JI=i(745605),XI=i(919598),$I=i(110439),YI=i(740779),QI=i(878513),eO=i(607105),tO=i(408075),iO=i(918541),nO=i(680280),rO=i(205738),oO=i(264390),sO=i(323041),aO=i(14678),lO=i(228498),cO=i(650534),uO=i(71509),dO=i(135512),hO=i(258378),pO=i(893810),fO=i(760216),mO=i(576219),gO=i(131079),_O=i(63805),yO=i(269167),ZO=i(989638),vO=i(835899),bO=i(574830),wO=i(148241),xO=i(610420);const CO=function(e){let t;return function(i){const n=i.data,r=[],o={id:n.id,result:void 0,error:void 0};return Promise.resolve(function(e,t,i){let n;try{return n=e(t,i),n}catch(e){return Promise.reject(e)}}(e,n.parameters,r)).then(function(e){o.result=e}).catch(function(e){e instanceof Error?o.error={name:e.name,message:e.message,stack:e.stack}:o.error=e}).finally(function(){(0,f.Z)(t)||(t=(0,p.Z)(self.webkitPostMessage,self.postMessage)),n.canTransferArrayBuffer||(r.length=0);try{t(o,r)}catch(e){o.result=void 0,o.error=`postMessage failed with error: ${(0,U_.Z)(e)}\n  with responseMessage: ${JSON.stringify(o)}`,t(o)}})}};var SO=i(851912);const TO=function(){this.canExecute=void 0,this.beforeExecute=void 0,this.afterExecute=void 0,S.Z.throwInstantiationError()},PO={createCheckbox:function(e,t,i){Ce.Z.typeOf.string("labelText",e),Ce.Z.typeOf.string("checkedBinding",t);const n=document.createElement("div"),r=document.createElement("label"),o=document.createElement("input");o.type="checkbox";let s=`checked: ${t}`;return(0,f.Z)(i)&&(s+=`, enable: ${i}`),o.setAttribute("data-bind",s),r.appendChild(o),r.appendChild(document.createTextNode(e)),n.appendChild(r),n},createSection:function(e,t,i,n){Ce.Z.defined("panel",e),Ce.Z.typeOf.string("headerText",t),Ce.Z.typeOf.string("sectionVisibleBinding",i),Ce.Z.typeOf.string("toggleSectionVisibilityBinding",n);const r=document.createElement("div");r.className="cesium-cesiumInspector-section",r.setAttribute("data-bind",`css: { "cesium-cesiumInspector-section-collapsed": !${i} }`),e.appendChild(r);const o=document.createElement("h3");o.className="cesium-cesiumInspector-sectionHeader",o.appendChild(document.createTextNode(t)),o.setAttribute("data-bind",`click: ${n}`),r.appendChild(o);const s=document.createElement("div");return s.className="cesium-cesiumInspector-sectionContent",r.appendChild(s),s},createRangeInput:function(e,t,i,n,r,o){Ce.Z.typeOf.string("rangeText",e),Ce.Z.typeOf.string("sliderValueBinding",t),Ce.Z.typeOf.number("min",i),Ce.Z.typeOf.number("max",n),o=(0,p.Z)(o,t);const s=document.createElement("input");s.setAttribute("data-bind",`value: ${o}`),s.type="number";const a=document.createElement("input");a.type="range",a.min=i,a.max=n,a.step=(0,p.Z)(r,"any"),a.setAttribute("data-bind",`valueUpdate: "input", value: ${t}`);const l=document.createElement("div");l.appendChild(a);const c=document.createElement("div");return c.className="cesium-cesiumInspector-slider",c.appendChild(document.createTextNode(e)),c.appendChild(s),c.appendChild(l),c},createButton:function(e,t,i){Ce.Z.typeOf.string("buttonText",e),Ce.Z.typeOf.string("clickedBinding",t);const n=document.createElement("button");n.type="button",n.textContent=e,n.className="cesium-cesiumInspector-pickButton";let r=`click: ${t}`;return(0,f.Z)(i)&&(r+=`, css: {"cesium-cesiumInspector-pickButtonHighlight" : ${i}}`),n.setAttribute("data-bind",r),n}},MO=PO;var AO=i(216080),EO=i(576451),kO=i(515974),IO=i(591795),OO=i(383598),RO=i(184044),BO=i(129388),DO=i(617977),FO=i(646884),LO=i(680898),VO=i(435493),NO=i(933261);function UO(e,t){t?e._eventHandler.setInputAction(function(t){const i=e._scene.pick(t.endPosition);(0,f.Z)(i)&&i.primitive instanceof Av.Z&&(e.tileset=i.primitive)},Vg.Z.MOUSE_MOVE):(e._eventHandler.removeInputAction(Vg.Z.MOUSE_MOVE),e.picking=e.picking)}const GO={maximumFractionDigits:3};function zO(e){const t=e/1048576;return t<1?t.toLocaleString(void 0,GO):Math.round(t).toLocaleString()}function KO(e,t){if(!(0,f.Z)(e))return"";const i=t?e._statisticsPerPass[$Z.Z.PICK]:e._statisticsPerPass[$Z.Z.RENDER];let n='<ul class="cesium-cesiumInspector-statistics">';return n+=`<li><strong>Visited: </strong>${i.visited.toLocaleString()}</li><li><strong>Selected: </strong>${i.selected.toLocaleString()}</li><li><strong>Commands: </strong>${i.numberOfCommands.toLocaleString()}</li>`,n+="</ul>",t||(n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Requests: </strong>${i.numberOfPendingRequests.toLocaleString()}</li><li><strong>Attempted: </strong>${i.numberOfAttemptedRequests.toLocaleString()}</li><li><strong>Processing: </strong>${i.numberOfTilesProcessing.toLocaleString()}</li><li><strong>Content Ready: </strong>${i.numberOfTilesWithContentReady.toLocaleString()}</li><li><strong>Total: </strong>${i.numberOfTilesTotal.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Features Selected: </strong>${i.numberOfFeaturesSelected.toLocaleString()}</li><li><strong>Features Loaded: </strong>${i.numberOfFeaturesLoaded.toLocaleString()}</li><li><strong>Points Selected: </strong>${i.numberOfPointsSelected.toLocaleString()}</li><li><strong>Points Loaded: </strong>${i.numberOfPointsLoaded.toLocaleString()}</li><li><strong>Triangles Selected: </strong>${i.numberOfTrianglesSelected.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Tiles styled: </strong>${i.numberOfTilesStyled.toLocaleString()}</li><li><strong>Features styled: </strong>${i.numberOfFeaturesStyled.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Children Union Culled: </strong>${i.numberOfTilesCulledWithChildrenUnion.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Geometry Memory (MB): </strong>${zO(i.geometryByteLength)}</li><li><strong>Texture Memory (MB): </strong>${zO(i.texturesByteLength)}</li><li><strong>Batch Table Memory (MB): </strong>${zO(i.batchTableByteLength)}</li>`,n+="</ul>"),n}function qO(){const e=fv.Z.statistics;return`\n  <ul class="cesium-cesiumInspector-statistics">\n    <li><strong>Geometry Memory (MB): </strong>${zO(e.geometryByteLength)}</li>\n    <li><strong>Texture Memory (MB): </strong>${zO(e.texturesByteLength)}</li>\n  </ul>\n  `}const HO=[{text:"Highlight",value:UZ.Z.HIGHLIGHT},{text:"Replace",value:UZ.Z.REPLACE},{text:"Mix",value:UZ.Z.MIX}],WO=new h.Z(1,1,0,.4),jO=new h.Z,JO=new h.Z;function XO(e,t){Ce.Z.typeOf.object("scene",e),Ce.Z.typeOf.object("performanceContainer",t);const i=this,n=e.canvas;this._eventHandler=new Lg.Z(n),this._scene=e,this._performanceContainer=t,this._canvas=n,this._performanceDisplay=new UC.Z({container:t}),this._statisticsText="",this._pickStatisticsText="",this._resourceCacheStatisticsText="",this._editorError="",this.performance=!1,this.showStatistics=!0,this.showPickStatistics=!0,this.showResourceCacheStatistics=!1,this.inspectorVisible=!0,this.tilesetVisible=!1,this.displayVisible=!1,this.updateVisible=!1,this.loggingVisible=!1,this.styleVisible=!1,this.tileDebugLabelsVisible=!1,this.optimizationVisible=!1,this.styleString="{}",this.hasEnabledWireframe=!1,this._tileset=void 0,this._feature=void 0,this._tile=void 0,NO.Z.track(this,["performance","inspectorVisible","_statisticsText","_pickStatisticsText","_resourceCacheStatisticsText","_editorError","showPickStatistics","showStatistics","showResourceCacheStatistics","tilesetVisible","displayVisible","updateVisible","loggingVisible","styleVisible","optimizationVisible","tileDebugLabelsVisible","styleString","_feature","_tile","_tileset","hasEnabledWireframe"]),this._properties=NO.Z.observable({}),this.properties=[],NO.Z.defineProperty(this,"properties",function(){const e=[],t=i._properties();for(const i in t)t.hasOwnProperty(i)&&e.push(i);return e});const r=NO.Z.observable();NO.Z.defineProperty(this,"dynamicScreenSpaceError",{get:function(){return r()},set:function(e){r(e),(0,f.Z)(i._tileset)&&(i._tileset.dynamicScreenSpaceError=e)}}),this.dynamicScreenSpaceError=!1;const o=NO.Z.observable();NO.Z.defineProperty(this,"colorBlendMode",{get:function(){return o()},set:function(e){o(e),(0,f.Z)(i._tileset)&&(i._tileset.colorBlendMode=e,i._scene.requestRender())}}),this.colorBlendMode=UZ.Z.HIGHLIGHT;const s=NO.Z.observable(),a=NO.Z.observable();NO.Z.defineProperty(this,"picking",{get:function(){return a()},set:function(t){a(t),t?i._eventHandler.setInputAction(function(t){const n=e.pick(t.endPosition);if(n instanceof WZ.Z?(i.feature=n,i.tile=n.content.tile):(0,f.Z)(n)&&(0,f.Z)(n.content)?(i.feature=void 0,i.tile=n.content.tile):(i.feature=void 0,i.tile=void 0),(0,f.Z)(i._tileset)){if(s&&(0,f.Z)(n)&&(0,f.Z)(n.content)){let r;e.pickPositionSupported&&(r=e.pickPosition(t.endPosition),(0,f.Z)(r)&&(i._tileset.debugPickPosition=r)),i._tileset.debugPickedTile=n.content.tile}else i._tileset.debugPickedTile=void 0;i._scene.requestRender()}},Vg.Z.MOUSE_MOVE):(i.feature=void 0,i.tile=void 0,i._eventHandler.removeInputAction(Vg.Z.MOUSE_MOVE))}}),this.picking=!0;const l=NO.Z.observable();NO.Z.defineProperty(this,"colorize",{get:function(){return l()},set:function(e){l(e),(0,f.Z)(i._tileset)&&(i._tileset.debugColorizeTiles=e,i._scene.requestRender())}}),this.colorize=!1;const c=NO.Z.observable();NO.Z.defineProperty(this,"wireframe",{get:function(){return c()},set:function(e){c(e),(0,f.Z)(i._tileset)&&(i._tileset.debugWireframe=e,i._scene.requestRender())}}),this.wireframe=!1;const u=NO.Z.observable();NO.Z.defineProperty(this,"showBoundingVolumes",{get:function(){return u()},set:function(e){u(e),(0,f.Z)(i._tileset)&&(i._tileset.debugShowBoundingVolume=e,i._scene.requestRender())}}),this.showBoundingVolumes=!1;const d=NO.Z.observable();NO.Z.defineProperty(this,"showContentBoundingVolumes",{get:function(){return d()},set:function(e){d(e),(0,f.Z)(i._tileset)&&(i._tileset.debugShowContentBoundingVolume=e,i._scene.requestRender())}}),this.showContentBoundingVolumes=!1;const h=NO.Z.observable();NO.Z.defineProperty(this,"showRequestVolumes",{get:function(){return h()},set:function(e){h(e),(0,f.Z)(i._tileset)&&(i._tileset.debugShowViewerRequestVolume=e,i._scene.requestRender())}}),this.showRequestVolumes=!1;const p=NO.Z.observable();NO.Z.defineProperty(this,"freezeFrame",{get:function(){return p()},set:function(e){p(e),(0,f.Z)(i._tileset)&&(i._tileset.debugFreezeFrame=e,i._scene.debugShowFrustumPlanes=e,i._scene.requestRender())}}),this.freezeFrame=!1,NO.Z.defineProperty(this,"showOnlyPickedTileDebugLabel",{get:function(){return s()},set:function(e){s(e),(0,f.Z)(i._tileset)&&(i._tileset.debugPickedTileLabelOnly=e,i._scene.requestRender())}}),this.showOnlyPickedTileDebugLabel=!1;const m=NO.Z.observable();NO.Z.defineProperty(this,"showGeometricError",{get:function(){return m()},set:function(e){m(e),(0,f.Z)(i._tileset)&&(i._tileset.debugShowGeometricError=e,i._scene.requestRender())}}),this.showGeometricError=!1;const g=NO.Z.observable();NO.Z.defineProperty(this,"showRenderingStatistics",{get:function(){return g()},set:function(e){g(e),(0,f.Z)(i._tileset)&&(i._tileset.debugShowRenderingStatistics=e,i._scene.requestRender())}}),this.showRenderingStatistics=!1;const _=NO.Z.observable();NO.Z.defineProperty(this,"showMemoryUsage",{get:function(){return _()},set:function(e){_(e),(0,f.Z)(i._tileset)&&(i._tileset.debugShowMemoryUsage=e,i._scene.requestRender())}}),this.showMemoryUsage=!1;const y=NO.Z.observable();NO.Z.defineProperty(this,"showUrl",{get:function(){return y()},set:function(e){y(e),(0,f.Z)(i._tileset)&&(i._tileset.debugShowUrl=e,i._scene.requestRender())}}),this.showUrl=!1;const Z=NO.Z.observable();NO.Z.defineProperty(this,"maximumScreenSpaceError",{get:function(){return Z()},set:function(e){e=Number(e),isNaN(e)||(Z(e),(0,f.Z)(i._tileset)&&(i._tileset.maximumScreenSpaceError=e))}}),this.maximumScreenSpaceError=16;const v=NO.Z.observable();NO.Z.defineProperty(this,"dynamicScreenSpaceErrorDensity",{get:function(){return v()},set:function(e){e=Number(e),isNaN(e)||(v(e),(0,f.Z)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorDensity=e))}}),this.dynamicScreenSpaceErrorDensity=.00278,this.dynamicScreenSpaceErrorDensitySliderValue=void 0,NO.Z.defineProperty(this,"dynamicScreenSpaceErrorDensitySliderValue",{get:function(){return Math.pow(v(),1/6)},set:function(e){v(Math.pow(e,6))}});const b=NO.Z.observable();NO.Z.defineProperty(this,"dynamicScreenSpaceErrorFactor",{get:function(){return b()},set:function(e){e=Number(e),isNaN(e)||(b(e),(0,f.Z)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorFactor=e))}}),this.dynamicScreenSpaceErrorFactor=4;const w=(x=this,function(e){const t=x._scene.pick(e.position);(0,f.Z)(t)&&t.primitive instanceof Av.Z&&(x.tileset=t.primitive),x.pickActive=!1});var x;const C=NO.Z.observable();NO.Z.defineProperty(this,"pickActive",{get:function(){return C()},set:function(e){C(e),e?i._eventHandler.setInputAction(w,Vg.Z.LEFT_CLICK):i._eventHandler.removeInputAction(Vg.Z.LEFT_CLICK)}});const S=NO.Z.observable();NO.Z.defineProperty(this,"pointCloudShading",{get:function(){return S()},set:function(e){S(e),(0,f.Z)(i._tileset)&&(i._tileset.pointCloudShading.attenuation=e)}}),this.pointCloudShading=!1;const T=NO.Z.observable();NO.Z.defineProperty(this,"geometricErrorScale",{get:function(){return T()},set:function(e){e=Number(e),isNaN(e)||(T(e),(0,f.Z)(i._tileset)&&(i._tileset.pointCloudShading.geometricErrorScale=e))}}),this.geometricErrorScale=1;const P=NO.Z.observable();NO.Z.defineProperty(this,"maximumAttenuation",{get:function(){return P()},set:function(e){e=Number(e),isNaN(e)||(P(e),(0,f.Z)(i._tileset)&&(i._tileset.pointCloudShading.maximumAttenuation=0===e?void 0:e))}}),this.maximumAttenuation=0;const M=NO.Z.observable();NO.Z.defineProperty(this,"baseResolution",{get:function(){return M()},set:function(e){e=Number(e),isNaN(e)||(M(e),(0,f.Z)(i._tileset)&&(i._tileset.pointCloudShading.baseResolution=0===e?void 0:e))}}),this.baseResolution=0;const A=NO.Z.observable();NO.Z.defineProperty(this,"eyeDomeLighting",{get:function(){return A()},set:function(e){A(e),(0,f.Z)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLighting=e)}}),this.eyeDomeLighting=!1;const E=NO.Z.observable();NO.Z.defineProperty(this,"eyeDomeLightingStrength",{get:function(){return E()},set:function(e){e=Number(e),isNaN(e)||(E(e),(0,f.Z)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingStrength=e))}}),this.eyeDomeLightingStrength=1;const k=NO.Z.observable();NO.Z.defineProperty(this,"eyeDomeLightingRadius",{get:function(){return k()},set:function(e){e=Number(e),isNaN(e)||(k(e),(0,f.Z)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingRadius=e))}}),this.eyeDomeLightingRadius=1,this.pickActive=!1;const I=NO.Z.observable();NO.Z.defineProperty(this,"skipLevelOfDetail",{get:function(){return I()},set:function(e){I(e),(0,f.Z)(i._tileset)&&(i._tileset.skipLevelOfDetail=e)}}),this.skipLevelOfDetail=!0;const O=NO.Z.observable();NO.Z.defineProperty(this,"skipScreenSpaceErrorFactor",{get:function(){return O()},set:function(e){e=Number(e),isNaN(e)||(O(e),(0,f.Z)(i._tileset)&&(i._tileset.skipScreenSpaceErrorFactor=e))}}),this.skipScreenSpaceErrorFactor=16;const R=NO.Z.observable();NO.Z.defineProperty(this,"baseScreenSpaceError",{get:function(){return R()},set:function(e){e=Number(e),isNaN(e)||(R(e),(0,f.Z)(i._tileset)&&(i._tileset.baseScreenSpaceError=e))}}),this.baseScreenSpaceError=1024;const B=NO.Z.observable();NO.Z.defineProperty(this,"skipLevels",{get:function(){return B()},set:function(e){e=Number(e),isNaN(e)||(B(e),(0,f.Z)(i._tileset)&&(i._tileset.skipLevels=e))}}),this.skipLevels=1;const D=NO.Z.observable();NO.Z.defineProperty(this,"immediatelyLoadDesiredLevelOfDetail",{get:function(){return D()},set:function(e){D(e),(0,f.Z)(i._tileset)&&(i._tileset.immediatelyLoadDesiredLevelOfDetail=e)}}),this.immediatelyLoadDesiredLevelOfDetail=!1;const F=NO.Z.observable();NO.Z.defineProperty(this,"loadSiblings",{get:function(){return F()},set:function(e){F(e),(0,f.Z)(i._tileset)&&(i._tileset.loadSiblings=e)}}),this.loadSiblings=!1,this._style=void 0,this._shouldStyle=!1,this._definedProperties=["properties","dynamicScreenSpaceError","colorBlendMode","picking","colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","maximumScreenSpaceError","dynamicScreenSpaceErrorDensity","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevelOfDetail","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","dynamicScreenSpaceErrorDensitySliderValue","dynamicScreenSpaceErrorFactor","pickActive","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl","pointCloudShading","geometricErrorScale","maximumAttenuation","baseResolution","eyeDomeLighting","eyeDomeLightingStrength","eyeDomeLightingRadius"],this._removePostRenderEvent=e.postRender.addEventListener(function(){i._update()}),(0,f.Z)(this._tileset)||UO(this,!0)}function $O(e){if(!(0,f.Z)(e))return!1;if(e.featuresLength>0)return!0;const t=e.innerContents;if((0,f.Z)(t)){const e=t.length;for(let i=0;i<e;++i)if(!$O(t[i]))return!1;return!0}return!1}Object.defineProperties(XO.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},statisticsText:{get:function(){return this._statisticsText}},pickStatisticsText:{get:function(){return this._pickStatisticsText}},resourceCacheStatisticsText:{get:function(){return this._resourceCacheStatisticsText}},colorBlendModes:{get:function(){return HO}},editorError:{get:function(){return this._editorError}},tileset:{get:function(){return this._tileset},set:function(e){if(this._tileset=e,this._style=void 0,this.styleString="{}",this.feature=void 0,this.tile=void 0,(0,f.Z)(e)){const t=this;e._readyPromise.then(function(e){t.isDestroyed()||t._properties(e.properties)});const i=["colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl"],n=i.length;for(let e=0;e<n;++e){const t=i[e];this[t]=this[t]}this.maximumScreenSpaceError=e.maximumScreenSpaceError,this.dynamicScreenSpaceError=e.dynamicScreenSpaceError,this.dynamicScreenSpaceErrorDensity=e.dynamicScreenSpaceErrorDensity,this.dynamicScreenSpaceErrorFactor=e.dynamicScreenSpaceErrorFactor,this.colorBlendMode=e.colorBlendMode,this.skipLevelOfDetail=e.skipLevelOfDetail,this.skipScreenSpaceErrorFactor=e.skipScreenSpaceErrorFactor,this.baseScreenSpaceError=e.baseScreenSpaceError,this.skipLevels=e.skipLevels,this.immediatelyLoadDesiredLevelOfDetail=e.immediatelyLoadDesiredLevelOfDetail,this.loadSiblings=e.loadSiblings,this.hasEnabledWireframe=e._enableDebugWireframe;const r=e.pointCloudShading;this.pointCloudShading=r.attenuation,this.geometricErrorScale=r.geometricErrorScale,this.maximumAttenuation=r.maximumAttenuation?r.maximumAttenuation:0,this.baseResolution=r.baseResolution?r.baseResolution:0,this.eyeDomeLighting=r.eyeDomeLighting,this.eyeDomeLightingStrength=r.eyeDomeLightingStrength,this.eyeDomeLightingRadius=r.eyeDomeLightingRadius,this._scene.requestRender()}else this._properties({});this._statisticsText=KO(e,!1),this._pickStatisticsText=KO(e,!0),this._resourceCacheStatisticsText=qO(),UO(this,!1)}},feature:{get:function(){return this._feature},set:function(e){if(this._feature===e)return;const t=this._feature;(0,f.Z)(t)&&!t.content.isDestroyed()&&(!this.colorize&&(0,f.Z)(this._style)?t.color=(0,f.Z)(this._style.color)?this._style.color.evaluateColor(t,jO):h.Z.WHITE:t.color=JO,this._scene.requestRender()),(0,f.Z)(e)&&(h.Z.clone(e.color,JO),e.color=WO,this._scene.requestRender()),this._feature=e}},tile:{get:function(){return this._tile},set:function(e){if(this._tile===e)return;const t=this._tile;!(0,f.Z)(t)||t.isDestroyed()||$O(t.content)||(t.color=JO,this._scene.requestRender()),(0,f.Z)(e)&&!$O(e.content)&&(h.Z.clone(e.color,JO),e.color=WO,this._scene.requestRender()),this._tile=e}}}),XO.prototype.togglePickTileset=function(){this.pickActive=!this.pickActive},XO.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible},XO.prototype.toggleTileset=function(){this.tilesetVisible=!this.tilesetVisible},XO.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible},XO.prototype.toggleUpdate=function(){this.updateVisible=!this.updateVisible},XO.prototype.toggleLogging=function(){this.loggingVisible=!this.loggingVisible},XO.prototype.toggleStyle=function(){this.styleVisible=!this.styleVisible},XO.prototype.toggleTileDebugLabels=function(){this.tileDebugLabelsVisible=!this.tileDebugLabelsVisible},XO.prototype.toggleOptimization=function(){this.optimizationVisible=!this.optimizationVisible},XO.prototype.trimTilesCache=function(){(0,f.Z)(this._tileset)&&this._tileset.trimLoadedTiles()},XO.prototype.compileStyle=function(){const e=this._tileset;if((0,f.Z)(e)&&this.styleString!==JSON.stringify(e.style)){this._editorError="";try{0===this.styleString.length&&(this.styleString="{}"),this._style=new tv.Z(JSON.parse(this.styleString)),this._shouldStyle=!0,this._scene.requestRender()}catch(e){this._editorError=e.toString()}this.feature=this._feature,this.tile=this._tile}},XO.prototype.styleEditorKeyPress=function(e,t){if(9===t.keyCode){t.preventDefault();const e=t.target,i=e.selectionStart,n=e.selectionEnd;let r=n;const o=e.value.slice(i,n).split("\n"),s=o.length;let a;if(t.shiftKey)for(a=0;a<s;++a)" "===o[a][0]&&(" "===o[a][1]?(o[a]=o[a].substr(2),r-=2):(o[a]=o[a].substr(1),r-=1));else for(a=0;a<s;++a)o[a]=`  ${o[a]}`,r+=2;const l=o.join("\n");e.value=e.value.slice(0,i)+l+e.value.slice(n),e.selectionStart=i!==n?i:r,e.selectionEnd=r}else!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||this.compileStyle();return!0},XO.prototype._update=function(){const e=this._tileset;if(this.performance&&this._performanceDisplay.update(),(0,f.Z)(e)){if(e.isDestroyed())return this.tile=void 0,this.feature=void 0,void(this.tileset=void 0);const t=e.style;this._style!==e.style&&(this._shouldStyle?(e.style=this._style,this._shouldStyle=!1):(this._style=t,this.styleString=JSON.stringify(t.style,null,"  ")))}this.showStatistics&&(this._statisticsText=KO(e,!1),this._pickStatisticsText=KO(e,!0),this._resourceCacheStatisticsText=qO())},XO.prototype.isDestroyed=function(){return!1},XO.prototype.destroy=function(){this._eventHandler.destroy(),this._removePostRenderEvent();const e=this;return this._definedProperties.forEach(function(t){NO.Z.getObservable(e,t).dispose()}),(0,v_.Z)(this)},XO.getStatistics=KO;const YO=XO;function QO(e,t){Ce.Z.defined("container",e),Ce.Z.typeOf.object("scene",t),e=(0,mc.Z)(e);const i=document.createElement("div"),n=document.createElement("div");n.setAttribute("data-bind","visible: performance");const r=new YO(t,n);this._viewModel=r,this._container=e,this._element=i;const o=document.createElement("div");o.textContent="3D Tiles Inspector",o.className="cesium-cesiumInspector-button",o.setAttribute("data-bind","click: toggleInspector"),i.appendChild(o),i.className="cesium-cesiumInspector cesium-3DTilesInspector",i.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}'),e.appendChild(i);const s=document.createElement("div");s.className="cesium-cesiumInspector-dropDown",i.appendChild(s);const a=MO.createSection,l=MO.createCheckbox,c=MO.createRangeInput,u=MO.createButton,d=a(s,"Tileset","tilesetVisible","toggleTileset"),h=a(s,"Display","displayVisible","toggleDisplay"),p=a(s,"Update","updateVisible","toggleUpdate"),f=a(s,"Logging","loggingVisible","toggleLogging"),m=a(s,"Tile Debug Labels","tileDebugLabelsVisible","toggleTileDebugLabels"),g=a(s,"Style","styleVisible","toggleStyle"),_=a(s,"Optimization","optimizationVisible","toggleOptimization"),y=document.createElement("div");y.className="field-group";const Z=document.createElement("label");Z.className="field-label",Z.appendChild(document.createTextNode("Properties: "));const v=document.createElement("div");v.setAttribute("data-bind","text: properties"),y.appendChild(Z),y.appendChild(v),d.appendChild(y),d.appendChild(u("Pick Tileset","togglePickTileset","pickActive")),d.appendChild(u("Trim Tiles Cache","trimTilesCache")),d.appendChild(l("Enable Picking","picking")),h.appendChild(l("Colorize","colorize"));const b=h.appendChild(l("Wireframe","wireframe","_tileset === undefined || hasEnabledWireframe")),w=document.createElement("p");w.setAttribute("data-bind","visible: _tileset !== undefined && !hasEnabledWireframe"),w.setAttribute("class","cesium-3DTilesInspector-disabledElementsInfo"),w.innerText="Set enableDebugWireframe to true in the tileset constructor to enable this option.",b.appendChild(w),h.appendChild(l("Bounding Volumes","showBoundingVolumes")),h.appendChild(l("Content Volumes","showContentBoundingVolumes")),h.appendChild(l("Request Volumes","showRequestVolumes")),h.appendChild(l("Point Cloud Shading","pointCloudShading"));const x=document.createElement("div");x.setAttribute("data-bind","visible: pointCloudShading"),x.appendChild(c("Geometric Error Scale","geometricErrorScale",0,2,.01)),x.appendChild(c("Maximum Attenuation","maximumAttenuation",0,32,1)),x.appendChild(c("Base Resolution","baseResolution",0,1,.01)),x.appendChild(l("Eye Dome Lighting (EDL)","eyeDomeLighting")),h.appendChild(x);const C=document.createElement("div");C.setAttribute("data-bind","visible: eyeDomeLighting"),C.appendChild(c("EDL Strength","eyeDomeLightingStrength",0,2,.1)),C.appendChild(c("EDL Radius","eyeDomeLightingRadius",0,4,.1)),x.appendChild(C),p.appendChild(l("Freeze Frame","freezeFrame")),p.appendChild(l("Dynamic Screen Space Error","dynamicScreenSpaceError"));const S=document.createElement("div");S.appendChild(c("Maximum Screen Space Error","maximumScreenSpaceError",0,128,1)),p.appendChild(S);const T=document.createElement("div");T.setAttribute("data-bind","visible: dynamicScreenSpaceError"),T.appendChild(c("Screen Space Error Density","dynamicScreenSpaceErrorDensitySliderValue",0,1,.005,"dynamicScreenSpaceErrorDensity")),T.appendChild(c("Screen Space Error Factor","dynamicScreenSpaceErrorFactor",1,10,.1)),p.appendChild(T),f.appendChild(l("Performance","performance")),f.appendChild(n),f.appendChild(l("Statistics","showStatistics"));const P=document.createElement("div");P.className="cesium-3dTilesInspector-statistics",P.setAttribute("data-bind","html: statisticsText, visible: showStatistics"),f.appendChild(P),f.appendChild(l("Pick Statistics","showPickStatistics"));const M=document.createElement("div");M.className="cesium-3dTilesInspector-statistics",M.setAttribute("data-bind","html: pickStatisticsText, visible: showPickStatistics"),f.appendChild(M),f.appendChild(l("Resource Cache Statistics","showResourceCacheStatistics"));const A=document.createElement("div");A.className="cesium-3dTilesInspector-statistics",A.setAttribute("data-bind","html: resourceCacheStatisticsText, visible: showResourceCacheStatistics"),f.appendChild(A);const E=document.createElement("div");g.appendChild(E),E.appendChild(document.createTextNode("Color Blend Mode: "));const k=document.createElement("select");k.setAttribute("data-bind",'options: colorBlendModes, optionsText: "text", optionsValue: "value", value: colorBlendMode'),E.appendChild(k);const I=document.createElement("textarea");I.setAttribute("data-bind","textInput: styleString, event: { keydown: styleEditorKeyPress }"),E.className="cesium-cesiumInspector-styleEditor",E.appendChild(I);const O=u("Compile (Ctrl+Enter)","compileStyle");E.appendChild(O);const R=document.createElement("div");R.className="cesium-cesiumInspector-error",R.setAttribute("data-bind","text: editorError"),E.appendChild(R),m.appendChild(l("Show Picked Only","showOnlyPickedTileDebugLabel")),m.appendChild(l("Geometric Error","showGeometricError")),m.appendChild(l("Rendering Statistics","showRenderingStatistics")),m.appendChild(l("Memory Usage (MB)","showMemoryUsage")),m.appendChild(l("Url","showUrl")),_.appendChild(l("Skip Tile LODs","skipLevelOfDetail"));const B=document.createElement("div");B.appendChild(c("Skip SSE Factor","skipScreenSpaceErrorFactor",1,50,1)),_.appendChild(B);const D=document.createElement("div");D.appendChild(c("SSE before skipping LOD","baseScreenSpaceError",0,4096,1)),_.appendChild(D);const F=document.createElement("div");F.appendChild(c("Min. levels to skip","skipLevels",0,10,1)),_.appendChild(F),_.appendChild(l("Load only tiles that meet the max SSE.","immediatelyLoadDesiredLevelOfDetail")),_.appendChild(l("Load siblings of visible tiles","loadSiblings")),NO.Z.applyBindings(r,i)}Object.defineProperties(QO.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),QO.prototype.isDestroyed=function(){return!1},QO.prototype.destroy=function(){return NO.Z.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,v_.Z)(this)};const eR=QO;function tR(e,t,i){let n=Math.min(i,t);return n=Math.max(n,e),n}const iR=new Eg.Z,nR=new Y.Z;function rR(e,t){if(!(0,f.Z)(e))throw new S.Z("scene is required");if(!(0,f.Z)(t))throw new S.Z("performanceContainer is required");const i=this,n=e.canvas,r=new Lg.Z(n);this._eventHandler=r,this._scene=e,this._canvas=n,this._primitive=void 0,this._tile=void 0,this._modelMatrixPrimitive=void 0,this._performanceDisplay=void 0,this._performanceContainer=t;const o=this._scene.globe;let s;function a(e){const t=i._scene.pick({x:e.position.x,y:e.position.y});(0,f.Z)(t)&&(i.primitive=(0,f.Z)(t.collection)?t.collection:t.primitive),i._scene.requestRender(),i.pickPrimitiveActive=!1}function l(e){let t;const n=o.ellipsoid,r=i._scene.camera.getPickRay(e.position,iR),s=o.pick(r,i._scene,nR);if((0,f.Z)(s)){const e=n.cartesianToCartographic(s),i=o._surface.tileProvider._tilesToRenderByTextureCount;for(let n=0;!t&&n<i.length;++n){const r=i[n];if((0,f.Z)(r))for(let i=0;!t&&i<r.length;++i){const n=r[i];ve.Z.contains(n.rectangle,e)&&(t=n)}}}i.tile=t,i.pickTileActive=!1}o.depthTestAgainstTerrain=!0,this.frustums=!1,this.frustumPlanes=!1,this.performance=!1,this.shaderCacheText="",this.primitiveBoundingSphere=!1,this.primitiveReferenceFrame=!1,this.filterPrimitive=!1,this.tileBoundingSphere=!1,this.filterTile=!1,this.wireframe=!1,this.depthFrustum=1,this._numberOfFrustums=1,this.suspendUpdates=!1,this.tileCoordinates=!1,this.frustumStatisticText=!1,this.tileText="",this.hasPickedPrimitive=!1,this.hasPickedTile=!1,this.pickPrimitiveActive=!1,this.pickTileActive=!1,this.dropDownVisible=!0,this.generalVisible=!0,this.primitivesVisible=!1,this.terrainVisible=!1,this.depthFrustumText="",NO.Z.track(this,["frustums","frustumPlanes","performance","shaderCacheText","primitiveBoundingSphere","primitiveReferenceFrame","filterPrimitive","tileBoundingSphere","filterTile","wireframe","depthFrustum","suspendUpdates","tileCoordinates","frustumStatisticText","tileText","hasPickedPrimitive","hasPickedTile","pickPrimitiveActive","pickTileActive","dropDownVisible","generalVisible","primitivesVisible","terrainVisible","depthFrustumText"]),this._toggleDropDown=(0,kO.Z)(function(){i.dropDownVisible=!i.dropDownVisible}),this._toggleGeneral=(0,kO.Z)(function(){i.generalVisible=!i.generalVisible}),this._togglePrimitives=(0,kO.Z)(function(){i.primitivesVisible=!i.primitivesVisible}),this._toggleTerrain=(0,kO.Z)(function(){i.terrainVisible=!i.terrainVisible}),this._frustumsSubscription=NO.Z.getObservable(this,"frustums").subscribe(function(e){i._scene.debugShowFrustums=e,i._scene.requestRender()}),this._frustumPlanesSubscription=NO.Z.getObservable(this,"frustumPlanes").subscribe(function(e){i._scene.debugShowFrustumPlanes=e,i._scene.requestRender()}),this._performanceSubscription=NO.Z.getObservable(this,"performance").subscribe(function(e){e?i._performanceDisplay=new UC.Z({container:i._performanceContainer}):i._performanceContainer.innerHTML=""}),this._showPrimitiveBoundingSphere=(0,kO.Z)(function(){return i._primitive.debugShowBoundingVolume=i.primitiveBoundingSphere,i._scene.requestRender(),!0}),this._primitiveBoundingSphereSubscription=NO.Z.getObservable(this,"primitiveBoundingSphere").subscribe(function(){i._showPrimitiveBoundingSphere()}),this._showPrimitiveReferenceFrame=(0,kO.Z)(function(){if(i.primitiveReferenceFrame){const e=i._primitive.modelMatrix;i._modelMatrixPrimitive=new qb({modelMatrix:e}),i._scene.primitives.add(i._modelMatrixPrimitive)}else(0,f.Z)(i._modelMatrixPrimitive)&&(i._scene.primitives.remove(i._modelMatrixPrimitive),i._modelMatrixPrimitive=void 0);return i._scene.requestRender(),!0}),this._primitiveReferenceFrameSubscription=NO.Z.getObservable(this,"primitiveReferenceFrame").subscribe(function(){i._showPrimitiveReferenceFrame()}),this._doFilterPrimitive=(0,kO.Z)(function(){return i.filterPrimitive?i._scene.debugCommandFilter=function(e){return!(!(0,f.Z)(i._modelMatrixPrimitive)||e.owner!==i._modelMatrixPrimitive._primitive)||!!(0,f.Z)(i._primitive)&&(e.owner===i._primitive||e.owner===i._primitive._billboardCollection||e.owner.primitive===i._primitive)}:i._scene.debugCommandFilter=void 0,!0}),this._filterPrimitiveSubscription=NO.Z.getObservable(this,"filterPrimitive").subscribe(function(){i._doFilterPrimitive(),i._scene.requestRender()}),this._wireframeSubscription=NO.Z.getObservable(this,"wireframe").subscribe(function(e){o._surface.tileProvider._debug.wireframe=e,i._scene.requestRender()}),this._depthFrustumSubscription=NO.Z.getObservable(this,"depthFrustum").subscribe(function(e){i._scene.debugShowDepthFrustum=e,i._scene.requestRender()}),this._incrementDepthFrustum=(0,kO.Z)(function(){const e=i.depthFrustum+1;return i.depthFrustum=tR(1,i._numberOfFrustums,e),i._scene.requestRender(),!0}),this._decrementDepthFrustum=(0,kO.Z)(function(){const e=i.depthFrustum-1;return i.depthFrustum=tR(1,i._numberOfFrustums,e),i._scene.requestRender(),!0}),this._suspendUpdatesSubscription=NO.Z.getObservable(this,"suspendUpdates").subscribe(function(e){o._surface._debug.suspendLodUpdate=e,e||(i.filterTile=!1)}),this._showTileCoordinates=(0,kO.Z)(function(){return i.tileCoordinates&&!(0,f.Z)(s)?s=e.imageryLayers.addImageryProvider(new cT({tilingScheme:e.terrainProvider.tilingScheme})):!i.tileCoordinates&&(0,f.Z)(s)&&(e.imageryLayers.remove(s),s=void 0),!0}),this._tileCoordinatesSubscription=NO.Z.getObservable(this,"tileCoordinates").subscribe(function(){i._showTileCoordinates(),i._scene.requestRender()}),this._tileBoundingSphereSubscription=NO.Z.getObservable(this,"tileBoundingSphere").subscribe(function(){i._showTileBoundingSphere(),i._scene.requestRender()}),this._showTileBoundingSphere=(0,kO.Z)(function(){return i.tileBoundingSphere?o._surface.tileProvider._debug.boundingSphereTile=i._tile:o._surface.tileProvider._debug.boundingSphereTile=void 0,i._scene.requestRender(),!0}),this._doFilterTile=(0,kO.Z)(function(){return i.filterTile?(i.suspendUpdates=!0,o._surface._tilesToRender=[],(0,f.Z)(i._tile)&&i._tile.renderable&&o._surface._tilesToRender.push(i._tile)):i.suspendUpdates=!1,!0}),this._filterTileSubscription=NO.Z.getObservable(this,"filterTile").subscribe(function(){i.doFilterTile(),i._scene.requestRender()}),this._pickPrimitive=(0,kO.Z)(function(){i.pickPrimitiveActive=!i.pickPrimitiveActive}),this._pickPrimitiveActiveSubscription=NO.Z.getObservable(this,"pickPrimitiveActive").subscribe(function(e){e?r.setInputAction(a,Vg.Z.LEFT_CLICK):r.removeInputAction(Vg.Z.LEFT_CLICK)}),this._pickTile=(0,kO.Z)(function(){i.pickTileActive=!i.pickTileActive}),this._pickTileActiveSubscription=NO.Z.getObservable(this,"pickTileActive").subscribe(function(e){e?r.setInputAction(l,Vg.Z.LEFT_CLICK):r.removeInputAction(Vg.Z.LEFT_CLICK)}),this._removePostRenderEvent=e.postRender.addEventListener(function(){i._update()})}Object.defineProperties(rR.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},toggleDropDown:{get:function(){return this._toggleDropDown}},showPrimitiveBoundingSphere:{get:function(){return this._showPrimitiveBoundingSphere}},showPrimitiveReferenceFrame:{get:function(){return this._showPrimitiveReferenceFrame}},doFilterPrimitive:{get:function(){return this._doFilterPrimitive}},incrementDepthFrustum:{get:function(){return this._incrementDepthFrustum}},decrementDepthFrustum:{get:function(){return this._decrementDepthFrustum}},showTileCoordinates:{get:function(){return this._showTileCoordinates}},showTileBoundingSphere:{get:function(){return this._showTileBoundingSphere}},doFilterTile:{get:function(){return this._doFilterTile}},toggleGeneral:{get:function(){return this._toggleGeneral}},togglePrimitives:{get:function(){return this._togglePrimitives}},toggleTerrain:{get:function(){return this._toggleTerrain}},pickPrimitive:{get:function(){return this._pickPrimitive}},pickTile:{get:function(){return this._pickTile}},selectParent:{get:function(){const e=this;return(0,kO.Z)(function(){e.tile=e.tile.parent})}},selectNW:{get:function(){const e=this;return(0,kO.Z)(function(){e.tile=e.tile.northwestChild})}},selectNE:{get:function(){const e=this;return(0,kO.Z)(function(){e.tile=e.tile.northeastChild})}},selectSW:{get:function(){const e=this;return(0,kO.Z)(function(){e.tile=e.tile.southwestChild})}},selectSE:{get:function(){const e=this;return(0,kO.Z)(function(){e.tile=e.tile.southeastChild})}},primitive:{get:function(){return this._primitive},set:function(e){const t=this._primitive;e!==t&&(this.hasPickedPrimitive=!0,(0,f.Z)(t)&&(t.debugShowBoundingVolume=!1),this._scene.debugCommandFilter=void 0,(0,f.Z)(this._modelMatrixPrimitive)&&(this._scene.primitives.remove(this._modelMatrixPrimitive),this._modelMatrixPrimitive=void 0),this._primitive=e,e.show=!1,setTimeout(function(){e.show=!0},50),this.showPrimitiveBoundingSphere(),this.showPrimitiveReferenceFrame(),this.doFilterPrimitive())}},tile:{get:function(){return this._tile},set:function(e){if((0,f.Z)(e)){if(this.hasPickedTile=!0,e!==this._tile){this.tileText=`L: ${e.level} X: ${e.x} Y: ${e.y}`,this.tileText+=`<br>SW corner: ${e.rectangle.west}, ${e.rectangle.south}`,this.tileText+=`<br>NE corner: ${e.rectangle.east}, ${e.rectangle.north}`;const t=e.data;(0,f.Z)(t)&&(0,f.Z)(t.tileBoundingRegion)?this.tileText+=`<br>Min: ${t.tileBoundingRegion.minimumHeight} Max: ${t.tileBoundingRegion.maximumHeight}`:this.tileText+="<br>(Tile is not loaded)"}this._tile=e,this.showTileBoundingSphere(),this.doFilterTile()}else this.hasPickedTile=!1,this._tile=void 0}}}),rR.prototype._update=function(){this.frustums&&(this.frustumStatisticText=function(e){let t;if((0,f.Z)(e)){t="Command Statistics";const i=e.commandsInFrustums;for(const e in i)if(i.hasOwnProperty(e)){let n,r=parseInt(e,10);if(7===r)n="1, 2 and 3";else{const e=[];for(let t=2;t>=0;t--){const i=Math.pow(2,t);r>=i&&(e.push(t+1),r-=i)}n=e.reverse().join(" and ")}t+=`<br>&nbsp;&nbsp;&nbsp;&nbsp;${i[e]} in frustum ${n}`}t+=`<br>Total: ${e.totalCommands}`}return t}(this._scene.debugFrustumStatistics));const e=this._scene.numberOfFrustums;this._numberOfFrustums=e,this.depthFrustum=tR(1,e,this.depthFrustum),this.depthFrustumText=`${this.depthFrustum} of ${e}`,this.performance&&this._performanceDisplay.update(),this.primitiveReferenceFrame&&(this._modelMatrixPrimitive.modelMatrix=this._primitive.modelMatrix),this.shaderCacheText=`Cached shaders: ${this._scene.context.shaderCache.numberOfShaders}`},rR.prototype.isDestroyed=function(){return!1},rR.prototype.destroy=function(){return this._eventHandler.destroy(),this._removePostRenderEvent(),this._frustumsSubscription.dispose(),this._frustumPlanesSubscription.dispose(),this._performanceSubscription.dispose(),this._primitiveBoundingSphereSubscription.dispose(),this._primitiveReferenceFrameSubscription.dispose(),this._filterPrimitiveSubscription.dispose(),this._wireframeSubscription.dispose(),this._depthFrustumSubscription.dispose(),this._suspendUpdatesSubscription.dispose(),this._tileCoordinatesSubscription.dispose(),this._tileBoundingSphereSubscription.dispose(),this._filterTileSubscription.dispose(),this._pickPrimitiveActiveSubscription.dispose(),this._pickTileActiveSubscription.dispose(),(0,v_.Z)(this)};const oR=rR;function sR(e,t){if(!(0,f.Z)(e))throw new S.Z("container is required.");if(!(0,f.Z)(t))throw new S.Z("scene is required.");e=(0,mc.Z)(e);const i=document.createElement("div"),n=new oR(t,i);this._viewModel=n,this._container=e;const r=document.createElement("div");this._element=r;const o=document.createElement("div");o.textContent="Cesium Inspector",o.className="cesium-cesiumInspector-button",o.setAttribute("data-bind","click: toggleDropDown"),r.appendChild(o),r.className="cesium-cesiumInspector",r.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : dropDownVisible, "cesium-cesiumInspector-hidden" : !dropDownVisible }'),e.appendChild(this._element);const s=document.createElement("div");s.className="cesium-cesiumInspector-dropDown",r.appendChild(s);const a=MO.createSection,l=MO.createCheckbox,c=a(s,"General","generalVisible","toggleGeneral"),u=l("Show Frustums","frustums"),d=document.createElement("div");d.className="cesium-cesiumInspector-frustumStatistics",d.setAttribute("data-bind","visible: frustums, html: frustumStatisticText"),u.appendChild(d),c.appendChild(u),c.appendChild(l("Show Frustum Planes","frustumPlanes")),c.appendChild(l("Performance Display","performance")),i.className="cesium-cesiumInspector-performanceDisplay",c.appendChild(i);const h=document.createElement("div");h.className="cesium-cesiumInspector-shaderCache",h.setAttribute("data-bind","html: shaderCacheText"),c.appendChild(h);const p=document.createElement("div");c.appendChild(p);const m=document.createElement("span");m.setAttribute("data-bind",'html: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Frustum:"'),p.appendChild(m);const g=document.createElement("span");g.setAttribute("data-bind","text: depthFrustumText"),p.appendChild(g);const _=document.createElement("input");_.type="button",_.value="-",_.className="cesium-cesiumInspector-pickButton",_.setAttribute("data-bind","click: decrementDepthFrustum"),p.appendChild(_);const y=document.createElement("input");y.type="button",y.value="+",y.className="cesium-cesiumInspector-pickButton",y.setAttribute("data-bind","click: incrementDepthFrustum"),p.appendChild(y);const Z=a(s,"Primitives","primitivesVisible","togglePrimitives"),v=document.createElement("div");v.className="cesium-cesiumInspector-pickSection",Z.appendChild(v);const b=document.createElement("input");b.type="button",b.value="Pick a primitive",b.className="cesium-cesiumInspector-pickButton",b.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickPrimitiveActive}, click: pickPrimitive');let w=document.createElement("div");w.className="cesium-cesiumInspector-center",w.appendChild(b),v.appendChild(w),v.appendChild(l("Show bounding sphere","primitiveBoundingSphere","hasPickedPrimitive")),v.appendChild(l("Show reference frame","primitiveReferenceFrame","hasPickedPrimitive")),this._primitiveOnly=l("Show only selected","filterPrimitive","hasPickedPrimitive"),v.appendChild(this._primitiveOnly);const x=a(s,"Terrain","terrainVisible","toggleTerrain"),C=document.createElement("div");C.className="cesium-cesiumInspector-pickSection",x.appendChild(C);const T=document.createElement("input");T.type="button",T.value="Pick a tile",T.className="cesium-cesiumInspector-pickButton",T.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickTileActive}, click: pickTile'),w=document.createElement("div"),w.appendChild(T),w.className="cesium-cesiumInspector-center",C.appendChild(w);const P=document.createElement("div");C.appendChild(P);const M=document.createElement("input");M.type="button",M.value="Parent",M.className="cesium-cesiumInspector-pickButton",M.setAttribute("data-bind","click: selectParent");const A=document.createElement("input");A.type="button",A.value="NW",A.className="cesium-cesiumInspector-pickButton",A.setAttribute("data-bind","click: selectNW");const E=document.createElement("input");E.type="button",E.value="NE",E.className="cesium-cesiumInspector-pickButton",E.setAttribute("data-bind","click: selectNE");const k=document.createElement("input");k.type="button",k.value="SW",k.className="cesium-cesiumInspector-pickButton",k.setAttribute("data-bind","click: selectSW");const I=document.createElement("input");I.type="button",I.value="SE",I.className="cesium-cesiumInspector-pickButton",I.setAttribute("data-bind","click: selectSE");const O=document.createElement("div");O.className="cesium-cesiumInspector-tileText",P.className="cesium-cesiumInspector-frustumStatistics",P.appendChild(O),P.setAttribute("data-bind","visible: hasPickedTile"),O.setAttribute("data-bind","html: tileText");const R=document.createElement("div");R.className="cesium-cesiumInspector-relativeText",R.textContent="Select relative:",P.appendChild(R);const B=document.createElement("table"),D=document.createElement("tr"),F=document.createElement("tr"),L=document.createElement("td");L.appendChild(M);const V=document.createElement("td");V.appendChild(A);const N=document.createElement("td");N.appendChild(E),D.appendChild(L),D.appendChild(V),D.appendChild(N);const U=document.createElement("td"),G=document.createElement("td");G.appendChild(k);const z=document.createElement("td");z.appendChild(I),F.appendChild(U),F.appendChild(G),F.appendChild(z),B.appendChild(D),B.appendChild(F),P.appendChild(B),C.appendChild(l("Show bounding volume","tileBoundingSphere","hasPickedTile")),C.appendChild(l("Show only selected","filterTile","hasPickedTile")),x.appendChild(l("Wireframe","wireframe")),x.appendChild(l("Suspend LOD update","suspendUpdates")),x.appendChild(l("Show tile coordinates","tileCoordinates")),NO.Z.applyBindings(n,this._element)}Object.defineProperties(sR.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),sR.prototype.isDestroyed=function(){return!1},sR.prototype.destroy=function(){return NO.Z.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,v_.Z)(this)};const aR=sR;var lR=i(245211),cR=i(540073),uR=i(609277),dR=i(10320),hR=i(877382),pR=i(67353),fR=i(291463),mR=i(194589),gR=i(944501),_R=i(7278);function yR(e){if(!(0,f.Z)(e)||!(0,f.Z)(e.scene))throw new S.Z("options.scene is required.");this._scene=e.scene,this.lowFrameRateMessage=(0,p.Z)(e.lowFrameRateMessage,"This application appears to be performing poorly on your system.  Please try using a different web browser or updating your video drivers."),this.lowFrameRateMessageDismissed=!1,this.showingLowFrameRateMessage=!1,NO.Z.track(this,["lowFrameRateMessage","lowFrameRateMessageDismissed","showingLowFrameRateMessage"]);const t=this;this._dismissMessage=(0,kO.Z)(function(){t.showingLowFrameRateMessage=!1,t.lowFrameRateMessageDismissed=!0});const i=dw.fromScene(e.scene);this._unsubscribeLowFrameRate=i.lowFrameRate.addEventListener(function(){t.lowFrameRateMessageDismissed||(t.showingLowFrameRateMessage=!0)}),this._unsubscribeNominalFrameRate=i.nominalFrameRate.addEventListener(function(){t.showingLowFrameRateMessage=!1})}Object.defineProperties(yR.prototype,{scene:{get:function(){return this._scene}},dismissMessage:{get:function(){return this._dismissMessage}}}),yR.prototype.destroy=function(){return this._unsubscribeLowFrameRate(),this._unsubscribeNominalFrameRate(),(0,v_.Z)(this)};const ZR=yR;function vR(e){if(!(0,f.Z)(e)||!(0,f.Z)(e.container))throw new S.Z("options.container is required.");if(!(0,f.Z)(e.scene))throw new S.Z("options.scene is required.");const t=(0,mc.Z)(e.container),i=new ZR(e),n=document.createElement("div");n.className="cesium-performance-watchdog-message-area",n.setAttribute("data-bind","visible: showingLowFrameRateMessage");const r=document.createElement("button");r.setAttribute("type","button"),r.className="cesium-performance-watchdog-message-dismiss",r.innerHTML="&times;",r.setAttribute("data-bind","click: dismissMessage"),n.appendChild(r);const o=document.createElement("div");o.className="cesium-performance-watchdog-message",o.setAttribute("data-bind","html: lowFrameRateMessage"),n.appendChild(o),t.appendChild(n),NO.Z.applyBindings(i,n),this._container=t,this._viewModel=i,this._element=n}Object.defineProperties(vR.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),vR.prototype.isDestroyed=function(){return!1},vR.prototype.destroy=function(){return this._viewModel.destroy(),NO.Z.cleanNode(this._element),this._container.removeChild(this._element),(0,v_.Z)(this)};const bR=vR;var wR=i(897522),xR=i(426829),CR=i(320863),SR=i(757415),TR=i(39222),PR=i(128228),MR=i(407165),AR=i(946852),ER=i(951531),kR=i(221261),IR=i(137216),OR=i(782393),RR=i(51741),BR=i(539512);const DR=function(e){Ce.Z.typeOf.object("viewer",e);const t=document.createElement("div");t.className="cesium-viewer-cesium3DTilesInspectorContainer",e.container.appendChild(t);const i=new eR(t,e.scene);Object.defineProperties(e,{cesium3DTilesInspector:{get:function(){return i}}})},FR=function(e){if(!(0,f.Z)(e))throw new S.Z("viewer is required.");const t=document.createElement("div");t.className="cesium-viewer-cesiumInspectorContainer",e.container.appendChild(t);const i=new aR(t,e.scene);Object.defineProperties(e,{cesiumInspector:{get:function(){return i}}})};function LR(e){e.stopPropagation(),e.preventDefault()}function VR(e,t){const i=e;(0,f.Z)(i)&&(i.removeEventListener("drop",t,!1),i.removeEventListener("dragenter",LR,!1),i.removeEventListener("dragover",LR,!1),i.removeEventListener("dragexit",LR,!1))}function NR(e,t){e.addEventListener("drop",t,!1),e.addEventListener("dragenter",LR,!1),e.addEventListener("dragover",LR,!1),e.addEventListener("dragexit",LR,!1)}function UR(e,t,i,n){const r=e.scene;return function(o){const s=t.name;try{let a;if(/\.czml$/i.test(s))a=zi.load(JSON.parse(o.target.result),{sourceUri:s});else if(/\.geojson$/i.test(s)||/\.json$/i.test(s)||/\.topojson$/i.test(s))a=$i.Z.load(JSON.parse(o.target.result),{sourceUri:s,clampToGround:n});else if(/\.(kml|kmz)$/i.test(s))a=Hu.load(t,{sourceUri:s,proxy:i,camera:r.camera,canvas:r.canvas,clampToGround:n,screenOverlayContainer:e.container});else{if(!/\.gpx$/i.test(s))return void e.dropError.raiseEvent(e,s,`Unrecognized file: ${s}`);a=os.load(t,{sourceUri:s,proxy:i})}(0,f.Z)(a)&&e.dataSources.add(a).then(function(t){e.flyToOnDrop&&e.flyTo(t)}).catch(function(t){e.dropError.raiseEvent(e,s,t)})}catch(t){e.dropError.raiseEvent(e,s,t)}}}function GR(e,t){return function(i){e.dropError.raiseEvent(e,t.name,i.target.error)}}const zR=function(e,t){if(!(0,f.Z)(e))throw new S.Z("viewer is required.");if(e.hasOwnProperty("dropTarget"))throw new S.Z("dropTarget is already defined by another mixin.");if(e.hasOwnProperty("dropEnabled"))throw new S.Z("dropEnabled is already defined by another mixin.");if(e.hasOwnProperty("dropError"))throw new S.Z("dropError is already defined by another mixin.");if(e.hasOwnProperty("clearOnDrop"))throw new S.Z("clearOnDrop is already defined by another mixin.");if(e.hasOwnProperty("flyToOnDrop"))throw new S.Z("flyToOnDrop is already defined by another mixin.");t=(0,p.Z)(t,p.Z.EMPTY_OBJECT);let i=!0,n=(0,p.Z)(t.flyToOnDrop,!0);const r=new m.Z;let o=(0,p.Z)(t.clearOnDrop,!0),s=(0,p.Z)(t.dropTarget,e.container),a=(0,p.Z)(t.clampToGround,!0),l=t.proxy;function c(t){LR(t),o&&(e.entities.removeAll(),e.dataSources.removeAll());const i=t.dataTransfer.files,n=i.length;for(let t=0;t<n;t++){const n=i[t],r=new FileReader;r.onload=UR(e,n,l,a),r.onerror=GR(e,n),r.readAsText(n)}}s=(0,mc.Z)(s),Object.defineProperties(e,{dropTarget:{get:function(){return s},set:function(e){if(!(0,f.Z)(e))throw new S.Z("value is required.");VR(s,c),s=e,NR(s,c)}},dropEnabled:{get:function(){return i},set:function(e){e!==i&&(e?NR(s,c):VR(s,c),i=e)}},dropError:{get:function(){return r}},clearOnDrop:{get:function(){return o},set:function(e){o=e}},flyToOnDrop:{get:function(){return n},set:function(e){n=e}},proxy:{get:function(){return l},set:function(e){l=e}},clampToGround:{get:function(){return a},set:function(e){a=e}}}),NR(s,c),e.destroy=uy(e,e.destroy,function(){e.dropEnabled=!1}),e._handleDrop=c},KR=function(e,t){if(!(0,f.Z)(e))throw new S.Z("viewer is required.");t=(0,p.Z)(t,p.Z.EMPTY_OBJECT);const i=new bR({scene:e.scene,container:e.bottomContainer,lowFrameRateMessage:t.lowFrameRateMessage});Object.defineProperties(e,{performanceWatchdog:{get:function(){return i}}})};function qR(e){const t=e.split("\n");let i;for(i=0;i<t.length&&!t[i].match(/\S/);i++);if(i===t.length)return"";let n="";const r=/^\s*/,o=t[i].match(r)[0].length;for(let e=i;e<t.length;e++){let i=t[e];i.match(r)[0].length>=o&&(i=i.slice(o)),n+=`${i}\n`}return n}function HR(e){Ce.Z.typeOf.object("scene",e),this._scene=e,this._voxelPrimitive=void 0,this._customShaderCompilationRemoveCallback=void 0,this._definedProperties=[],this._getPrimitiveFunctions=[],this._modelMatrixReady=!1;const t=this;function i(i){const{name:n,initialValue:r}=i;t._definedProperties.push(n);let o=i.setPrimitiveFunction;!0===o&&(o=function(e){t._voxelPrimitive[n]=e});let s=i.getPrimitiveFunction;!0===s&&(s=function(){t[n]=t._voxelPrimitive[n]}),(0,f.Z)(s)&&t._getPrimitiveFunctions.push(s);const a=NO.Z.observable();return NO.Z.defineProperty(t,n,{get:function(){return a()},set:function(i){"number"==typeof r&&"string"==typeof i&&(i=Number(i),isNaN(i)&&(i=r)),"boolean"==typeof r&&"number"==typeof i&&(i=1===i),a(i),(0,f.Z)(o)&&(0,f.Z)(t._voxelPrimitive)&&(o(i),e.requestRender())}}),t[n]=r,a}function n(e,i){return function(n){const r=t._voxelPrimitive[e].clone();r[i]=n,t._voxelPrimitive[e]=r}}i({name:"inspectorVisible",initialValue:!0}),i({name:"displayVisible",initialValue:!1}),i({name:"transformVisible",initialValue:!1}),i({name:"boundsVisible",initialValue:!1}),i({name:"clippingVisible",initialValue:!1}),i({name:"shaderVisible",initialValue:!1}),i({name:"shaderString",initialValue:"",getPrimitiveFunction:function(){const e=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=qR(e)}}),i({name:"shaderCompilationMessage",initialValue:""}),i({name:"shaderCompilationSuccess",initialValue:!0}),i({name:"depthTest",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"show",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"disableUpdate",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"debugDraw",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"jitter",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"nearestSampling",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"screenSpaceError",initialValue:4,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"stepSize",initialValue:1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"shapeIsBox",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsBox=e===vv.Z.BOX}}),i({name:"shapeIsEllipsoid",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsEllipsoid=e===vv.Z.ELLIPSOID}}),i({name:"shapeIsCylinder",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsCylinder=e===vv.Z.CYLINDER}}),i({name:"boundsBoxMaxX",initialValue:0,setPrimitiveFunction:n("maxBounds","x"),getPrimitiveFunction:function(){t.boundsBoxMaxX=t._voxelPrimitive.maxBounds.x}}),i({name:"boundsBoxMinX",initialValue:0,setPrimitiveFunction:n("minBounds","x"),getPrimitiveFunction:function(){t.boundsBoxMinX=t._voxelPrimitive.minBounds.x}}),i({name:"boundsBoxMaxY",initialValue:0,setPrimitiveFunction:n("maxBounds","y"),getPrimitiveFunction:function(){t.boundsBoxMaxY=t._voxelPrimitive.maxBounds.y}}),i({name:"boundsBoxMinY",initialValue:0,setPrimitiveFunction:n("minBounds","y"),getPrimitiveFunction:function(){t.boundsBoxMinY=t._voxelPrimitive.minBounds.y}}),i({name:"boundsBoxMaxZ",initialValue:0,setPrimitiveFunction:n("maxBounds","z"),getPrimitiveFunction:function(){t.boundsBoxMaxZ=t._voxelPrimitive.maxBounds.z}}),i({name:"boundsBoxMinZ",initialValue:0,setPrimitiveFunction:n("minBounds","z"),getPrimitiveFunction:function(){t.boundsBoxMinZ=t._voxelPrimitive.minBounds.z}}),i({name:"boundsEllipsoidMaxLongitude",initialValue:0,setPrimitiveFunction:n("maxBounds","x"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxLongitude=t._voxelPrimitive.maxBounds.x}}),i({name:"boundsEllipsoidMinLongitude",initialValue:0,setPrimitiveFunction:n("minBounds","x"),getPrimitiveFunction:function(){t.boundsEllipsoidMinLongitude=t._voxelPrimitive.minBounds.x}}),i({name:"boundsEllipsoidMaxLatitude",initialValue:0,setPrimitiveFunction:n("maxBounds","y"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxLatitude=t._voxelPrimitive.maxBounds.y}}),i({name:"boundsEllipsoidMinLatitude",initialValue:0,setPrimitiveFunction:n("minBounds","y"),getPrimitiveFunction:function(){t.boundsEllipsoidMinLatitude=t._voxelPrimitive.minBounds.y}}),i({name:"boundsEllipsoidMaxHeight",initialValue:0,setPrimitiveFunction:n("maxBounds","z"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxHeight=t._voxelPrimitive.maxBounds.z}}),i({name:"boundsEllipsoidMinHeight",initialValue:0,setPrimitiveFunction:n("minBounds","z"),getPrimitiveFunction:function(){t.boundsEllipsoidMinHeight=t._voxelPrimitive.minBounds.z}}),i({name:"boundsCylinderMaxRadius",initialValue:0,setPrimitiveFunction:n("maxBounds","x"),getPrimitiveFunction:function(){t.boundsCylinderMaxRadius=t._voxelPrimitive.maxBounds.x}}),i({name:"boundsCylinderMinRadius",initialValue:0,setPrimitiveFunction:n("minBounds","x"),getPrimitiveFunction:function(){t.boundsCylinderMinRadius=t._voxelPrimitive.minBounds.x}}),i({name:"boundsCylinderMaxHeight",initialValue:0,setPrimitiveFunction:n("maxBounds","y"),getPrimitiveFunction:function(){t.boundsCylinderMaxHeight=t._voxelPrimitive.maxBounds.y}}),i({name:"boundsCylinderMinHeight",initialValue:0,setPrimitiveFunction:n("minBounds","y"),getPrimitiveFunction:function(){t.boundsCylinderMinHeight=t._voxelPrimitive.minBounds.y}}),i({name:"boundsCylinderMaxAngle",initialValue:0,setPrimitiveFunction:n("maxBounds","z"),getPrimitiveFunction:function(){t.boundsCylinderMaxAngle=t._voxelPrimitive.maxBounds.z}}),i({name:"boundsCylinderMinAngle",initialValue:0,setPrimitiveFunction:n("minBounds","z"),getPrimitiveFunction:function(){t.boundsCylinderMinAngle=t._voxelPrimitive.minBounds.z}}),i({name:"clippingBoxMaxX",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingBoxMaxX=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingBoxMinX",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingBoxMinX=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingBoxMaxY",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingBoxMaxY=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingBoxMinY",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingBoxMinY=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingBoxMaxZ",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingBoxMaxZ=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingBoxMinZ",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingBoxMinZ=t._voxelPrimitive.minClippingBounds.z}}),i({name:"clippingEllipsoidMaxLongitude",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLongitude=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingEllipsoidMinLongitude",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLongitude=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingEllipsoidMaxLatitude",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLatitude=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingEllipsoidMinLatitude",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLatitude=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingEllipsoidMaxHeight",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxHeight=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingEllipsoidMinHeight",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingEllipsoidMinHeight=t._voxelPrimitive.minClippingBounds.z}}),i({name:"clippingCylinderMaxRadius",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingCylinderMaxRadius=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingCylinderMinRadius",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingCylinderMinRadius=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingCylinderMaxHeight",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingCylinderMaxHeight=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingCylinderMinHeight",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingCylinderMinHeight=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingCylinderMaxAngle",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingCylinderMaxAngle=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingCylinderMinAngle",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingCylinderMinAngle=t._voxelPrimitive.minClippingBounds.z}}),i({name:"translationX",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)},getPrimitiveFunction:function(){t.translationX=cp.Z.getTranslation(t._voxelPrimitive.modelMatrix,new Y.Z).x}}),i({name:"translationY",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)},getPrimitiveFunction:function(){t.translationY=cp.Z.getTranslation(t._voxelPrimitive.modelMatrix,new Y.Z).y}}),i({name:"translationZ",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)},getPrimitiveFunction:function(){t.translationZ=cp.Z.getTranslation(t._voxelPrimitive.modelMatrix,new Y.Z).z}}),i({name:"scaleX",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)},getPrimitiveFunction:function(){t.scaleX=cp.Z.getScale(t._voxelPrimitive.modelMatrix,new Y.Z).x}}),i({name:"scaleY",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)},getPrimitiveFunction:function(){t.scaleY=cp.Z.getScale(t._voxelPrimitive.modelMatrix,new Y.Z).y}}),i({name:"scaleZ",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)},getPrimitiveFunction:function(){t.scaleZ=cp.Z.getScale(t._voxelPrimitive.modelMatrix,new Y.Z).z}}),i({name:"angleX",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)}}),i({name:"angleY",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)}}),i({name:"angleZ",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&$R(t)}})}const WR=new Y.Z,jR=new Y.Z,JR=new ms.Z,XR=new Dt.Z;function $R(e){const t=Y.Z.fromElements(e.translationX,e.translationY,e.translationZ,WR),i=Y.Z.fromElements(e.scaleX,e.scaleY,e.scaleZ,jR),n=JR;n.heading=e.angleX,n.pitch=e.angleY,n.roll=e.angleZ;const r=Dt.Z.fromHeadingPitchRoll(n,XR),o=Dt.Z.multiplyByScale(r,i,r);e._voxelPrimitive.modelMatrix=cp.Z.fromRotationTranslation(o,t,e._voxelPrimitive.modelMatrix)}Object.defineProperties(HR.prototype,{scene:{get:function(){return this._scene}},voxelPrimitive:{get:function(){return this._voxelPrimitive},set:function(e){if((0,f.Z)(this._customShaderCompilationRemoveCallback)&&this._customShaderCompilationRemoveCallback(),(0,f.Z)(e)){this._voxelPrimitive=e;const t=this;t._voxelPrimitive._readyPromise.then(function(){t._customShaderCompilationRemoveCallback=t._voxelPrimitive.customShaderCompilationEvent.addEventListener(function(e){const i=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=qR(i),(0,f.Z)(e)?(t.shaderCompilationMessage=e.message,t.shaderCompilationSuccess=!1):(t.shaderCompilationMessage="Shader compiled successfully!",t.shaderCompilationSuccess=!0)}),t._modelMatrixReady=!1;for(let e=0;e<t._getPrimitiveFunctions.length;e++)t._getPrimitiveFunctions[e]();t._modelMatrixReady=!0,$R(t)})}}}}),HR.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible},HR.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible},HR.prototype.toggleTransform=function(){this.transformVisible=!this.transformVisible},HR.prototype.toggleBounds=function(){this.boundsVisible=!this.boundsVisible},HR.prototype.toggleClipping=function(){this.clippingVisible=!this.clippingVisible},HR.prototype.toggleShader=function(){this.shaderVisible=!this.shaderVisible},HR.prototype.compileShader=function(){(0,f.Z)(this._voxelPrimitive)&&(this._voxelPrimitive.customShader=new WA.Z({fragmentShaderText:this.shaderString,uniforms:this._voxelPrimitive.customShader.uniforms}))},HR.prototype.shaderEditorKeyPress=function(e,t){if(9===t.keyCode){t.preventDefault();const e=t.target,i=e.selectionStart,n=e.selectionEnd;let r=n;const o=e.value.slice(i,n).split("\n"),s=o.length;let a;if(t.shiftKey)for(a=0;a<s;++a)" "===o[a][0]&&(" "===o[a][1]?(o[a]=o[a].substr(2),r-=2):(o[a]=o[a].substr(1),r-=1));else for(a=0;a<s;++a)o[a]=`  ${o[a]}`,r+=2;const l=o.join("\n");e.value=e.value.slice(0,i)+l+e.value.slice(n),e.selectionStart=i!==n?i:r,e.selectionEnd=r}else!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||this.compileShader();return!0},HR.prototype.isDestroyed=function(){return!1},HR.prototype.destroy=function(){const e=this;return this._definedProperties.forEach(function(t){NO.Z.getObservable(e,t).dispose()}),(0,v_.Z)(this)};const YR=HR;function QR(e,t){Ce.Z.defined("container",e),Ce.Z.typeOf.object("scene",t),e=(0,mc.Z)(e);const i=document.createElement("div"),n=new YR(t);this._viewModel=n,this._container=e,this._element=i;const r=document.createElement("div");r.textContent="Voxel Inspector",r.className="cesium-cesiumInspector-button",r.setAttribute("data-bind","click: toggleInspector"),i.appendChild(r),i.className="cesium-cesiumInspector cesium-VoxelInspector",i.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}'),e.appendChild(i);const o=document.createElement("div");o.className="cesium-cesiumInspector-dropDown",i.appendChild(o);const s=MO.createSection,a=MO.createCheckbox,l=MO.createRangeInput,c=MO.createButton,u=s(o,"Display","displayVisible","toggleDisplay"),d=s(o,"Transform","transformVisible","toggleTransform"),h=s(o,"Bounds","boundsVisible","toggleBounds"),p=s(o,"Clipping","clippingVisible","toggleClipping"),f=s(o,"Shader","shaderVisible","toggleShader");u.appendChild(a("Depth Test","depthTest")),u.appendChild(a("Show","show")),u.appendChild(a("Disable Update","disableUpdate")),u.appendChild(a("Debug Draw","debugDraw")),u.appendChild(a("Jitter","jitter")),u.appendChild(a("Nearest Sampling","nearestSampling")),u.appendChild(l("Screen Space Error","screenSpaceError",0,128)),u.appendChild(l("Step Size","stepSize",0,2));const m=T.Z.PI;d.appendChild(l("Translation X","translationX",-10,10)),d.appendChild(l("Translation Y","translationY",-10,10)),d.appendChild(l("Translation Z","translationZ",-10,10)),d.appendChild(l("Scale X","scaleX",0,10)),d.appendChild(l("Scale Y","scaleY",0,10)),d.appendChild(l("Scale Z","scaleZ",0,10)),d.appendChild(l("Heading","angleX",-m,+m)),d.appendChild(l("Pitch","angleY",-m,+m)),d.appendChild(l("Roll","angleZ",-m,+m));const g=vv.Z.getMinBounds(vv.Z.BOX),_=vv.Z.getMaxBounds(vv.Z.BOX),y=Y.Z.fromElements(vv.Z.getMinBounds(vv.Z.ELLIPSOID).x,vv.Z.getMinBounds(vv.Z.ELLIPSOID).y,-oe.Z.WGS84.maximumRadius,new Y.Z),Z=Y.Z.fromElements(vv.Z.getMaxBounds(vv.Z.ELLIPSOID).x,vv.Z.getMaxBounds(vv.Z.ELLIPSOID).y,1e7,new Y.Z),v=vv.Z.getMinBounds(vv.Z.CYLINDER),b=vv.Z.getMaxBounds(vv.Z.CYLINDER);eB("Max X","Min X","Max Y","Min Y","Max Z","Min Z","boundsBoxMaxX","boundsBoxMinX","boundsBoxMaxY","boundsBoxMinY","boundsBoxMaxZ","boundsBoxMinZ",g,_,"shapeIsBox",h),eB("Max Longitude","Min Longitude","Max Latitude","Min Latitude","Max Height","Min Height","boundsEllipsoidMaxLongitude","boundsEllipsoidMinLongitude","boundsEllipsoidMaxLatitude","boundsEllipsoidMinLatitude","boundsEllipsoidMaxHeight","boundsEllipsoidMinHeight",y,Z,"shapeIsEllipsoid",h),eB("Max Radius","Min Radius","Max Height","Min Height","Max Angle","Min Angle","boundsCylinderMaxRadius","boundsCylinderMinRadius","boundsCylinderMaxHeight","boundsCylinderMinHeight","boundsCylinderMaxAngle","boundsCylinderMinAngle",v,b,"shapeIsCylinder",h),eB("Max X","Min X","Max Y","Min Y","Max Z","Min Z","clippingBoxMaxX","clippingBoxMinX","clippingBoxMaxY","clippingBoxMinY","clippingBoxMaxZ","clippingBoxMinZ",g,_,"shapeIsBox",p),eB("Max Longitude","Min Longitude","Max Latitude","Min Latitude","Max Height","Min Height","clippingEllipsoidMaxLongitude","clippingEllipsoidMinLongitude","clippingEllipsoidMaxLatitude","clippingEllipsoidMinLatitude","clippingEllipsoidMaxHeight","clippingEllipsoidMinHeight",y,Z,"shapeIsEllipsoid",p),eB("Max Radius","Min Radius","Max Height","Min Height","Max Angle","Min Angle","clippingCylinderMaxRadius","clippingCylinderMinRadius","clippingCylinderMaxHeight","clippingCylinderMinHeight","clippingCylinderMaxAngle","clippingCylinderMinAngle",v,b,"shapeIsCylinder",p);const w=document.createElement("div");f.appendChild(w);const x=document.createElement("textarea");x.setAttribute("data-bind","textInput: shaderString, event: { keydown: shaderEditorKeyPress }"),w.className="cesium-cesiumInspector-styleEditor",w.appendChild(x);const C=c("Compile (Ctrl+Enter)","compileShader");w.appendChild(C);const S=document.createElement("label");S.style.display="block",S.setAttribute("data-bind","text: shaderCompilationMessage, style: {color: shaderCompilationSuccess ? 'green' : 'red'}"),w.appendChild(S),NO.Z.applyBindings(n,i)}function eB(e,t,i,n,r,o,s,a,l,c,u,d,h,p,f,m){const g=MO.createRangeInput,_=h,y=p,Z=m.appendChild(document.createElement("div"));Z.setAttribute("data-bind",`if: ${f}`),Z.appendChild(g(e,s,_.x,y.x)),Z.appendChild(g(t,a,_.x,y.x)),Z.appendChild(g(i,l,_.y,y.y)),Z.appendChild(g(n,c,_.y,y.y)),Z.appendChild(g(r,u,_.z,y.z)),Z.appendChild(g(o,d,_.z,y.z))}Object.defineProperties(QR.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),QR.prototype.isDestroyed=function(){return!1},QR.prototype.destroy=function(){return NO.Z.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,v_.Z)(this)};const tB=QR,iB=function(e){Ce.Z.typeOf.object("viewer",e);const t=document.createElement("div");t.className="cesium-viewer-voxelInspectorContainer",e.container.appendChild(t);const i=new tB(t,e.scene);Object.defineProperties(e,{voxelInspector:{get:function(){return i}}})},nB="1.106.1"}}]);