"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[35617],{635617:(A,e,g)=>{g.r(e),g.d(e,{default:()=>B});var C=g(124852),t=g(977458),r=g(372539),n=g(563883),o=g(815532),a=g(59645),i=g(641106),D=g(781940);const u=JSON.parse('{"asset":{"generator":"Khronos glTF Blender I/O v3.6.27","version":"2.0"},"scene":0,"scenes":[{"name":"Scene","nodes":[0]}],"nodes":[{"mesh":0,"name":"Circle"}],"materials":[{"doubleSided":true,"name":"Material.002","pbrMetallicRoughness":{"baseColorFactor":[1,1,1,1],"metallicFactor":0,"roughnessFactor":0}}],"meshes":[{"name":"Circle","primitives":[{"attributes":{"POSITION":0,"NORMAL":1,"TEXCOORD_0":2},"indices":3,"material":0}]}],"accessors":[{"bufferView":0,"componentType":5126,"count":100,"max":[0.0846666693687439,0,0.044281020760536194],"min":[-0.044281020760536194,-7.40179428859733e-9,-0.044281020760536194],"type":"VEC3"},{"bufferView":1,"componentType":5126,"count":100,"type":"VEC3"},{"bufferView":2,"componentType":5126,"count":100,"type":"VEC2"},{"bufferView":3,"componentType":5123,"count":288,"type":"SCALAR"}],"bufferViews":[{"buffer":0,"byteLength":1200,"byteOffset":0,"target":34962},{"buffer":0,"byteLength":1200,"byteOffset":1200,"target":34962},{"buffer":0,"byteLength":800,"byteOffset":2400,"target":34962},{"buffer":0,"byteLength":576,"byteOffset":3200,"target":34963}],"buffers":[{"byteLength":3776,"uri":"data:application/octet-stream;base64,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AAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgL8AAACAAAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAEAAgACAAMABAAEAAUABgAGAAcACAAIAAkACgAKAAsADAAMAA0ADgAOAA8AEAAQABEAEgASABMAFAAUABUAFgAWABcAGAAYABkAGgAaABsAHAAcAB0AHgAeAB8AAAAAAAIABAAEAAYACAAIAAoADAAMAA4AEAAQABIAFAAUABYAGAAYABoAHAAcAB4AAAAAAAQACAAIAAwAEAAQABQAGAAYABwAAAAAAAgAEAAQABgAAABBAEMAQABDAEIAQAAgAD8AYwBEAEUAIQAgAGMARABEACEAIAAjACIAIQAhAEUARgAhAEYARwAkACMAIQAmACUAJAAoACcAJgAqACkAKAAsACsAKgAuAC0ALAAwAC8ALgAyADEAMAA0ADMAMgA2ADUANAA4ADcANgA6ADkAOAA8ADsAOgA+AD0APABjAD8APgBiAGMAPgA+ADwAOgA6ADgANgA2ADQAMgAyADAALgAuACwAKgAqACgAJgAmACQAIQAhAEcASAAhAEgASQBiAD4AOgBhAGIAOgAmACEASQAmAEkASgBgAGEAOgBfAGAAOgAqACYASgAqAEoASwBeAF8AOgBdAF4AOgAqAEsATAAqAEwATQBdADoANgBcAF0ANgAqAE0ATgAqAE4ATwBbAFwANgBaAFsANgAuACoATwAuAE8AUABaADYAMgBZAFoAMgAuAFAAUQAuAFEAUgBYAFkAMgBXAFgAMgAyAC4AUgAyAFIAUwBWAFcAMgBVAFYAMgAyAFMAVABUAFUAMgA="}]}');var c=g(65792),s=g.n(c);function P(A,e){(null==e||e>A.length)&&(e=A.length);for(var g=0,C=Array(e);g<e;g++)C[g]=A[g];return C}var l=URL.createObjectURL(new Blob([JSON.stringify(u)],{type:"application/json"}));const B=function(A){var e=A.location,g=A.pov,u=A.map,c=A.markerColor,B=void 0===c?"rgba(255, 0, 0, 0.6)":c,w=A.clampToGround,L=A.onUpdate,f=void 0===L?function(){}:L,v=(e||{}).latLng||{},Q=v.lat,E=v.lng,I=v.h,y=void 0===I?0:I,p=(g||{}).heading,d=void 0===p?0:p,m=(0,C.useRef)();return(0,C.useEffect)(function(){var A=new t.Z("streetViewDataSource");return m.current=A,u&&u.dataSources.add(A),function(){null!=u&&u.isDestroyed&&!u.isDestroyed()&&u.dataSources.remove(A),m.current=void 0}},[]),(0,C.useEffect)(function(){if(m.current&&void 0!==Q&&void 0!==E){var A=r.Z.fromDegrees(E,Q,y),e=new n.Z(o.Z.toRadians(d),0,0),g=a.Z.headingPitchRollQuaternion(A,e);if(!m.current.entities.values.length){var C=function(A,e){return function(A){if(Array.isArray(A))return A}(A)||function(A,e){var g=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null!=g){var C,t,r,n,o=[],a=!0,i=!1;try{if(r=(g=g.call(A)).next,0===e){if(Object(g)!==g)return;a=!1}else for(;!(a=(C=r.call(g)).done)&&(o.push(C.value),o.length!==e);a=!0);}catch(A){i=!0,t=A}finally{try{if(!a&&null!=g.return&&(n=g.return(),Object(n)!==n))return}finally{if(i)throw t}}return o}}(A,e)||function(A,e){if(A){if("string"==typeof A)return P(A,e);var g={}.toString.call(A).slice(8,-1);return"Object"===g&&A.constructor&&(g=A.constructor.name),"Map"===g||"Set"===g?Array.from(A):"Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?P(A,e):void 0}}(A,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s()(B).gl(),4),t=C[0],c=C[1],L=C[2],v=C[3];m.current.entities.add({position:A,orientation:g,model:{uri:l,color:new i.Z(t,c,L,v),minimumPixelSize:64,heightReference:w?D.Z.CLAMP_TO_GROUND:D.Z.NONE}})}m.current.entities.values[0].position=A,m.current.entities.values[0].orientation=g,u.scene.requestRender(),f()}},[Q,E,y,d,w]),null}}}]);